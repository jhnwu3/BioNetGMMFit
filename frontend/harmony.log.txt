### Harmony id=KaosesTweaks.harmony, version=2.2.2.0, location=C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.Harmony\bin\Win64_Shipping_Client\0Harmony.dll, env/clr=4.0.30319.42000, platform=Win32NT, ptrsize:runtime/env=8/Bits64, Windows
### Started from virtual System.Void KaosesTweaks.SubModule::OnBeforeInitialModuleScreenSetAsRoot(), location C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\KaosesTweaks\bin\Win64_Shipping_Client\KaosesTweaks.dll
### At 2022-07-22 04.48.42
### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::GetUnitValueForFaction(TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable.GetUnitValueForFaction_Patch1(TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable this, TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Int32
IL_0000: ldc.i4     0
IL_0005: stloc      3 (System.Int32)
IL_0009: // start original
IL_0009: ldc.r4     -1000000
IL_000E: stloc.0
IL_000F: ldarg.1
IL_0010: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0015: brtrue =>  Label0
IL_001A: ldarg.1
IL_001B: castclass  TaleWorlds.CampaignSystem.Clan
IL_0020: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_0025: pop
IL_0026: Label0
IL_0026: ldarg.0
IL_0027: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_002C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0031: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0036: pop
IL_0037: ldarg.0
IL_0038: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_003D: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::get_IsKingdomFaction()
IL_0042: brfalse => Label1
IL_0047: ldarg.1
IL_0048: ldarg.0
IL_0049: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_004E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0053: bne.un =>  Label2
IL_0058: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_005D: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0062: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0067: ldarg.0
IL_0068: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_006D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0072: ldarg.0
IL_0073: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0078: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfClanToJoinKingdom(TaleWorlds.CampaignSystem.Clan clan, TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_007D: stloc.0
IL_007E: ldarg.0
IL_007F: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0084: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0089: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_008E: brfalse => Label3
IL_0093: ldarg.0
IL_0094: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0099: ldarg.0
IL_009A: call       TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalParty()
IL_009F: newobj     System.Void TaleWorlds.CampaignSystem.BarterSystem.Barterables.LeaveKingdomAsClanBarterable::.ctor(TaleWorlds.CampaignSystem.Hero owner, TaleWorlds.CampaignSystem.Party.PartyBase ownerParty)
IL_00A4: ldarg.1
IL_00A5: call       System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::GetValueForFaction(TaleWorlds.CampaignSystem.IFaction faction)
IL_00AA: stloc.1
IL_00AB: ldc.r4     0
IL_00B0: stloc.2
IL_00B1: ldarg.0
IL_00B2: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00B7: ldarg.0
IL_00B8: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00BD: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00C2: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00C7: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::IsAtWarWith(TaleWorlds.CampaignSystem.IFaction other)
IL_00CC: brtrue =>  Label4
IL_00D1: ldarg.0
IL_00D2: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00D7: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00DC: ldarg.0
IL_00DD: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00E2: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00E7: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00EC: callvirt   System.Single TaleWorlds.CampaignSystem.Clan::CalculateTotalSettlementValueForFaction(TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_00F1: stloc.2
IL_00F2: ldloc.0
IL_00F3: ldloc.2
IL_00F4: ldarg.0
IL_00F5: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00FA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Kingdom::get_Leader()
IL_00FF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0104: beq =>     Label5
IL_0109: ldc.r4     1
IL_010E: br =>      Label6
IL_0113: Label5
IL_0113: ldc.r4     0.5
IL_0118: Label6
IL_0118: mul
IL_0119: sub
IL_011A: stloc.0
IL_011B: Label4
IL_011B: ldloc.0
IL_011C: ldloc.1
IL_011D: conv.r4
IL_011E: add
IL_011F: stloc.0
IL_0120: br =>      Label7
IL_0125: Label2
IL_0125: ldarg.1
IL_0126: callvirt   abstract virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.IFaction::get_MapFaction()
IL_012B: ldarg.0
IL_012C: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0131: bne.un =>  Label8
IL_0136: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_013B: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0140: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0145: ldarg.0
IL_0146: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_014B: ldarg.0
IL_014C: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0151: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0156: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfKingdomToGetClan(TaleWorlds.CampaignSystem.Kingdom kingdom, TaleWorlds.CampaignSystem.Clan clan)
IL_015B: stloc.0
IL_015C: Label1
IL_015C: Label3
IL_015C: Label7
IL_015C: Label8
IL_015C: ldloc.0
IL_015D: conv.i4
IL_015E: // end original
IL_015E: stloc      3 (System.Int32)
IL_0162: ldloca     3 (System.Int32)
IL_0166: ldarg      1
IL_016A: ldarg.0
IL_016B: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0170: call       static System.Void KaosesTweaks.Patches.BTBarterablePatches::Postfix(System.Int32& __result, TaleWorlds.CampaignSystem.IFaction factionForEvaluation, TaleWorlds.CampaignSystem.Kingdom ___TargetKingdom)
IL_0175: ldloc      3 (System.Int32)
IL_0179: ret
DONE

### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::GetPlayerMaximumTroopCountForHideoutMission(TaleWorlds.CampaignSystem.Party.MobileParty party)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel.GetPlayerMaximumTroopCountForHideoutMission_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel this, TaleWorlds.CampaignSystem.Party.MobileParty party)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      1 (System.Int32)
IL_0009: ldc.i4     0
IL_000E: stloc      2 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      2 (System.Boolean)
IL_0017: ldloc      2 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     1 (System.Int32)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.BTTroopCountForHidoutMission::Prefix(System.Int32& __result)
IL_0029: stloc      2 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      2 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: ldc.r4     10
IL_003C: stloc.0
IL_003D: ldarg.1
IL_003E: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0043: ldc.i4.0
IL_0044: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::HasPerk(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk, System.Boolean checkSecondaryRole)
IL_0049: brfalse => Label2
IL_004E: ldloc.0
IL_004F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0054: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0059: add
IL_005A: stloc.0
IL_005B: Label2
IL_005B: ldloc.0
IL_005C: call       static System.Int32 TaleWorlds.Library.MathF::Round(System.Single f)
IL_0061: // end original
IL_0061: stloc      1 (System.Int32)
IL_0065: Label0
IL_0065: ldloc      1 (System.Int32)
IL_0069: ret
DONE

### Patch: TaleWorlds.CampaignSystem.ExplainedNumber TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::CalculateMobilePartyMemberSizeLimit(TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
### Note: A buffer for the returned struct is used. That requires an extra IntPtr argument before the first real argument
### Replacement: static System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel.CalculateMobilePartyMemberSizeLimit_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel this, System.IntPtr retbuf, TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: Local var 1: System.Nullable`1<System.Boolean>
IL_0000: Local var 2: System.Boolean
IL_0000: Local var 3: System.Nullable`1<System.Boolean>
IL_0000: Local var 4: System.Int32
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>
IL_0000: Local var 7: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0004: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_000A: // start original
IL_000A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_000C: ldc.r4     20
IL_0011: ldarg.3
IL_0012: ldarg.0
IL_0013: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_baseSizeText
IL_0018: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::.ctor(System.Single baseNumber, System.Boolean includeDescriptions, TaleWorlds.Localization.TextObject baseText)
IL_001D: ldarg.2
IL_001E: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0023: brfalse => Label0
IL_0028: ldarg.2
IL_0029: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_002E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0033: brfalse => Label1
IL_0038: ldarg.2
IL_0039: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_003E: brtrue =>  Label2
IL_0043: ldarg.2
IL_0044: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0049: brfalse => Label3
IL_004E: ldarg.2
IL_004F: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0054: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0059: brfalse => Label4
IL_005E: ldarg.2
IL_005F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0064: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0069: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_006E: ldarg.2
IL_006F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0074: bne.un =>  Label5
IL_0079: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_007B: ldc.r4     20
IL_0080: ldarg.0
IL_0081: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_factionLeaderText
IL_0086: ldnull
IL_0087: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_008C: Label3
IL_008C: Label4
IL_008C: Label5
IL_008C: ldarg.2
IL_008D: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0092: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_0097: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_009C: brfalse => Label6
IL_00A1: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00A3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00A8: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00AD: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00B2: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00B7: ldnull
IL_00B8: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00BD: Label6
IL_00BD: ldarg.2
IL_00BE: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00C3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00C8: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00CD: brfalse => Label7
IL_00D2: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00D4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00D9: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00DE: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00E3: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00E8: ldnull
IL_00E9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00EE: Label7
IL_00EE: ldarg.2
IL_00EF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_00F9: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00FE: brfalse => Label8
IL_0103: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0105: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_010A: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_010F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_0114: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0119: ldnull
IL_011A: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_011F: Label8
IL_011F: ldarg.2
IL_0120: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0125: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_012A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_012F: brfalse => Label9
IL_0134: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0136: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_013B: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0140: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_0145: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_014A: ldnull
IL_014B: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0150: Label9
IL_0150: ldarg.2
IL_0151: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0156: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_015B: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0160: brfalse => Label10
IL_0165: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0167: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_016C: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0171: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_0176: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_017B: ldnull
IL_017C: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0181: Label10
IL_0181: ldarg.2
IL_0182: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0187: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_018C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0191: brfalse => Label11
IL_0196: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0198: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_019D: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01A2: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_01A7: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01AC: ldnull
IL_01AD: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01B2: Label11
IL_01B2: ldarg.2
IL_01B3: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_01B8: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01BD: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_01C2: brfalse => Label12
IL_01C7: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_01C9: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01CE: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01D3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01D8: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01DD: ldnull
IL_01DE: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01E3: Label12
IL_01E3: ldarg.2
IL_01E4: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_01E9: dup
IL_01EA: brtrue =>  Label13
IL_01EF: pop
IL_01F0: ldc.i4.0
IL_01F1: br =>      Label14
IL_01F6: Label13
IL_01F6: call       virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_01FB: dup
IL_01FC: brtrue =>  Label15
IL_0201: pop
IL_0202: ldloca.s   3 (System.Nullable`1[System.Boolean])
IL_0204: initobj    System.Nullable`1[System.Boolean]
IL_020A: ldloc.3
IL_020B: br =>      Label16
IL_0210: Label15
IL_0210: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0215: call       System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_021A: newobj     System.Void System.Nullable`1<System.Boolean>::.ctor(System.Boolean value)
IL_021F: Label16
IL_021F: stloc.1
IL_0220: ldc.i4.1
IL_0221: stloc.2
IL_0222: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_0224: call       System.Boolean System.Nullable`1<System.Boolean>::GetValueOrDefault()
IL_0229: ldloc.2
IL_022A: ceq
IL_022C: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_022E: call       System.Boolean System.Nullable`1<System.Boolean>::get_HasValue()
IL_0233: and
IL_0234: Label14
IL_0234: brfalse => Label17
IL_0239: ldc.i4.0
IL_023A: stloc.s    4 (System.Int32)
IL_023C: ldarg.2
IL_023D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_0242: callvirt   virtual TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.CampaignSystem.Clan::get_Settlements()
IL_0247: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement>::GetEnumerator()
IL_024C: stloc.s    6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
.try
{
	IL_024E: br =>      Label18
	IL_0253: Label20
	IL_0253: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0255: call       virtual TaleWorlds.CampaignSystem.Settlements.Settlement System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::get_Current()
	IL_025A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Settlements.Settlement::get_IsTown()
	IL_025F: brfalse => Label19
	IL_0264: ldloc.s    4 (System.Int32)
	IL_0266: ldc.i4.1
	IL_0267: add
	IL_0268: stloc.s    4 (System.Int32)
	IL_026A: Label18
	IL_026A: Label19
	IL_026A: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_026C: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::MoveNext()
	IL_0271: brtrue =>  Label20
	IL_0276: leave =>   Label21
	IL_027B: leave =>   (autogenerated)
} // end try
.finally
{
	IL_0280: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0282: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement]
	IL_0288: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_028D: endfinally
	IL_028E: leave =>   (autogenerated)
} // end handler
IL_028F: Label21
IL_028F: ldloc.s    4 (System.Int32)
IL_0291: conv.r4
IL_0292: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0297: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_029C: mul
IL_029D: stloc.s    5 (System.Single)
IL_029F: ldloc.s    5 (System.Single)
IL_02A1: ldc.r4     0
IL_02A6: ble.un =>  Label22
IL_02AB: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_02AD: ldloc.s    5 (System.Single)
IL_02AF: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_02B4: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_02B9: ldnull
IL_02BA: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_02BF: Label17
IL_02BF: Label22
IL_02BF: ldarg.2
IL_02C0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02C5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02CA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_02CF: ldarg.2
IL_02D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02D5: bne.un =>  Label23
IL_02DA: ldarg.2
IL_02DB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02E0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02E5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_02EA: ldc.i4.5
IL_02EB: blt =>     Label24
IL_02F0: ldarg.2
IL_02F1: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_02F6: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_02FB: brfalse => Label25
IL_0300: ldarg.2
IL_0301: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0306: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_030B: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_0310: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_0315: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_031A: brfalse => Label26
IL_031F: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0321: ldc.r4     40
IL_0326: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_032B: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0330: ldnull
IL_0331: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0336: Label24
IL_0336: Label25
IL_0336: Label26
IL_0336: ldarg.2
IL_0337: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_033C: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0341: brfalse => Label27
IL_0346: ldarg.2
IL_0347: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_034C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0351: ldarg.2
IL_0352: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0357: bne.un =>  Label28
IL_035C: ldarg.2
IL_035D: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0362: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_0367: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_036C: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0371: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_0376: brfalse => Label29
IL_037B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_037D: ldc.r4     60
IL_0382: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0387: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_038C: ldnull
IL_038D: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0392: Label27
IL_0392: Label28
IL_0392: Label29
IL_0392: ldarg.2
IL_0393: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0398: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_039D: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03A2: ldc.i4.0
IL_03A3: ble =>     Label30
IL_03A8: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03AA: ldarg.2
IL_03AB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03B0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03B5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03BA: ldc.i4.s   25
IL_03BC: mul
IL_03BD: conv.r4
IL_03BE: ldarg.0
IL_03BF: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_03C4: ldnull
IL_03C5: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_03CA: br =>      Label31
IL_03CF: Label23
IL_03CF: ldarg.2
IL_03D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03D5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03DA: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03DF: ldc.i4.0
IL_03E0: ble =>     Label32
IL_03E5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03E7: ldarg.2
IL_03E8: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03ED: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03F2: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03F7: ldc.i4.s   15
IL_03F9: mul
IL_03FA: conv.r4
IL_03FB: ldarg.0
IL_03FC: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_0401: ldnull
IL_0402: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0407: Label30
IL_0407: Label31
IL_0407: Label32
IL_0407: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0409: ldarg.2
IL_040A: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_EffectiveQuartermaster()
IL_040F: call       static TaleWorlds.Core.SkillObject TaleWorlds.Core.DefaultSkills::get_Steward()
IL_0414: callvirt   System.Int32 TaleWorlds.CampaignSystem.Hero::GetSkillValue(TaleWorlds.Core.SkillObject skill)
IL_0419: ldc.i4.4
IL_041A: div
IL_041B: conv.r4
IL_041C: ldarg.0
IL_041D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_quarterMasterText
IL_0422: ldnull
IL_0423: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0428: ldarg.0
IL_0429: ldarg.2
IL_042A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_042C: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddMobilePartyLeaderPartySizePerkEffects(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_0431: ldarg.0
IL_0432: ldarg.2
IL_0433: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0435: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddUltimateLeaderPerkEffectForPartySize(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_043A: ldsfld     System.Boolean TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_addAdditionalPartySizeAsCheat
IL_043F: brfalse => Label33
IL_0444: ldarg.2
IL_0445: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsMainParty()
IL_044A: brfalse => Label34
IL_044F: call       static TaleWorlds.Core.Game TaleWorlds.Core.Game::get_Current()
IL_0454: callvirt   System.Boolean TaleWorlds.Core.Game::get_CheatMode()
IL_0459: brfalse => Label35
IL_045E: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0460: ldc.r4     5000
IL_0465: ldstr      "{=!}Additional size from extra party cheat"
IL_046A: ldnull
IL_046B: newobj     System.Void TaleWorlds.Localization.TextObject::.ctor(System.String value, System.Collections.Generic.Dictionary`2<System.String, System.Object> attributes)
IL_0470: ldnull
IL_0471: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0476: br =>      Label36
IL_047B: Label0
IL_047B: Label1
IL_047B: Label2
IL_047B: ldarg.2
IL_047C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_0481: brfalse => Label37
IL_0486: ldarg.2
IL_0487: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_048C: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_0491: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0496: bne.un =>  Label38
IL_049B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_049D: ldc.r4     10
IL_04A2: ldarg.0
IL_04A3: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_04A8: ldnull
IL_04A9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_04AE: br =>      Label39
IL_04B3: Label38
IL_04B3: ldarg.2
IL_04B4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04B9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04BE: dup
IL_04BF: brtrue =>  Label40
IL_04C4: pop
IL_04C5: ldc.i4.0
IL_04C6: br =>      Label41
IL_04CB: Label40
IL_04CB: call       System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsNotable()
IL_04D0: Label41
IL_04D0: brfalse => Label42
IL_04D5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_04D7: ldc.i4.s   10
IL_04D9: ldarg.2
IL_04DA: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04DF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04E4: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_04E9: ldc.r4     100
IL_04EE: blt =>     Label43
IL_04F3: ldarg.2
IL_04F4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04F9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04FE: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_0503: ldc.r4     200
IL_0508: blt =>     Label44
IL_050D: ldc.i4.3
IL_050E: br =>      Label45
IL_0513: Label44
IL_0513: ldc.i4.2
IL_0514: br =>      Label46
IL_0519: Label43
IL_0519: ldc.i4.1
IL_051A: Label45
IL_051A: Label46
IL_051A: mul
IL_051B: conv.r4
IL_051C: ldarg.0
IL_051D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0522: ldnull
IL_0523: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0528: br =>      Label47
IL_052D: Label37
IL_052D: ldarg.2
IL_052E: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_0533: brfalse => Label48
IL_0538: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_053A: ldc.r4     40
IL_053F: ldarg.0
IL_0540: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0545: ldnull
IL_0546: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_054B: Label33
IL_054B: Label34
IL_054B: Label35
IL_054B: Label36
IL_054B: Label39
IL_054B: Label42
IL_054B: Label47
IL_054B: Label48
IL_054B: ldloc.0
IL_054C: // end original
IL_054C: stloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0550: ldarg      2
IL_0554: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0558: call       static System.Void KaosesTweaks.Patches.DefaultPartySizeLimitModelPatch::Postfix(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& __result)
IL_055D: ldloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0561: ldloca     8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0565: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_056B: stloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_056F: ldarg.1
IL_0570: ldloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0574: stobj      TaleWorlds.CampaignSystem.ExplainedNumber
IL_0579: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Party.MobileParty::FillPartyStacks(TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Party.MobileParty::TaleWorlds.CampaignSystem.Party.MobileParty.FillPartyStacks_Patch1(TaleWorlds.CampaignSystem.Party.MobileParty this, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Single
IL_0000: Local var 4: System.Single
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Single
IL_0000: Local var 7: System.Single
IL_0000: Local var 8: System.Single
IL_0000: Local var 9: System.Single
IL_0000: Local var 10: System.Single
IL_0000: Local var 11: System.Int32
IL_0000: Local var 12: System.Int32
IL_0000: Local var 13: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 14: System.Int32
IL_0000: Local var 15: System.Int32
IL_0000: Local var 16: System.Single
IL_0000: Local var 17: System.Single
IL_0000: Local var 18: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 19: System.Int32
IL_0000: Local var 20: System.Int32
IL_0000: Local var 21: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      21 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      21 (System.Boolean)
IL_000E: ldloc      21 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg      1
IL_001F: ldarg      2
IL_0023: call       static System.Boolean KaosesTweaks.Patches.TitanFillPartyStacksPatch::Prefix(TaleWorlds.CampaignSystem.Party.MobileParty& __instance, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0028: stloc      21 (System.Boolean)
IL_002C: Label1
IL_002C: nop
IL_002D: ldloc      21 (System.Boolean)
IL_0031: brfalse => Label0
IL_0036: // start original
IL_0036: ldarg.0
IL_0037: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsBandit()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0046: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_004B: stloc.0
IL_004C: ldc.r4     0.4
IL_0051: ldc.r4     0.8
IL_0056: ldloc.0
IL_0057: mul
IL_0058: add
IL_0059: stloc.1
IL_005A: ldc.i4.2
IL_005B: call       static System.Int32 TaleWorlds.Core.MBRandom::RandomInt(System.Int32 maxValue)
IL_0060: dup
IL_0061: brfalse => Label3
IL_0066: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_006B: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0070: mul
IL_0071: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0076: mul
IL_0077: ldc.r4     4
IL_007C: mul
IL_007D: br =>      Label4
IL_0082: Label3
IL_0082: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0087: Label4
IL_0087: stloc.2
IL_0088: brfalse => Label5
IL_008D: ldc.r4     1
IL_0092: ldloc.2
IL_0093: add
IL_0094: br =>      Label6
IL_0099: Label5
IL_0099: ldloc.2
IL_009A: ldc.r4     0.8
IL_009F: mul
IL_00A0: ldc.r4     0.2
IL_00A5: add
IL_00A6: Label6
IL_00A6: stloc.3
IL_00A7: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00AC: stloc.s    4 (System.Single)
IL_00AE: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00B3: stloc.s    5 (System.Single)
IL_00B5: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00BA: stloc.s    6 (System.Single)
IL_00BC: ldarg.1
IL_00BD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00C2: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_00C7: ldc.i4.0
IL_00C8: bgt =>     Label7
IL_00CD: ldc.r4     0
IL_00D2: br =>      Label8
IL_00D7: Label7
IL_00D7: ldarg.1
IL_00D8: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00DD: ldc.i4.0
IL_00DE: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00E3: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_00E8: conv.r4
IL_00E9: ldloc.1
IL_00EA: ldloc.3
IL_00EB: mul
IL_00EC: ldloc.s    4 (System.Single)
IL_00EE: mul
IL_00EF: ldarg.1
IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00F5: ldc.i4.0
IL_00F6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00FB: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0100: ldarg.1
IL_0101: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0106: ldc.i4.0
IL_0107: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_010C: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0111: sub
IL_0112: conv.r4
IL_0113: mul
IL_0114: add
IL_0115: Label8
IL_0115: stloc.s    7 (System.Single)
IL_0117: ldarg.1
IL_0118: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_011D: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0122: ldc.i4.1
IL_0123: bgt =>     Label9
IL_0128: ldc.r4     0
IL_012D: br =>      Label10
IL_0132: Label9
IL_0132: ldarg.1
IL_0133: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0138: ldc.i4.1
IL_0139: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_013E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0143: conv.r4
IL_0144: ldloc.1
IL_0145: ldloc.3
IL_0146: mul
IL_0147: ldloc.s    5 (System.Single)
IL_0149: mul
IL_014A: ldarg.1
IL_014B: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0150: ldc.i4.1
IL_0151: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0156: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_015B: ldarg.1
IL_015C: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0161: ldc.i4.1
IL_0162: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0167: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_016C: sub
IL_016D: conv.r4
IL_016E: mul
IL_016F: add
IL_0170: Label10
IL_0170: stloc.s    8 (System.Single)
IL_0172: ldarg.1
IL_0173: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0178: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_017D: ldc.i4.2
IL_017E: bgt =>     Label11
IL_0183: ldc.r4     0
IL_0188: br =>      Label12
IL_018D: Label11
IL_018D: ldarg.1
IL_018E: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0193: ldc.i4.2
IL_0194: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0199: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_019E: conv.r4
IL_019F: ldloc.1
IL_01A0: ldloc.3
IL_01A1: mul
IL_01A2: ldloc.s    6 (System.Single)
IL_01A4: mul
IL_01A5: ldarg.1
IL_01A6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01AB: ldc.i4.2
IL_01AC: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01B1: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_01B6: ldarg.1
IL_01B7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01BC: ldc.i4.2
IL_01BD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01C2: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_01C7: sub
IL_01C8: conv.r4
IL_01C9: mul
IL_01CA: add
IL_01CB: Label12
IL_01CB: stloc.s    9 (System.Single)
IL_01CD: ldarg.0
IL_01CE: ldarg.1
IL_01CF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01D4: ldc.i4.0
IL_01D5: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01DA: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_01DF: ldloc.s    7 (System.Single)
IL_01E1: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_01E6: ldc.i4.0
IL_01E7: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_01EC: pop
IL_01ED: ldarg.1
IL_01EE: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01F3: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_01F8: ldc.i4.1
IL_01F9: ble =>     Label13
IL_01FE: ldarg.0
IL_01FF: ldarg.1
IL_0200: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0205: ldc.i4.1
IL_0206: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_020B: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0210: ldloc.s    8 (System.Single)
IL_0212: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0217: ldc.i4.0
IL_0218: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_021D: pop
IL_021E: Label13
IL_021E: ldarg.1
IL_021F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0224: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0229: ldc.i4.2
IL_022A: ble =>     Label14
IL_022F: ldarg.0
IL_0230: ldarg.1
IL_0231: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0236: ldc.i4.2
IL_0237: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_023C: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0241: ldloc.s    9 (System.Single)
IL_0243: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0248: ldc.i4.0
IL_0249: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_024E: pop
IL_024F: br =>      Label39
IL_0254: Label2
IL_0254: ldarg.2
IL_0255: ldc.i4.0
IL_0256: bge =>     Label15
IL_025B: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0260: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_0265: stloc.s    10 (System.Single)
IL_0267: ldc.i4.0
IL_0268: stloc.s    11 (System.Int32)
IL_026A: br =>      Label16
IL_026F: Label17
IL_026F: ldloc.s    10 (System.Single)
IL_0271: ldarg.1
IL_0272: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0277: ldloc.s    11 (System.Int32)
IL_0279: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_027E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0283: ldarg.1
IL_0284: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0289: ldloc.s    11 (System.Int32)
IL_028B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0290: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0295: sub
IL_0296: conv.r4
IL_0297: mul
IL_0298: conv.i4
IL_0299: ldarg.1
IL_029A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_029F: ldloc.s    11 (System.Int32)
IL_02A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02A6: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_02AB: add
IL_02AC: stloc.s    12 (System.Int32)
IL_02AE: ldarg.1
IL_02AF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02B4: ldloc.s    11 (System.Int32)
IL_02B6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02BB: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_02C0: stloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C2: ldarg.0
IL_02C3: ldloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C5: ldloc.s    12 (System.Int32)
IL_02C7: ldc.i4.0
IL_02C8: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_02CD: pop
IL_02CE: ldloc.s    11 (System.Int32)
IL_02D0: ldc.i4.1
IL_02D1: add
IL_02D2: stloc.s    11 (System.Int32)
IL_02D4: Label16
IL_02D4: ldloc.s    11 (System.Int32)
IL_02D6: ldarg.1
IL_02D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02DC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_02E1: blt =>     Label17
IL_02E6: br =>      Label40
IL_02EB: Label15
IL_02EB: ldc.i4.0
IL_02EC: stloc.s    14 (System.Int32)
IL_02EE: br =>      Label18
IL_02F3: Label38
IL_02F3: ldc.i4.m1
IL_02F4: stloc.s    15 (System.Int32)
IL_02F6: ldc.r4     0
IL_02FB: stloc.s    16 (System.Single)
IL_02FD: ldc.i4.0
IL_02FE: stloc.s    19 (System.Int32)
IL_0300: br =>      Label19
IL_0305: Label26
IL_0305: ldloc.s    16 (System.Single)
IL_0307: ldarg.0
IL_0308: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_030D: brfalse => Label20
IL_0312: ldarg.1
IL_0313: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0318: ldloc.s    19 (System.Int32)
IL_031A: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_031F: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0324: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_0329: brtrue =>  Label21
IL_032E: Label20
IL_032E: ldarg.0
IL_032F: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_0334: brfalse => Label22
IL_0339: ldarg.1
IL_033A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_033F: ldloc.s    19 (System.Int32)
IL_0341: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0346: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_034B: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0350: brfalse => Label23
IL_0355: Label22
IL_0355: ldc.r4     1
IL_035A: br =>      Label24
IL_035F: Label23
IL_035F: ldc.r4     2
IL_0364: br =>      Label25
IL_0369: Label21
IL_0369: ldc.r4     6
IL_036E: Label24
IL_036E: Label25
IL_036E: ldarg.1
IL_036F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0374: ldloc.s    19 (System.Int32)
IL_0376: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_037B: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0380: ldarg.1
IL_0381: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0386: ldloc.s    19 (System.Int32)
IL_0388: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_038D: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0392: add
IL_0393: conv.r4
IL_0394: ldc.r4     2
IL_0399: div
IL_039A: mul
IL_039B: add
IL_039C: stloc.s    16 (System.Single)
IL_039E: ldloc.s    19 (System.Int32)
IL_03A0: ldc.i4.1
IL_03A1: add
IL_03A2: stloc.s    19 (System.Int32)
IL_03A4: Label19
IL_03A4: ldloc.s    19 (System.Int32)
IL_03A6: ldarg.1
IL_03A7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03AC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_03B1: blt =>     Label26
IL_03B6: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_03BB: ldloc.s    16 (System.Single)
IL_03BD: mul
IL_03BE: stloc.s    17 (System.Single)
IL_03C0: ldc.i4.0
IL_03C1: stloc.s    20 (System.Int32)
IL_03C3: br =>      Label27
IL_03C8: Label36
IL_03C8: ldloc.s    17 (System.Single)
IL_03CA: ldarg.0
IL_03CB: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03D0: brfalse => Label28
IL_03D5: ldarg.1
IL_03D6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03DB: ldloc.s    20 (System.Int32)
IL_03DD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_03E2: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_03E7: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_03EC: brtrue =>  Label29
IL_03F1: Label28
IL_03F1: ldarg.0
IL_03F2: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03F7: brfalse => Label30
IL_03FC: ldarg.1
IL_03FD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0402: ldloc.s    20 (System.Int32)
IL_0404: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0409: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_040E: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0413: brfalse => Label31
IL_0418: Label30
IL_0418: ldc.r4     1
IL_041D: br =>      Label32
IL_0422: Label31
IL_0422: ldc.r4     2
IL_0427: br =>      Label33
IL_042C: Label29
IL_042C: ldc.r4     6
IL_0431: Label32
IL_0431: Label33
IL_0431: ldarg.1
IL_0432: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0437: ldloc.s    20 (System.Int32)
IL_0439: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_043E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0443: ldarg.1
IL_0444: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0449: ldloc.s    20 (System.Int32)
IL_044B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0450: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0455: add
IL_0456: conv.r4
IL_0457: ldc.r4     2
IL_045C: div
IL_045D: mul
IL_045E: sub
IL_045F: stloc.s    17 (System.Single)
IL_0461: ldloc.s    17 (System.Single)
IL_0463: ldc.r4     0
IL_0468: bge.un =>  Label34
IL_046D: ldloc.s    20 (System.Int32)
IL_046F: stloc.s    15 (System.Int32)
IL_0471: br =>      Label35
IL_0476: Label34
IL_0476: ldloc.s    20 (System.Int32)
IL_0478: ldc.i4.1
IL_0479: add
IL_047A: stloc.s    20 (System.Int32)
IL_047C: Label27
IL_047C: ldloc.s    20 (System.Int32)
IL_047E: ldarg.1
IL_047F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0484: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0489: blt =>     Label36
IL_048E: Label35
IL_048E: ldloc.s    15 (System.Int32)
IL_0490: ldc.i4.0
IL_0491: bge =>     Label37
IL_0496: ldc.i4.0
IL_0497: stloc.s    15 (System.Int32)
IL_0499: Label37
IL_0499: ldarg.1
IL_049A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_049F: ldloc.s    15 (System.Int32)
IL_04A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_04A6: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_04AB: stloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04AD: ldarg.0
IL_04AE: ldloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04B0: ldc.i4.1
IL_04B1: ldc.i4.0
IL_04B2: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_04B7: pop
IL_04B8: ldloc.s    14 (System.Int32)
IL_04BA: ldc.i4.1
IL_04BB: add
IL_04BC: stloc.s    14 (System.Int32)
IL_04BE: Label18
IL_04BE: ldloc.s    14 (System.Int32)
IL_04C0: ldarg.2
IL_04C1: blt =>     Label38
IL_04C6: ldarg.0
IL_04C7: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_04CC: pop
IL_04CD: // end original
IL_04CD: Label14
IL_04CD: Label39
IL_04CD: Label40
IL_04CD: Label0
IL_04CD: ret
DONE

### Patch: System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_player_can_open_courtship_on_condition()
### Replacement: static System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_player_can_open_courtship_on_condition_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: System.Boolean
IL_0000: Local var 1: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4     0
IL_000E: stloc      1 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      1 (System.Boolean)
IL_0017: ldloc      1 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     0 (System.Boolean)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix1(System.Boolean& __result)
IL_0029: stloc      1 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      1 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0046: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_004B: dup
IL_004C: brtrue =>  Label3
IL_0051: pop
IL_0052: ldc.i4.0
IL_0053: br =>      Label4
IL_0058: Label3
IL_0058: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsMinorFaction()
IL_005D: Label4
IL_005D: brtrue =>  Label5
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0067: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsPrisoner()
IL_006C: brfalse => Label6
IL_0071: Label2
IL_0071: Label5
IL_0071: ldc.i4.0
IL_0072: br =>      Label15
IL_0077: Label6
IL_0077: ldarg.0
IL_0078: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007D: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0082: call       System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::MarriageCourtshipPossibility(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0087: brfalse => Label7
IL_008C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_009B: brtrue =>  Label8
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_00AA: brfalse => Label9
IL_00AF: ldstr      "FLIRTATION_LINE"
IL_00B4: ldstr      "{=bjJs0eeB}My lord, I note that you have not yet taken a wife."
IL_00B9: ldc.i4.0
IL_00BA: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00BF: br =>      Label10
IL_00C4: Label9
IL_00C4: ldstr      "FLIRTATION_LINE"
IL_00C9: ldstr      "{=v1hC6Aem}My lady, I wish to profess myself your most ardent admirer."
IL_00CE: ldc.i4.0
IL_00CF: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00D4: Label10
IL_00D4: ldc.i4.1
IL_00D5: br =>      Label16
IL_00DA: Label7
IL_00DA: Label8
IL_00DA: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00DF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00E4: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00E9: ldc.i4.1
IL_00EA: beq =>     Label11
IL_00EF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00F9: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00FE: ldc.i4.2
IL_00FF: bne.un =>  Label12
IL_0104: Label11
IL_0104: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0109: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_010E: brfalse => Label13
IL_0113: ldstr      "FLIRTATION_LINE"
IL_0118: ldstr      "{=2WnhUBMM}My lord, may you give me another chance to prove myself?"
IL_011D: ldc.i4.0
IL_011E: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0123: br =>      Label14
IL_0128: Label13
IL_0128: ldstr      "FLIRTATION_LINE"
IL_012D: ldstr      "{=4iTaEZKg}My lady, may you give me another chance to prove myself?"
IL_0132: ldc.i4.0
IL_0133: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0138: Label14
IL_0138: ldc.i4.1
IL_0139: br =>      Label17
IL_013E: Label12
IL_013E: ldc.i4.0
IL_013F: // end original
IL_013F: Label15
IL_013F: Label16
IL_013F: Label17
IL_013F: stloc      0 (System.Boolean)
IL_0143: Label0
IL_0143: ldloc      0 (System.Boolean)
IL_0147: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_start_courtship_persuasion_pt1_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_start_courtship_persuasion_pt1_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix2(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_005C: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0061: ldc.i4.3
IL_0062: bne.un =>  Label2
IL_0067: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: ldc.i4.4
IL_0072: call       static System.Void TaleWorlds.CampaignSystem.Actions.ChangeRomanticStateAction::Apply(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2, TaleWorlds.CampaignSystem.RomanceLevelEnum toWhat)
IL_0077: Label2
IL_0077: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0081: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0086: stloc.0
IL_0087: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_008C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_009B: bne.un =>  Label3
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: stloc.0
IL_00A6: Label3
IL_00A6: ldarg.0
IL_00A7: ldarg.0
IL_00A8: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00AD: ldloc.0
IL_00AE: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage1(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_00B3: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B8: ldarg.0
IL_00B9: ldarg.0
IL_00BA: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00BF: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_00C4: conv.r4
IL_00C5: ldc.r4     1
IL_00CA: mul
IL_00CB: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00D0: ldc.r4     0
IL_00D5: stloc.1
IL_00D6: ldarg.0
IL_00D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00DC: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00E1: stloc.2
.try
{
	IL_00E2: br =>      Label4
	IL_00E7: Label17
	IL_00E7: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00E9: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00EE: stloc.3
	IL_00EF: ldarg.0
	IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00F5: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00FA: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00FC: br =>      Label5
		IL_0101: Label15
		IL_0101: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0103: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_0108: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010A: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_0111: ldloc.3
		IL_0112: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_0117: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_011C: brfalse => Label6
		IL_0121: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_0123: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0128: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012A: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012C: switch =>  Labels7,8,9,10
		IL_0141: br =>      Label11
		IL_0146: Label9
		IL_0146: ldloc.1
		IL_0147: ldarg.0
		IL_0148: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_014D: add
		IL_014E: stloc.1
		IL_014F: br =>      Label12
		IL_0154: Label10
		IL_0154: ldloc.1
		IL_0155: ldarg.0
		IL_0156: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_015B: add
		IL_015C: stloc.1
		IL_015D: br =>      Label13
		IL_0162: Label7
		IL_0162: ldloc.1
		IL_0163: ldarg.0
		IL_0164: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0169: sub
		IL_016A: stloc.1
		IL_016B: br =>      Label14
		IL_0170: Label8
		IL_0170: ldloc.1
		IL_0171: ldc.r4     0
		IL_0176: sub
		IL_0177: stloc.1
		IL_0178: Label5
		IL_0178: Label6
		IL_0178: Label11
		IL_0178: Label12
		IL_0178: Label13
		IL_0178: Label14
		IL_0178: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_017F: brtrue =>  Label15
		IL_0184: leave =>   Label16
		IL_0189: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_018E: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_019B: endfinally
		IL_019C: leave =>   (autogenerated)
	} // end handler
	IL_019D: Label4
	IL_019D: Label16
	IL_019D: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_019F: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_01A4: brtrue =>  Label17
	IL_01A9: leave =>   Label18
	IL_01AE: leave =>   (autogenerated)
} // end try
.finally
{
	IL_01B3: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_01B5: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_01BB: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_01C0: endfinally
	IL_01C1: leave =>   (autogenerated)
} // end handler
IL_01C2: Label18
IL_01C2: ldarg.0
IL_01C3: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01C8: ldarg.0
IL_01C9: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01CE: ldarg.0
IL_01CF: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01D4: ldarg.0
IL_01D5: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01DA: ldarg.0
IL_01DB: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01E0: ldarg.0
IL_01E1: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01E6: ldloc.1
IL_01E7: ldc.i4.3
IL_01E8: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01ED: // end original
IL_01ED: Label0
IL_01ED: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_continue_courtship_stage_2_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_continue_courtship_stage_2_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix3(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_005C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0061: stloc.0
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0067: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0076: bne.un =>  Label2
IL_007B: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0080: stloc.0
IL_0081: Label2
IL_0081: ldarg.0
IL_0082: ldarg.0
IL_0083: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0088: ldloc.0
IL_0089: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage2(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_008E: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0093: ldarg.0
IL_0094: ldarg.0
IL_0095: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_009A: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_009F: conv.r4
IL_00A0: ldc.r4     1
IL_00A5: mul
IL_00A6: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00AB: ldc.r4     0
IL_00B0: stloc.1
IL_00B1: ldarg.0
IL_00B2: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B7: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00BC: stloc.2
.try
{
	IL_00BD: br =>      Label3
	IL_00C2: Label16
	IL_00C2: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00C4: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00C9: stloc.3
	IL_00CA: ldarg.0
	IL_00CB: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00D0: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00D5: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00D7: br =>      Label4
		IL_00DC: Label14
		IL_00DC: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_00DE: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_00E3: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E5: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E7: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_00EC: ldloc.3
		IL_00ED: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_00F2: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_00F7: brfalse => Label5
		IL_00FC: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00FE: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0103: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0105: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0107: switch =>  Labels6,7,8,9
		IL_011C: br =>      Label10
		IL_0121: Label8
		IL_0121: ldloc.1
		IL_0122: ldarg.0
		IL_0123: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_0128: add
		IL_0129: stloc.1
		IL_012A: br =>      Label11
		IL_012F: Label9
		IL_012F: ldloc.1
		IL_0130: ldarg.0
		IL_0131: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_0136: add
		IL_0137: stloc.1
		IL_0138: br =>      Label12
		IL_013D: Label6
		IL_013D: ldloc.1
		IL_013E: ldarg.0
		IL_013F: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0144: sub
		IL_0145: stloc.1
		IL_0146: br =>      Label13
		IL_014B: Label7
		IL_014B: ldloc.1
		IL_014C: ldc.r4     0
		IL_0151: sub
		IL_0152: stloc.1
		IL_0153: Label4
		IL_0153: Label5
		IL_0153: Label10
		IL_0153: Label11
		IL_0153: Label12
		IL_0153: Label13
		IL_0153: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0155: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_015A: brtrue =>  Label14
		IL_015F: leave =>   Label15
		IL_0164: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_0169: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_016B: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0171: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_0176: endfinally
		IL_0177: leave =>   (autogenerated)
	} // end handler
	IL_0178: Label3
	IL_0178: Label15
	IL_0178: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_017F: brtrue =>  Label16
	IL_0184: leave =>   Label17
	IL_0189: leave =>   (autogenerated)
} // end try
.finally
{
	IL_018E: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_019B: endfinally
	IL_019C: leave =>   (autogenerated)
} // end handler
IL_019D: Label17
IL_019D: ldarg.0
IL_019E: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01A3: ldarg.0
IL_01A4: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01A9: ldarg.0
IL_01AA: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01AF: ldarg.0
IL_01B0: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01B5: ldarg.0
IL_01B6: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01BB: ldarg.0
IL_01BC: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01C1: ldloc.1
IL_01C2: ldc.i4.3
IL_01C3: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01C8: // end original
IL_01C8: Label0
IL_01C8: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Hero::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Hero::TaleWorlds.CampaignSystem.Hero.AddSkillXp_Patch1(TaleWorlds.CampaignSystem.Hero this, TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
IL_0000: Local var 0: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      0 (System.Boolean)
IL_000E: ldloc      0 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarg.0
IL_0018: ldarg      1
IL_001C: ldarga     2
IL_0020: call       static System.Void KaosesTweaks.Patches.Patches::Prefix(TaleWorlds.CampaignSystem.Hero __instance, TaleWorlds.Core.SkillObject skill, System.Single& xpAmount)
IL_0025: Label1
IL_0025: nop
IL_0026: ldloc      0 (System.Boolean)
IL_002A: brfalse => Label0
IL_002F: // start original
IL_002F: ldarg.0
IL_0030: ldfld      TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper TaleWorlds.CampaignSystem.Hero::_heroDeveloper
IL_0035: dup
IL_0036: brtrue =>  Label2
IL_003B: pop
IL_003C: br =>      Label3
IL_0041: Label2
IL_0041: ldarg.1
IL_0042: ldarg.2
IL_0043: ldc.i4.1
IL_0044: ldc.i4.1
IL_0045: callvirt   abstract virtual System.Void TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single rawXp, System.Boolean isAffectedByFocusFactor, System.Boolean shouldNotify)
IL_004A: // end original
IL_004A: Label3
IL_004A: Label0
IL_004A: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
### Replacement: static System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM..ctor_Patch1(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM this, TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
IL_0000: Local var 0: TaleWorlds.Core.EquipmentElement
IL_0000: Local var 1: System.Nullable`1<TaleWorlds.Core.EquipmentIndex>
IL_0000: Local var 2: TaleWorlds.Core.EquipmentIndex
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldc.i4.s   -5
IL_0003: stfld      System.Int32 TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_profitType
IL_0008: ldarg.0
IL_0009: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::.ctor()
IL_000E: ldarga.s   5
IL_0010: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0015: stloc.0
IL_0016: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0018: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_001D: brtrue =>  Label0
IL_0022: br =>      Label16
IL_0027: Label0
IL_0027: ldarg.0
IL_0028: ldarg.s    7
IL_002A: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_fiveStackShortcutKeyText
IL_002F: ldarg.0
IL_0030: ldarg.s    8
IL_0032: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_entireStackShortcutKeyText
IL_0037: ldarg.0
IL_0038: ldarg.s    4
IL_003A: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryMode TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_usageType
IL_003F: ldarg.0
IL_0040: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0045: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_004A: dup
IL_004B: brtrue =>  Label1
IL_0050: pop
IL_0051: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0056: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_0(TaleWorlds.CampaignSystem.Concept c)
IL_005C: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0061: dup
IL_0062: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_0067: Label1
IL_0067: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_006C: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_tradeGoodConceptObj
IL_0071: ldarg.0
IL_0072: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0077: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_007C: dup
IL_007D: brtrue =>  Label2
IL_0082: pop
IL_0083: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0088: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_1(TaleWorlds.CampaignSystem.Concept c)
IL_008E: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0093: dup
IL_0094: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_0099: Label2
IL_0099: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_009E: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_itemConceptObj
IL_00A3: ldarg.0
IL_00A4: ldarg.1
IL_00A5: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_00AA: ldarg.0
IL_00AB: ldarga.s   5
IL_00AD: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00B2: ldarga.s   5
IL_00B4: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00B9: newobj     System.Void TaleWorlds.Core.ItemRosterElement::.ctor(TaleWorlds.Core.EquipmentElement equipmentElement, System.Int32 amount)
IL_00BE: stfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_00C3: ldarg.0
IL_00C4: ldarg.s    9
IL_00C6: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemCost(System.Int32 value)
IL_00CB: ldarg.0
IL_00CC: ldarga.s   5
IL_00CE: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00D3: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemCount(System.Int32 value)
IL_00D8: ldarg.0
IL_00D9: ldc.i4.1
IL_00DA: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TransactionCount(System.Int32 value)
IL_00DF: ldarg.0
IL_00E0: ldarga.s   5
IL_00E2: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00E7: stloc.0
IL_00E8: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_00EA: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_00EF: callvirt   System.Int32 TaleWorlds.Core.ItemObject::get_Difficulty()
IL_00F4: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemLevel(System.Int32 value)
IL_00F9: ldarg.0
IL_00FA: ldarg.s    6
IL_00FC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_InventorySide(TaleWorlds.CampaignSystem.Inventory.InventorySide value)
IL_0101: ldarga.s   10
IL_0103: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0108: brfalse => Label3
IL_010D: ldarg.s    10
IL_010F: stloc.1
IL_0110: ldc.i4.m1
IL_0111: stloc.2
IL_0112: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_0114: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::GetValueOrDefault()
IL_0119: ldloc.2
IL_011A: ceq
IL_011C: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_011E: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0123: and
IL_0124: brtrue =>  Label4
IL_0129: ldarg.0
IL_012A: ldarga.s   10
IL_012C: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_Value()
IL_0131: stfld      TaleWorlds.Core.EquipmentIndex TaleWorlds.Core.ViewModelCollection.ItemVM::_itemType
IL_0136: Label3
IL_0136: Label4
IL_0136: ldarg.0
IL_0137: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::SetItemTypeId()
IL_013C: ldarg.0
IL_013D: ldarga.s   5
IL_013F: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0144: stloc.0
IL_0145: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0147: call       TaleWorlds.Localization.TextObject TaleWorlds.Core.EquipmentElement::GetModifiedItemName()
IL_014C: callvirt   virtual System.String System.Object::ToString()
IL_0151: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemDescription(System.String value)
IL_0156: ldarg.0
IL_0157: ldarga.s   5
IL_0159: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_015E: call       static System.String TaleWorlds.CampaignSystem.ViewModelCollection.CampaignUIHelper::GetItemLockStringID(TaleWorlds.Core.EquipmentElement equipmentElement)
IL_0163: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_StringId(System.String value)
IL_0168: ldarg.0
IL_0169: ldarga.s   5
IL_016B: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0170: stloc.0
IL_0171: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0173: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0178: call       static TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Clan::get_PlayerClan()
IL_017D: dup
IL_017E: brtrue =>  Label5
IL_0183: pop
IL_0184: ldnull
IL_0185: br =>      Label6
IL_018A: Label5
IL_018A: call       virtual TaleWorlds.Core.Banner TaleWorlds.CampaignSystem.Clan::get_Banner()
IL_018F: callvirt   System.String TaleWorlds.Core.Banner::Serialize()
IL_0194: Label6
IL_0194: newobj     System.Void TaleWorlds.Core.ImageIdentifierVM::.ctor(TaleWorlds.Core.ItemObject itemObject, System.String bannerCode)
IL_0199: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ImageIdentifier(TaleWorlds.Core.ImageIdentifierVM value)
IL_019E: ldarg.0
IL_019F: ldarga.s   5
IL_01A1: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01A6: stloc.0
IL_01A7: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01A9: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01AE: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01B3: ldc.i4     4194304
IL_01B8: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01BD: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsCivilianItem(System.Boolean value)
IL_01C2: ldarg.0
IL_01C3: ldarg.2
IL_01C4: brfalse => Label7
IL_01C9: ldarg.0
IL_01CA: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01CF: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01D4: stloc.0
IL_01D5: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01D7: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01DC: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01E1: ldc.i4     1024
IL_01E6: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01EB: brtrue =>  Label8
IL_01F0: Label7
IL_01F0: ldarg.2
IL_01F1: brtrue =>  Label9
IL_01F6: ldarg.0
IL_01F7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01FC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0201: stloc.0
IL_0202: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0204: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0209: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_020E: ldc.i4     2048
IL_0213: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_0218: br =>      Label10
IL_021D: Label9
IL_021D: ldc.i4.0
IL_021E: br =>      Label11
IL_0223: Label8
IL_0223: ldc.i4.1
IL_0224: Label10
IL_0224: Label11
IL_0224: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsGenderDifferent(System.Boolean value)
IL_0229: ldarg.0
IL_022A: ldarg.3
IL_022B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanCharacterUseItem(System.Boolean value)
IL_0230: ldarg.0
IL_0231: ldarga.s   5
IL_0233: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0238: stloc.0
IL_0239: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_023B: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0240: callvirt   System.Boolean TaleWorlds.Core.ItemObject::get_IsUniqueItem()
IL_0245: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsArtifact(System.Boolean value)
IL_024A: ldarg.0
IL_024B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateCanBeSlaughtered()
IL_0250: ldarg.0
IL_0251: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateHintTexts()
IL_0256: ldarg.0
IL_0257: ldarg.0
IL_0258: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_025D: dup
IL_025E: brtrue =>  Label12
IL_0263: pop
IL_0264: ldc.i4.0
IL_0265: br =>      Label13
IL_026A: Label12
IL_026A: ldarg.0
IL_026B: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_0270: ldarg.0
IL_0271: call       TaleWorlds.CampaignSystem.Inventory.InventorySide TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_InventorySide()
IL_0276: call       System.Boolean TaleWorlds.CampaignSystem.Inventory.InventoryLogic::CanDonateItem(TaleWorlds.Core.ItemRosterElement element, TaleWorlds.CampaignSystem.Inventory.InventorySide sideOfItem)
IL_027B: Label13
IL_027B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanBeDonated(System.Boolean value)
IL_0280: ldarg.0
IL_0281: ldarg.0
IL_0282: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_0287: ldarg.0
IL_0288: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_028D: ldarg.s    6
IL_028F: ldarg.0
IL_0290: ldftn      System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::OnTradeApplyTransaction(System.Int32 amount, System.Boolean isBuying)
IL_0296: newobj     System.Void System.Action`2<System.Int32, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_029B: newobj     System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, TaleWorlds.Core.ItemRosterElement itemRoster, TaleWorlds.CampaignSystem.Inventory.InventorySide side, System.Action`2<System.Int32, System.Boolean> onApplyTransaction)
IL_02A0: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TradeData(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM value)
IL_02A5: ldarg.0
IL_02A6: ldarg.0
IL_02A7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_02AC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02B1: stloc.0
IL_02B2: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02B4: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_02B9: ldc.i4.0
IL_02BA: ceq
IL_02BC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsTransferable(System.Boolean value)
IL_02C1: ldarg.0
IL_02C2: call       TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_TradeData()
IL_02C7: ldarg.0
IL_02C8: call       System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_IsTransferable()
IL_02CD: callvirt   System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::set_IsTradeable(System.Boolean value)
IL_02D2: ldarg.0
IL_02D3: ldarga.s   5
IL_02D5: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02DA: stloc.0
IL_02DB: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02DD: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_02E2: call       static TaleWorlds.CampaignSystem.Inventory.InventoryItemType TaleWorlds.CampaignSystem.Inventory.InventoryManager::GetInventoryItemTypeOfItem(TaleWorlds.Core.ItemObject item)
IL_02E7: ldc.i4     2303
IL_02EC: or
IL_02ED: ldc.i4     2303
IL_02F2: bne.un =>  Label14
IL_02F7: ldarga.s   5
IL_02F9: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02FE: stloc.0
IL_02FF: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0301: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_0306: ldc.i4.0
IL_0307: ceq
IL_0309: br =>      Label15
IL_030E: Label14
IL_030E: ldc.i4.0
IL_030F: Label15
IL_030F: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsEquipableItem(System.Boolean value)
IL_0314: ldarg.0
IL_0315: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateIsNew()
IL_031A: ldarg.0
IL_031B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateProfitType()
IL_0320: // end original
IL_0320: Label16
IL_0320: ldarg.0
IL_0321: call       static System.Void KaosesTweaks.Patches.SPItemVMPatch::Postfix(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM __instance)
IL_0326: ret
DONE

### Harmony id=KaosesTweaks.harmony, version=2.2.2.0, location=C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.Harmony\bin\Win64_Shipping_Client\0Harmony.dll, env/clr=4.0.30319.42000, platform=Win32NT, ptrsize:runtime/env=8/Bits64, Windows
### Started from virtual System.Void KaosesTweaks.SubModule::OnBeforeInitialModuleScreenSetAsRoot(), location C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\KaosesTweaks\bin\Win64_Shipping_Client\KaosesTweaks.dll
### At 2022-07-22 04.49.43
### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::GetUnitValueForFaction(TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable.GetUnitValueForFaction_Patch1(TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable this, TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Int32
IL_0000: ldc.i4     0
IL_0005: stloc      3 (System.Int32)
IL_0009: // start original
IL_0009: ldc.r4     -1000000
IL_000E: stloc.0
IL_000F: ldarg.1
IL_0010: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0015: brtrue =>  Label0
IL_001A: ldarg.1
IL_001B: castclass  TaleWorlds.CampaignSystem.Clan
IL_0020: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_0025: pop
IL_0026: Label0
IL_0026: ldarg.0
IL_0027: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_002C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0031: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0036: pop
IL_0037: ldarg.0
IL_0038: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_003D: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::get_IsKingdomFaction()
IL_0042: brfalse => Label1
IL_0047: ldarg.1
IL_0048: ldarg.0
IL_0049: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_004E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0053: bne.un =>  Label2
IL_0058: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_005D: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0062: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0067: ldarg.0
IL_0068: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_006D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0072: ldarg.0
IL_0073: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0078: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfClanToJoinKingdom(TaleWorlds.CampaignSystem.Clan clan, TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_007D: stloc.0
IL_007E: ldarg.0
IL_007F: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0084: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0089: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_008E: brfalse => Label3
IL_0093: ldarg.0
IL_0094: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0099: ldarg.0
IL_009A: call       TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalParty()
IL_009F: newobj     System.Void TaleWorlds.CampaignSystem.BarterSystem.Barterables.LeaveKingdomAsClanBarterable::.ctor(TaleWorlds.CampaignSystem.Hero owner, TaleWorlds.CampaignSystem.Party.PartyBase ownerParty)
IL_00A4: ldarg.1
IL_00A5: call       System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::GetValueForFaction(TaleWorlds.CampaignSystem.IFaction faction)
IL_00AA: stloc.1
IL_00AB: ldc.r4     0
IL_00B0: stloc.2
IL_00B1: ldarg.0
IL_00B2: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00B7: ldarg.0
IL_00B8: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00BD: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00C2: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00C7: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::IsAtWarWith(TaleWorlds.CampaignSystem.IFaction other)
IL_00CC: brtrue =>  Label4
IL_00D1: ldarg.0
IL_00D2: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00D7: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00DC: ldarg.0
IL_00DD: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00E2: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00E7: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00EC: callvirt   System.Single TaleWorlds.CampaignSystem.Clan::CalculateTotalSettlementValueForFaction(TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_00F1: stloc.2
IL_00F2: ldloc.0
IL_00F3: ldloc.2
IL_00F4: ldarg.0
IL_00F5: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00FA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Kingdom::get_Leader()
IL_00FF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0104: beq =>     Label5
IL_0109: ldc.r4     1
IL_010E: br =>      Label6
IL_0113: Label5
IL_0113: ldc.r4     0.5
IL_0118: Label6
IL_0118: mul
IL_0119: sub
IL_011A: stloc.0
IL_011B: Label4
IL_011B: ldloc.0
IL_011C: ldloc.1
IL_011D: conv.r4
IL_011E: add
IL_011F: stloc.0
IL_0120: br =>      Label7
IL_0125: Label2
IL_0125: ldarg.1
IL_0126: callvirt   abstract virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.IFaction::get_MapFaction()
IL_012B: ldarg.0
IL_012C: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0131: bne.un =>  Label8
IL_0136: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_013B: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0140: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0145: ldarg.0
IL_0146: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_014B: ldarg.0
IL_014C: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0151: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0156: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfKingdomToGetClan(TaleWorlds.CampaignSystem.Kingdom kingdom, TaleWorlds.CampaignSystem.Clan clan)
IL_015B: stloc.0
IL_015C: Label1
IL_015C: Label3
IL_015C: Label7
IL_015C: Label8
IL_015C: ldloc.0
IL_015D: conv.i4
IL_015E: // end original
IL_015E: stloc      3 (System.Int32)
IL_0162: ldloca     3 (System.Int32)
IL_0166: ldarg      1
IL_016A: ldarg.0
IL_016B: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0170: call       static System.Void KaosesTweaks.Patches.BTBarterablePatches::Postfix(System.Int32& __result, TaleWorlds.CampaignSystem.IFaction factionForEvaluation, TaleWorlds.CampaignSystem.Kingdom ___TargetKingdom)
IL_0175: ldloc      3 (System.Int32)
IL_0179: ret
DONE

### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::GetPlayerMaximumTroopCountForHideoutMission(TaleWorlds.CampaignSystem.Party.MobileParty party)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel.GetPlayerMaximumTroopCountForHideoutMission_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel this, TaleWorlds.CampaignSystem.Party.MobileParty party)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      1 (System.Int32)
IL_0009: ldc.i4     0
IL_000E: stloc      2 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      2 (System.Boolean)
IL_0017: ldloc      2 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     1 (System.Int32)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.BTTroopCountForHidoutMission::Prefix(System.Int32& __result)
IL_0029: stloc      2 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      2 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: ldc.r4     10
IL_003C: stloc.0
IL_003D: ldarg.1
IL_003E: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0043: ldc.i4.0
IL_0044: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::HasPerk(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk, System.Boolean checkSecondaryRole)
IL_0049: brfalse => Label2
IL_004E: ldloc.0
IL_004F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0054: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0059: add
IL_005A: stloc.0
IL_005B: Label2
IL_005B: ldloc.0
IL_005C: call       static System.Int32 TaleWorlds.Library.MathF::Round(System.Single f)
IL_0061: // end original
IL_0061: stloc      1 (System.Int32)
IL_0065: Label0
IL_0065: ldloc      1 (System.Int32)
IL_0069: ret
DONE

### Patch: TaleWorlds.CampaignSystem.ExplainedNumber TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::CalculateMobilePartyMemberSizeLimit(TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
### Note: A buffer for the returned struct is used. That requires an extra IntPtr argument before the first real argument
### Replacement: static System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel.CalculateMobilePartyMemberSizeLimit_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel this, System.IntPtr retbuf, TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: Local var 1: System.Nullable`1<System.Boolean>
IL_0000: Local var 2: System.Boolean
IL_0000: Local var 3: System.Nullable`1<System.Boolean>
IL_0000: Local var 4: System.Int32
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>
IL_0000: Local var 7: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0004: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_000A: // start original
IL_000A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_000C: ldc.r4     20
IL_0011: ldarg.3
IL_0012: ldarg.0
IL_0013: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_baseSizeText
IL_0018: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::.ctor(System.Single baseNumber, System.Boolean includeDescriptions, TaleWorlds.Localization.TextObject baseText)
IL_001D: ldarg.2
IL_001E: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0023: brfalse => Label0
IL_0028: ldarg.2
IL_0029: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_002E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0033: brfalse => Label1
IL_0038: ldarg.2
IL_0039: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_003E: brtrue =>  Label2
IL_0043: ldarg.2
IL_0044: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0049: brfalse => Label3
IL_004E: ldarg.2
IL_004F: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0054: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0059: brfalse => Label4
IL_005E: ldarg.2
IL_005F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0064: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0069: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_006E: ldarg.2
IL_006F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0074: bne.un =>  Label5
IL_0079: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_007B: ldc.r4     20
IL_0080: ldarg.0
IL_0081: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_factionLeaderText
IL_0086: ldnull
IL_0087: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_008C: Label3
IL_008C: Label4
IL_008C: Label5
IL_008C: ldarg.2
IL_008D: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0092: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_0097: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_009C: brfalse => Label6
IL_00A1: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00A3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00A8: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00AD: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00B2: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00B7: ldnull
IL_00B8: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00BD: Label6
IL_00BD: ldarg.2
IL_00BE: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00C3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00C8: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00CD: brfalse => Label7
IL_00D2: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00D4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00D9: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00DE: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00E3: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00E8: ldnull
IL_00E9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00EE: Label7
IL_00EE: ldarg.2
IL_00EF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_00F9: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00FE: brfalse => Label8
IL_0103: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0105: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_010A: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_010F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_0114: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0119: ldnull
IL_011A: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_011F: Label8
IL_011F: ldarg.2
IL_0120: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0125: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_012A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_012F: brfalse => Label9
IL_0134: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0136: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_013B: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0140: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_0145: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_014A: ldnull
IL_014B: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0150: Label9
IL_0150: ldarg.2
IL_0151: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0156: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_015B: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0160: brfalse => Label10
IL_0165: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0167: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_016C: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0171: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_0176: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_017B: ldnull
IL_017C: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0181: Label10
IL_0181: ldarg.2
IL_0182: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0187: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_018C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0191: brfalse => Label11
IL_0196: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0198: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_019D: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01A2: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_01A7: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01AC: ldnull
IL_01AD: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01B2: Label11
IL_01B2: ldarg.2
IL_01B3: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_01B8: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01BD: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_01C2: brfalse => Label12
IL_01C7: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_01C9: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01CE: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01D3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01D8: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01DD: ldnull
IL_01DE: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01E3: Label12
IL_01E3: ldarg.2
IL_01E4: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_01E9: dup
IL_01EA: brtrue =>  Label13
IL_01EF: pop
IL_01F0: ldc.i4.0
IL_01F1: br =>      Label14
IL_01F6: Label13
IL_01F6: call       virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_01FB: dup
IL_01FC: brtrue =>  Label15
IL_0201: pop
IL_0202: ldloca.s   3 (System.Nullable`1[System.Boolean])
IL_0204: initobj    System.Nullable`1[System.Boolean]
IL_020A: ldloc.3
IL_020B: br =>      Label16
IL_0210: Label15
IL_0210: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0215: call       System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_021A: newobj     System.Void System.Nullable`1<System.Boolean>::.ctor(System.Boolean value)
IL_021F: Label16
IL_021F: stloc.1
IL_0220: ldc.i4.1
IL_0221: stloc.2
IL_0222: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_0224: call       System.Boolean System.Nullable`1<System.Boolean>::GetValueOrDefault()
IL_0229: ldloc.2
IL_022A: ceq
IL_022C: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_022E: call       System.Boolean System.Nullable`1<System.Boolean>::get_HasValue()
IL_0233: and
IL_0234: Label14
IL_0234: brfalse => Label17
IL_0239: ldc.i4.0
IL_023A: stloc.s    4 (System.Int32)
IL_023C: ldarg.2
IL_023D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_0242: callvirt   virtual TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.CampaignSystem.Clan::get_Settlements()
IL_0247: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement>::GetEnumerator()
IL_024C: stloc.s    6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
.try
{
	IL_024E: br =>      Label18
	IL_0253: Label20
	IL_0253: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0255: call       virtual TaleWorlds.CampaignSystem.Settlements.Settlement System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::get_Current()
	IL_025A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Settlements.Settlement::get_IsTown()
	IL_025F: brfalse => Label19
	IL_0264: ldloc.s    4 (System.Int32)
	IL_0266: ldc.i4.1
	IL_0267: add
	IL_0268: stloc.s    4 (System.Int32)
	IL_026A: Label18
	IL_026A: Label19
	IL_026A: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_026C: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::MoveNext()
	IL_0271: brtrue =>  Label20
	IL_0276: leave =>   Label21
	IL_027B: leave =>   (autogenerated)
} // end try
.finally
{
	IL_0280: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0282: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement]
	IL_0288: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_028D: endfinally
	IL_028E: leave =>   (autogenerated)
} // end handler
IL_028F: Label21
IL_028F: ldloc.s    4 (System.Int32)
IL_0291: conv.r4
IL_0292: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0297: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_029C: mul
IL_029D: stloc.s    5 (System.Single)
IL_029F: ldloc.s    5 (System.Single)
IL_02A1: ldc.r4     0
IL_02A6: ble.un =>  Label22
IL_02AB: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_02AD: ldloc.s    5 (System.Single)
IL_02AF: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_02B4: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_02B9: ldnull
IL_02BA: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_02BF: Label17
IL_02BF: Label22
IL_02BF: ldarg.2
IL_02C0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02C5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02CA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_02CF: ldarg.2
IL_02D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02D5: bne.un =>  Label23
IL_02DA: ldarg.2
IL_02DB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02E0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02E5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_02EA: ldc.i4.5
IL_02EB: blt =>     Label24
IL_02F0: ldarg.2
IL_02F1: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_02F6: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_02FB: brfalse => Label25
IL_0300: ldarg.2
IL_0301: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0306: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_030B: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_0310: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_0315: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_031A: brfalse => Label26
IL_031F: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0321: ldc.r4     40
IL_0326: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_032B: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0330: ldnull
IL_0331: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0336: Label24
IL_0336: Label25
IL_0336: Label26
IL_0336: ldarg.2
IL_0337: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_033C: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0341: brfalse => Label27
IL_0346: ldarg.2
IL_0347: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_034C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0351: ldarg.2
IL_0352: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0357: bne.un =>  Label28
IL_035C: ldarg.2
IL_035D: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0362: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_0367: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_036C: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0371: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_0376: brfalse => Label29
IL_037B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_037D: ldc.r4     60
IL_0382: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0387: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_038C: ldnull
IL_038D: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0392: Label27
IL_0392: Label28
IL_0392: Label29
IL_0392: ldarg.2
IL_0393: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0398: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_039D: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03A2: ldc.i4.0
IL_03A3: ble =>     Label30
IL_03A8: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03AA: ldarg.2
IL_03AB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03B0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03B5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03BA: ldc.i4.s   25
IL_03BC: mul
IL_03BD: conv.r4
IL_03BE: ldarg.0
IL_03BF: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_03C4: ldnull
IL_03C5: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_03CA: br =>      Label31
IL_03CF: Label23
IL_03CF: ldarg.2
IL_03D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03D5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03DA: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03DF: ldc.i4.0
IL_03E0: ble =>     Label32
IL_03E5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03E7: ldarg.2
IL_03E8: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03ED: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03F2: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03F7: ldc.i4.s   15
IL_03F9: mul
IL_03FA: conv.r4
IL_03FB: ldarg.0
IL_03FC: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_0401: ldnull
IL_0402: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0407: Label30
IL_0407: Label31
IL_0407: Label32
IL_0407: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0409: ldarg.2
IL_040A: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_EffectiveQuartermaster()
IL_040F: call       static TaleWorlds.Core.SkillObject TaleWorlds.Core.DefaultSkills::get_Steward()
IL_0414: callvirt   System.Int32 TaleWorlds.CampaignSystem.Hero::GetSkillValue(TaleWorlds.Core.SkillObject skill)
IL_0419: ldc.i4.4
IL_041A: div
IL_041B: conv.r4
IL_041C: ldarg.0
IL_041D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_quarterMasterText
IL_0422: ldnull
IL_0423: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0428: ldarg.0
IL_0429: ldarg.2
IL_042A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_042C: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddMobilePartyLeaderPartySizePerkEffects(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_0431: ldarg.0
IL_0432: ldarg.2
IL_0433: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0435: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddUltimateLeaderPerkEffectForPartySize(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_043A: ldsfld     System.Boolean TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_addAdditionalPartySizeAsCheat
IL_043F: brfalse => Label33
IL_0444: ldarg.2
IL_0445: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsMainParty()
IL_044A: brfalse => Label34
IL_044F: call       static TaleWorlds.Core.Game TaleWorlds.Core.Game::get_Current()
IL_0454: callvirt   System.Boolean TaleWorlds.Core.Game::get_CheatMode()
IL_0459: brfalse => Label35
IL_045E: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0460: ldc.r4     5000
IL_0465: ldstr      "{=!}Additional size from extra party cheat"
IL_046A: ldnull
IL_046B: newobj     System.Void TaleWorlds.Localization.TextObject::.ctor(System.String value, System.Collections.Generic.Dictionary`2<System.String, System.Object> attributes)
IL_0470: ldnull
IL_0471: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0476: br =>      Label36
IL_047B: Label0
IL_047B: Label1
IL_047B: Label2
IL_047B: ldarg.2
IL_047C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_0481: brfalse => Label37
IL_0486: ldarg.2
IL_0487: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_048C: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_0491: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0496: bne.un =>  Label38
IL_049B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_049D: ldc.r4     10
IL_04A2: ldarg.0
IL_04A3: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_04A8: ldnull
IL_04A9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_04AE: br =>      Label39
IL_04B3: Label38
IL_04B3: ldarg.2
IL_04B4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04B9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04BE: dup
IL_04BF: brtrue =>  Label40
IL_04C4: pop
IL_04C5: ldc.i4.0
IL_04C6: br =>      Label41
IL_04CB: Label40
IL_04CB: call       System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsNotable()
IL_04D0: Label41
IL_04D0: brfalse => Label42
IL_04D5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_04D7: ldc.i4.s   10
IL_04D9: ldarg.2
IL_04DA: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04DF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04E4: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_04E9: ldc.r4     100
IL_04EE: blt =>     Label43
IL_04F3: ldarg.2
IL_04F4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04F9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04FE: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_0503: ldc.r4     200
IL_0508: blt =>     Label44
IL_050D: ldc.i4.3
IL_050E: br =>      Label45
IL_0513: Label44
IL_0513: ldc.i4.2
IL_0514: br =>      Label46
IL_0519: Label43
IL_0519: ldc.i4.1
IL_051A: Label45
IL_051A: Label46
IL_051A: mul
IL_051B: conv.r4
IL_051C: ldarg.0
IL_051D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0522: ldnull
IL_0523: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0528: br =>      Label47
IL_052D: Label37
IL_052D: ldarg.2
IL_052E: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_0533: brfalse => Label48
IL_0538: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_053A: ldc.r4     40
IL_053F: ldarg.0
IL_0540: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0545: ldnull
IL_0546: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_054B: Label33
IL_054B: Label34
IL_054B: Label35
IL_054B: Label36
IL_054B: Label39
IL_054B: Label42
IL_054B: Label47
IL_054B: Label48
IL_054B: ldloc.0
IL_054C: // end original
IL_054C: stloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0550: ldarg      2
IL_0554: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0558: call       static System.Void KaosesTweaks.Patches.DefaultPartySizeLimitModelPatch::Postfix(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& __result)
IL_055D: ldloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0561: ldloca     8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0565: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_056B: stloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_056F: ldarg.1
IL_0570: ldloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0574: stobj      TaleWorlds.CampaignSystem.ExplainedNumber
IL_0579: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Party.MobileParty::FillPartyStacks(TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Party.MobileParty::TaleWorlds.CampaignSystem.Party.MobileParty.FillPartyStacks_Patch1(TaleWorlds.CampaignSystem.Party.MobileParty this, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Single
IL_0000: Local var 4: System.Single
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Single
IL_0000: Local var 7: System.Single
IL_0000: Local var 8: System.Single
IL_0000: Local var 9: System.Single
IL_0000: Local var 10: System.Single
IL_0000: Local var 11: System.Int32
IL_0000: Local var 12: System.Int32
IL_0000: Local var 13: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 14: System.Int32
IL_0000: Local var 15: System.Int32
IL_0000: Local var 16: System.Single
IL_0000: Local var 17: System.Single
IL_0000: Local var 18: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 19: System.Int32
IL_0000: Local var 20: System.Int32
IL_0000: Local var 21: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      21 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      21 (System.Boolean)
IL_000E: ldloc      21 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg      1
IL_001F: ldarg      2
IL_0023: call       static System.Boolean KaosesTweaks.Patches.TitanFillPartyStacksPatch::Prefix(TaleWorlds.CampaignSystem.Party.MobileParty& __instance, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0028: stloc      21 (System.Boolean)
IL_002C: Label1
IL_002C: nop
IL_002D: ldloc      21 (System.Boolean)
IL_0031: brfalse => Label0
IL_0036: // start original
IL_0036: ldarg.0
IL_0037: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsBandit()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0046: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_004B: stloc.0
IL_004C: ldc.r4     0.4
IL_0051: ldc.r4     0.8
IL_0056: ldloc.0
IL_0057: mul
IL_0058: add
IL_0059: stloc.1
IL_005A: ldc.i4.2
IL_005B: call       static System.Int32 TaleWorlds.Core.MBRandom::RandomInt(System.Int32 maxValue)
IL_0060: dup
IL_0061: brfalse => Label3
IL_0066: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_006B: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0070: mul
IL_0071: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0076: mul
IL_0077: ldc.r4     4
IL_007C: mul
IL_007D: br =>      Label4
IL_0082: Label3
IL_0082: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0087: Label4
IL_0087: stloc.2
IL_0088: brfalse => Label5
IL_008D: ldc.r4     1
IL_0092: ldloc.2
IL_0093: add
IL_0094: br =>      Label6
IL_0099: Label5
IL_0099: ldloc.2
IL_009A: ldc.r4     0.8
IL_009F: mul
IL_00A0: ldc.r4     0.2
IL_00A5: add
IL_00A6: Label6
IL_00A6: stloc.3
IL_00A7: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00AC: stloc.s    4 (System.Single)
IL_00AE: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00B3: stloc.s    5 (System.Single)
IL_00B5: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00BA: stloc.s    6 (System.Single)
IL_00BC: ldarg.1
IL_00BD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00C2: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_00C7: ldc.i4.0
IL_00C8: bgt =>     Label7
IL_00CD: ldc.r4     0
IL_00D2: br =>      Label8
IL_00D7: Label7
IL_00D7: ldarg.1
IL_00D8: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00DD: ldc.i4.0
IL_00DE: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00E3: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_00E8: conv.r4
IL_00E9: ldloc.1
IL_00EA: ldloc.3
IL_00EB: mul
IL_00EC: ldloc.s    4 (System.Single)
IL_00EE: mul
IL_00EF: ldarg.1
IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00F5: ldc.i4.0
IL_00F6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00FB: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0100: ldarg.1
IL_0101: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0106: ldc.i4.0
IL_0107: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_010C: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0111: sub
IL_0112: conv.r4
IL_0113: mul
IL_0114: add
IL_0115: Label8
IL_0115: stloc.s    7 (System.Single)
IL_0117: ldarg.1
IL_0118: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_011D: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0122: ldc.i4.1
IL_0123: bgt =>     Label9
IL_0128: ldc.r4     0
IL_012D: br =>      Label10
IL_0132: Label9
IL_0132: ldarg.1
IL_0133: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0138: ldc.i4.1
IL_0139: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_013E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0143: conv.r4
IL_0144: ldloc.1
IL_0145: ldloc.3
IL_0146: mul
IL_0147: ldloc.s    5 (System.Single)
IL_0149: mul
IL_014A: ldarg.1
IL_014B: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0150: ldc.i4.1
IL_0151: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0156: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_015B: ldarg.1
IL_015C: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0161: ldc.i4.1
IL_0162: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0167: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_016C: sub
IL_016D: conv.r4
IL_016E: mul
IL_016F: add
IL_0170: Label10
IL_0170: stloc.s    8 (System.Single)
IL_0172: ldarg.1
IL_0173: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0178: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_017D: ldc.i4.2
IL_017E: bgt =>     Label11
IL_0183: ldc.r4     0
IL_0188: br =>      Label12
IL_018D: Label11
IL_018D: ldarg.1
IL_018E: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0193: ldc.i4.2
IL_0194: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0199: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_019E: conv.r4
IL_019F: ldloc.1
IL_01A0: ldloc.3
IL_01A1: mul
IL_01A2: ldloc.s    6 (System.Single)
IL_01A4: mul
IL_01A5: ldarg.1
IL_01A6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01AB: ldc.i4.2
IL_01AC: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01B1: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_01B6: ldarg.1
IL_01B7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01BC: ldc.i4.2
IL_01BD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01C2: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_01C7: sub
IL_01C8: conv.r4
IL_01C9: mul
IL_01CA: add
IL_01CB: Label12
IL_01CB: stloc.s    9 (System.Single)
IL_01CD: ldarg.0
IL_01CE: ldarg.1
IL_01CF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01D4: ldc.i4.0
IL_01D5: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01DA: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_01DF: ldloc.s    7 (System.Single)
IL_01E1: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_01E6: ldc.i4.0
IL_01E7: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_01EC: pop
IL_01ED: ldarg.1
IL_01EE: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01F3: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_01F8: ldc.i4.1
IL_01F9: ble =>     Label13
IL_01FE: ldarg.0
IL_01FF: ldarg.1
IL_0200: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0205: ldc.i4.1
IL_0206: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_020B: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0210: ldloc.s    8 (System.Single)
IL_0212: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0217: ldc.i4.0
IL_0218: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_021D: pop
IL_021E: Label13
IL_021E: ldarg.1
IL_021F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0224: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0229: ldc.i4.2
IL_022A: ble =>     Label14
IL_022F: ldarg.0
IL_0230: ldarg.1
IL_0231: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0236: ldc.i4.2
IL_0237: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_023C: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0241: ldloc.s    9 (System.Single)
IL_0243: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0248: ldc.i4.0
IL_0249: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_024E: pop
IL_024F: br =>      Label39
IL_0254: Label2
IL_0254: ldarg.2
IL_0255: ldc.i4.0
IL_0256: bge =>     Label15
IL_025B: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0260: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_0265: stloc.s    10 (System.Single)
IL_0267: ldc.i4.0
IL_0268: stloc.s    11 (System.Int32)
IL_026A: br =>      Label16
IL_026F: Label17
IL_026F: ldloc.s    10 (System.Single)
IL_0271: ldarg.1
IL_0272: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0277: ldloc.s    11 (System.Int32)
IL_0279: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_027E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0283: ldarg.1
IL_0284: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0289: ldloc.s    11 (System.Int32)
IL_028B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0290: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0295: sub
IL_0296: conv.r4
IL_0297: mul
IL_0298: conv.i4
IL_0299: ldarg.1
IL_029A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_029F: ldloc.s    11 (System.Int32)
IL_02A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02A6: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_02AB: add
IL_02AC: stloc.s    12 (System.Int32)
IL_02AE: ldarg.1
IL_02AF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02B4: ldloc.s    11 (System.Int32)
IL_02B6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02BB: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_02C0: stloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C2: ldarg.0
IL_02C3: ldloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C5: ldloc.s    12 (System.Int32)
IL_02C7: ldc.i4.0
IL_02C8: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_02CD: pop
IL_02CE: ldloc.s    11 (System.Int32)
IL_02D0: ldc.i4.1
IL_02D1: add
IL_02D2: stloc.s    11 (System.Int32)
IL_02D4: Label16
IL_02D4: ldloc.s    11 (System.Int32)
IL_02D6: ldarg.1
IL_02D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02DC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_02E1: blt =>     Label17
IL_02E6: br =>      Label40
IL_02EB: Label15
IL_02EB: ldc.i4.0
IL_02EC: stloc.s    14 (System.Int32)
IL_02EE: br =>      Label18
IL_02F3: Label38
IL_02F3: ldc.i4.m1
IL_02F4: stloc.s    15 (System.Int32)
IL_02F6: ldc.r4     0
IL_02FB: stloc.s    16 (System.Single)
IL_02FD: ldc.i4.0
IL_02FE: stloc.s    19 (System.Int32)
IL_0300: br =>      Label19
IL_0305: Label26
IL_0305: ldloc.s    16 (System.Single)
IL_0307: ldarg.0
IL_0308: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_030D: brfalse => Label20
IL_0312: ldarg.1
IL_0313: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0318: ldloc.s    19 (System.Int32)
IL_031A: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_031F: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0324: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_0329: brtrue =>  Label21
IL_032E: Label20
IL_032E: ldarg.0
IL_032F: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_0334: brfalse => Label22
IL_0339: ldarg.1
IL_033A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_033F: ldloc.s    19 (System.Int32)
IL_0341: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0346: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_034B: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0350: brfalse => Label23
IL_0355: Label22
IL_0355: ldc.r4     1
IL_035A: br =>      Label24
IL_035F: Label23
IL_035F: ldc.r4     2
IL_0364: br =>      Label25
IL_0369: Label21
IL_0369: ldc.r4     6
IL_036E: Label24
IL_036E: Label25
IL_036E: ldarg.1
IL_036F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0374: ldloc.s    19 (System.Int32)
IL_0376: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_037B: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0380: ldarg.1
IL_0381: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0386: ldloc.s    19 (System.Int32)
IL_0388: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_038D: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0392: add
IL_0393: conv.r4
IL_0394: ldc.r4     2
IL_0399: div
IL_039A: mul
IL_039B: add
IL_039C: stloc.s    16 (System.Single)
IL_039E: ldloc.s    19 (System.Int32)
IL_03A0: ldc.i4.1
IL_03A1: add
IL_03A2: stloc.s    19 (System.Int32)
IL_03A4: Label19
IL_03A4: ldloc.s    19 (System.Int32)
IL_03A6: ldarg.1
IL_03A7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03AC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_03B1: blt =>     Label26
IL_03B6: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_03BB: ldloc.s    16 (System.Single)
IL_03BD: mul
IL_03BE: stloc.s    17 (System.Single)
IL_03C0: ldc.i4.0
IL_03C1: stloc.s    20 (System.Int32)
IL_03C3: br =>      Label27
IL_03C8: Label36
IL_03C8: ldloc.s    17 (System.Single)
IL_03CA: ldarg.0
IL_03CB: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03D0: brfalse => Label28
IL_03D5: ldarg.1
IL_03D6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03DB: ldloc.s    20 (System.Int32)
IL_03DD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_03E2: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_03E7: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_03EC: brtrue =>  Label29
IL_03F1: Label28
IL_03F1: ldarg.0
IL_03F2: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03F7: brfalse => Label30
IL_03FC: ldarg.1
IL_03FD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0402: ldloc.s    20 (System.Int32)
IL_0404: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0409: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_040E: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0413: brfalse => Label31
IL_0418: Label30
IL_0418: ldc.r4     1
IL_041D: br =>      Label32
IL_0422: Label31
IL_0422: ldc.r4     2
IL_0427: br =>      Label33
IL_042C: Label29
IL_042C: ldc.r4     6
IL_0431: Label32
IL_0431: Label33
IL_0431: ldarg.1
IL_0432: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0437: ldloc.s    20 (System.Int32)
IL_0439: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_043E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0443: ldarg.1
IL_0444: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0449: ldloc.s    20 (System.Int32)
IL_044B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0450: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0455: add
IL_0456: conv.r4
IL_0457: ldc.r4     2
IL_045C: div
IL_045D: mul
IL_045E: sub
IL_045F: stloc.s    17 (System.Single)
IL_0461: ldloc.s    17 (System.Single)
IL_0463: ldc.r4     0
IL_0468: bge.un =>  Label34
IL_046D: ldloc.s    20 (System.Int32)
IL_046F: stloc.s    15 (System.Int32)
IL_0471: br =>      Label35
IL_0476: Label34
IL_0476: ldloc.s    20 (System.Int32)
IL_0478: ldc.i4.1
IL_0479: add
IL_047A: stloc.s    20 (System.Int32)
IL_047C: Label27
IL_047C: ldloc.s    20 (System.Int32)
IL_047E: ldarg.1
IL_047F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0484: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0489: blt =>     Label36
IL_048E: Label35
IL_048E: ldloc.s    15 (System.Int32)
IL_0490: ldc.i4.0
IL_0491: bge =>     Label37
IL_0496: ldc.i4.0
IL_0497: stloc.s    15 (System.Int32)
IL_0499: Label37
IL_0499: ldarg.1
IL_049A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_049F: ldloc.s    15 (System.Int32)
IL_04A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_04A6: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_04AB: stloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04AD: ldarg.0
IL_04AE: ldloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04B0: ldc.i4.1
IL_04B1: ldc.i4.0
IL_04B2: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_04B7: pop
IL_04B8: ldloc.s    14 (System.Int32)
IL_04BA: ldc.i4.1
IL_04BB: add
IL_04BC: stloc.s    14 (System.Int32)
IL_04BE: Label18
IL_04BE: ldloc.s    14 (System.Int32)
IL_04C0: ldarg.2
IL_04C1: blt =>     Label38
IL_04C6: ldarg.0
IL_04C7: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_04CC: pop
IL_04CD: // end original
IL_04CD: Label14
IL_04CD: Label39
IL_04CD: Label40
IL_04CD: Label0
IL_04CD: ret
DONE

### Patch: System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_player_can_open_courtship_on_condition()
### Replacement: static System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_player_can_open_courtship_on_condition_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: System.Boolean
IL_0000: Local var 1: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4     0
IL_000E: stloc      1 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      1 (System.Boolean)
IL_0017: ldloc      1 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     0 (System.Boolean)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix1(System.Boolean& __result)
IL_0029: stloc      1 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      1 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0046: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_004B: dup
IL_004C: brtrue =>  Label3
IL_0051: pop
IL_0052: ldc.i4.0
IL_0053: br =>      Label4
IL_0058: Label3
IL_0058: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsMinorFaction()
IL_005D: Label4
IL_005D: brtrue =>  Label5
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0067: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsPrisoner()
IL_006C: brfalse => Label6
IL_0071: Label2
IL_0071: Label5
IL_0071: ldc.i4.0
IL_0072: br =>      Label15
IL_0077: Label6
IL_0077: ldarg.0
IL_0078: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007D: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0082: call       System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::MarriageCourtshipPossibility(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0087: brfalse => Label7
IL_008C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_009B: brtrue =>  Label8
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_00AA: brfalse => Label9
IL_00AF: ldstr      "FLIRTATION_LINE"
IL_00B4: ldstr      "{=bjJs0eeB}My lord, I note that you have not yet taken a wife."
IL_00B9: ldc.i4.0
IL_00BA: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00BF: br =>      Label10
IL_00C4: Label9
IL_00C4: ldstr      "FLIRTATION_LINE"
IL_00C9: ldstr      "{=v1hC6Aem}My lady, I wish to profess myself your most ardent admirer."
IL_00CE: ldc.i4.0
IL_00CF: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00D4: Label10
IL_00D4: ldc.i4.1
IL_00D5: br =>      Label16
IL_00DA: Label7
IL_00DA: Label8
IL_00DA: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00DF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00E4: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00E9: ldc.i4.1
IL_00EA: beq =>     Label11
IL_00EF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00F9: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00FE: ldc.i4.2
IL_00FF: bne.un =>  Label12
IL_0104: Label11
IL_0104: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0109: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_010E: brfalse => Label13
IL_0113: ldstr      "FLIRTATION_LINE"
IL_0118: ldstr      "{=2WnhUBMM}My lord, may you give me another chance to prove myself?"
IL_011D: ldc.i4.0
IL_011E: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0123: br =>      Label14
IL_0128: Label13
IL_0128: ldstr      "FLIRTATION_LINE"
IL_012D: ldstr      "{=4iTaEZKg}My lady, may you give me another chance to prove myself?"
IL_0132: ldc.i4.0
IL_0133: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0138: Label14
IL_0138: ldc.i4.1
IL_0139: br =>      Label17
IL_013E: Label12
IL_013E: ldc.i4.0
IL_013F: // end original
IL_013F: Label15
IL_013F: Label16
IL_013F: Label17
IL_013F: stloc      0 (System.Boolean)
IL_0143: Label0
IL_0143: ldloc      0 (System.Boolean)
IL_0147: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_start_courtship_persuasion_pt1_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_start_courtship_persuasion_pt1_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix2(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_005C: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0061: ldc.i4.3
IL_0062: bne.un =>  Label2
IL_0067: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: ldc.i4.4
IL_0072: call       static System.Void TaleWorlds.CampaignSystem.Actions.ChangeRomanticStateAction::Apply(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2, TaleWorlds.CampaignSystem.RomanceLevelEnum toWhat)
IL_0077: Label2
IL_0077: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0081: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0086: stloc.0
IL_0087: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_008C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_009B: bne.un =>  Label3
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: stloc.0
IL_00A6: Label3
IL_00A6: ldarg.0
IL_00A7: ldarg.0
IL_00A8: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00AD: ldloc.0
IL_00AE: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage1(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_00B3: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B8: ldarg.0
IL_00B9: ldarg.0
IL_00BA: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00BF: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_00C4: conv.r4
IL_00C5: ldc.r4     1
IL_00CA: mul
IL_00CB: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00D0: ldc.r4     0
IL_00D5: stloc.1
IL_00D6: ldarg.0
IL_00D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00DC: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00E1: stloc.2
.try
{
	IL_00E2: br =>      Label4
	IL_00E7: Label17
	IL_00E7: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00E9: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00EE: stloc.3
	IL_00EF: ldarg.0
	IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00F5: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00FA: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00FC: br =>      Label5
		IL_0101: Label15
		IL_0101: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0103: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_0108: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010A: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_0111: ldloc.3
		IL_0112: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_0117: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_011C: brfalse => Label6
		IL_0121: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_0123: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0128: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012A: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012C: switch =>  Labels7,8,9,10
		IL_0141: br =>      Label11
		IL_0146: Label9
		IL_0146: ldloc.1
		IL_0147: ldarg.0
		IL_0148: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_014D: add
		IL_014E: stloc.1
		IL_014F: br =>      Label12
		IL_0154: Label10
		IL_0154: ldloc.1
		IL_0155: ldarg.0
		IL_0156: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_015B: add
		IL_015C: stloc.1
		IL_015D: br =>      Label13
		IL_0162: Label7
		IL_0162: ldloc.1
		IL_0163: ldarg.0
		IL_0164: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0169: sub
		IL_016A: stloc.1
		IL_016B: br =>      Label14
		IL_0170: Label8
		IL_0170: ldloc.1
		IL_0171: ldc.r4     0
		IL_0176: sub
		IL_0177: stloc.1
		IL_0178: Label5
		IL_0178: Label6
		IL_0178: Label11
		IL_0178: Label12
		IL_0178: Label13
		IL_0178: Label14
		IL_0178: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_017F: brtrue =>  Label15
		IL_0184: leave =>   Label16
		IL_0189: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_018E: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_019B: endfinally
		IL_019C: leave =>   (autogenerated)
	} // end handler
	IL_019D: Label4
	IL_019D: Label16
	IL_019D: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_019F: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_01A4: brtrue =>  Label17
	IL_01A9: leave =>   Label18
	IL_01AE: leave =>   (autogenerated)
} // end try
.finally
{
	IL_01B3: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_01B5: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_01BB: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_01C0: endfinally
	IL_01C1: leave =>   (autogenerated)
} // end handler
IL_01C2: Label18
IL_01C2: ldarg.0
IL_01C3: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01C8: ldarg.0
IL_01C9: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01CE: ldarg.0
IL_01CF: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01D4: ldarg.0
IL_01D5: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01DA: ldarg.0
IL_01DB: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01E0: ldarg.0
IL_01E1: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01E6: ldloc.1
IL_01E7: ldc.i4.3
IL_01E8: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01ED: // end original
IL_01ED: Label0
IL_01ED: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_continue_courtship_stage_2_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_continue_courtship_stage_2_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix3(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_005C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0061: stloc.0
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0067: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0076: bne.un =>  Label2
IL_007B: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0080: stloc.0
IL_0081: Label2
IL_0081: ldarg.0
IL_0082: ldarg.0
IL_0083: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0088: ldloc.0
IL_0089: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage2(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_008E: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0093: ldarg.0
IL_0094: ldarg.0
IL_0095: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_009A: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_009F: conv.r4
IL_00A0: ldc.r4     1
IL_00A5: mul
IL_00A6: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00AB: ldc.r4     0
IL_00B0: stloc.1
IL_00B1: ldarg.0
IL_00B2: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B7: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00BC: stloc.2
.try
{
	IL_00BD: br =>      Label3
	IL_00C2: Label16
	IL_00C2: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00C4: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00C9: stloc.3
	IL_00CA: ldarg.0
	IL_00CB: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00D0: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00D5: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00D7: br =>      Label4
		IL_00DC: Label14
		IL_00DC: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_00DE: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_00E3: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E5: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E7: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_00EC: ldloc.3
		IL_00ED: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_00F2: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_00F7: brfalse => Label5
		IL_00FC: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00FE: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0103: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0105: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0107: switch =>  Labels6,7,8,9
		IL_011C: br =>      Label10
		IL_0121: Label8
		IL_0121: ldloc.1
		IL_0122: ldarg.0
		IL_0123: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_0128: add
		IL_0129: stloc.1
		IL_012A: br =>      Label11
		IL_012F: Label9
		IL_012F: ldloc.1
		IL_0130: ldarg.0
		IL_0131: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_0136: add
		IL_0137: stloc.1
		IL_0138: br =>      Label12
		IL_013D: Label6
		IL_013D: ldloc.1
		IL_013E: ldarg.0
		IL_013F: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0144: sub
		IL_0145: stloc.1
		IL_0146: br =>      Label13
		IL_014B: Label7
		IL_014B: ldloc.1
		IL_014C: ldc.r4     0
		IL_0151: sub
		IL_0152: stloc.1
		IL_0153: Label4
		IL_0153: Label5
		IL_0153: Label10
		IL_0153: Label11
		IL_0153: Label12
		IL_0153: Label13
		IL_0153: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0155: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_015A: brtrue =>  Label14
		IL_015F: leave =>   Label15
		IL_0164: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_0169: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_016B: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0171: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_0176: endfinally
		IL_0177: leave =>   (autogenerated)
	} // end handler
	IL_0178: Label3
	IL_0178: Label15
	IL_0178: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_017F: brtrue =>  Label16
	IL_0184: leave =>   Label17
	IL_0189: leave =>   (autogenerated)
} // end try
.finally
{
	IL_018E: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_019B: endfinally
	IL_019C: leave =>   (autogenerated)
} // end handler
IL_019D: Label17
IL_019D: ldarg.0
IL_019E: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01A3: ldarg.0
IL_01A4: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01A9: ldarg.0
IL_01AA: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01AF: ldarg.0
IL_01B0: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01B5: ldarg.0
IL_01B6: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01BB: ldarg.0
IL_01BC: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01C1: ldloc.1
IL_01C2: ldc.i4.3
IL_01C3: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01C8: // end original
IL_01C8: Label0
IL_01C8: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Hero::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Hero::TaleWorlds.CampaignSystem.Hero.AddSkillXp_Patch1(TaleWorlds.CampaignSystem.Hero this, TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
IL_0000: Local var 0: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      0 (System.Boolean)
IL_000E: ldloc      0 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarg.0
IL_0018: ldarg      1
IL_001C: ldarga     2
IL_0020: call       static System.Void KaosesTweaks.Patches.Patches::Prefix(TaleWorlds.CampaignSystem.Hero __instance, TaleWorlds.Core.SkillObject skill, System.Single& xpAmount)
IL_0025: Label1
IL_0025: nop
IL_0026: ldloc      0 (System.Boolean)
IL_002A: brfalse => Label0
IL_002F: // start original
IL_002F: ldarg.0
IL_0030: ldfld      TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper TaleWorlds.CampaignSystem.Hero::_heroDeveloper
IL_0035: dup
IL_0036: brtrue =>  Label2
IL_003B: pop
IL_003C: br =>      Label3
IL_0041: Label2
IL_0041: ldarg.1
IL_0042: ldarg.2
IL_0043: ldc.i4.1
IL_0044: ldc.i4.1
IL_0045: callvirt   abstract virtual System.Void TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single rawXp, System.Boolean isAffectedByFocusFactor, System.Boolean shouldNotify)
IL_004A: // end original
IL_004A: Label3
IL_004A: Label0
IL_004A: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
### Replacement: static System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM..ctor_Patch1(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM this, TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
IL_0000: Local var 0: TaleWorlds.Core.EquipmentElement
IL_0000: Local var 1: System.Nullable`1<TaleWorlds.Core.EquipmentIndex>
IL_0000: Local var 2: TaleWorlds.Core.EquipmentIndex
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldc.i4.s   -5
IL_0003: stfld      System.Int32 TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_profitType
IL_0008: ldarg.0
IL_0009: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::.ctor()
IL_000E: ldarga.s   5
IL_0010: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0015: stloc.0
IL_0016: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0018: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_001D: brtrue =>  Label0
IL_0022: br =>      Label16
IL_0027: Label0
IL_0027: ldarg.0
IL_0028: ldarg.s    7
IL_002A: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_fiveStackShortcutKeyText
IL_002F: ldarg.0
IL_0030: ldarg.s    8
IL_0032: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_entireStackShortcutKeyText
IL_0037: ldarg.0
IL_0038: ldarg.s    4
IL_003A: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryMode TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_usageType
IL_003F: ldarg.0
IL_0040: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0045: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_004A: dup
IL_004B: brtrue =>  Label1
IL_0050: pop
IL_0051: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0056: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_0(TaleWorlds.CampaignSystem.Concept c)
IL_005C: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0061: dup
IL_0062: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_0067: Label1
IL_0067: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_006C: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_tradeGoodConceptObj
IL_0071: ldarg.0
IL_0072: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0077: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_007C: dup
IL_007D: brtrue =>  Label2
IL_0082: pop
IL_0083: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0088: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_1(TaleWorlds.CampaignSystem.Concept c)
IL_008E: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0093: dup
IL_0094: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_0099: Label2
IL_0099: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_009E: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_itemConceptObj
IL_00A3: ldarg.0
IL_00A4: ldarg.1
IL_00A5: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_00AA: ldarg.0
IL_00AB: ldarga.s   5
IL_00AD: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00B2: ldarga.s   5
IL_00B4: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00B9: newobj     System.Void TaleWorlds.Core.ItemRosterElement::.ctor(TaleWorlds.Core.EquipmentElement equipmentElement, System.Int32 amount)
IL_00BE: stfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_00C3: ldarg.0
IL_00C4: ldarg.s    9
IL_00C6: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemCost(System.Int32 value)
IL_00CB: ldarg.0
IL_00CC: ldarga.s   5
IL_00CE: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00D3: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemCount(System.Int32 value)
IL_00D8: ldarg.0
IL_00D9: ldc.i4.1
IL_00DA: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TransactionCount(System.Int32 value)
IL_00DF: ldarg.0
IL_00E0: ldarga.s   5
IL_00E2: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00E7: stloc.0
IL_00E8: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_00EA: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_00EF: callvirt   System.Int32 TaleWorlds.Core.ItemObject::get_Difficulty()
IL_00F4: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemLevel(System.Int32 value)
IL_00F9: ldarg.0
IL_00FA: ldarg.s    6
IL_00FC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_InventorySide(TaleWorlds.CampaignSystem.Inventory.InventorySide value)
IL_0101: ldarga.s   10
IL_0103: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0108: brfalse => Label3
IL_010D: ldarg.s    10
IL_010F: stloc.1
IL_0110: ldc.i4.m1
IL_0111: stloc.2
IL_0112: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_0114: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::GetValueOrDefault()
IL_0119: ldloc.2
IL_011A: ceq
IL_011C: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_011E: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0123: and
IL_0124: brtrue =>  Label4
IL_0129: ldarg.0
IL_012A: ldarga.s   10
IL_012C: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_Value()
IL_0131: stfld      TaleWorlds.Core.EquipmentIndex TaleWorlds.Core.ViewModelCollection.ItemVM::_itemType
IL_0136: Label3
IL_0136: Label4
IL_0136: ldarg.0
IL_0137: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::SetItemTypeId()
IL_013C: ldarg.0
IL_013D: ldarga.s   5
IL_013F: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0144: stloc.0
IL_0145: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0147: call       TaleWorlds.Localization.TextObject TaleWorlds.Core.EquipmentElement::GetModifiedItemName()
IL_014C: callvirt   virtual System.String System.Object::ToString()
IL_0151: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemDescription(System.String value)
IL_0156: ldarg.0
IL_0157: ldarga.s   5
IL_0159: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_015E: call       static System.String TaleWorlds.CampaignSystem.ViewModelCollection.CampaignUIHelper::GetItemLockStringID(TaleWorlds.Core.EquipmentElement equipmentElement)
IL_0163: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_StringId(System.String value)
IL_0168: ldarg.0
IL_0169: ldarga.s   5
IL_016B: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0170: stloc.0
IL_0171: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0173: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0178: call       static TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Clan::get_PlayerClan()
IL_017D: dup
IL_017E: brtrue =>  Label5
IL_0183: pop
IL_0184: ldnull
IL_0185: br =>      Label6
IL_018A: Label5
IL_018A: call       virtual TaleWorlds.Core.Banner TaleWorlds.CampaignSystem.Clan::get_Banner()
IL_018F: callvirt   System.String TaleWorlds.Core.Banner::Serialize()
IL_0194: Label6
IL_0194: newobj     System.Void TaleWorlds.Core.ImageIdentifierVM::.ctor(TaleWorlds.Core.ItemObject itemObject, System.String bannerCode)
IL_0199: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ImageIdentifier(TaleWorlds.Core.ImageIdentifierVM value)
IL_019E: ldarg.0
IL_019F: ldarga.s   5
IL_01A1: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01A6: stloc.0
IL_01A7: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01A9: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01AE: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01B3: ldc.i4     4194304
IL_01B8: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01BD: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsCivilianItem(System.Boolean value)
IL_01C2: ldarg.0
IL_01C3: ldarg.2
IL_01C4: brfalse => Label7
IL_01C9: ldarg.0
IL_01CA: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01CF: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01D4: stloc.0
IL_01D5: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01D7: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01DC: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01E1: ldc.i4     1024
IL_01E6: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01EB: brtrue =>  Label8
IL_01F0: Label7
IL_01F0: ldarg.2
IL_01F1: brtrue =>  Label9
IL_01F6: ldarg.0
IL_01F7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01FC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0201: stloc.0
IL_0202: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0204: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0209: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_020E: ldc.i4     2048
IL_0213: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_0218: br =>      Label10
IL_021D: Label9
IL_021D: ldc.i4.0
IL_021E: br =>      Label11
IL_0223: Label8
IL_0223: ldc.i4.1
IL_0224: Label10
IL_0224: Label11
IL_0224: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsGenderDifferent(System.Boolean value)
IL_0229: ldarg.0
IL_022A: ldarg.3
IL_022B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanCharacterUseItem(System.Boolean value)
IL_0230: ldarg.0
IL_0231: ldarga.s   5
IL_0233: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0238: stloc.0
IL_0239: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_023B: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0240: callvirt   System.Boolean TaleWorlds.Core.ItemObject::get_IsUniqueItem()
IL_0245: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsArtifact(System.Boolean value)
IL_024A: ldarg.0
IL_024B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateCanBeSlaughtered()
IL_0250: ldarg.0
IL_0251: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateHintTexts()
IL_0256: ldarg.0
IL_0257: ldarg.0
IL_0258: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_025D: dup
IL_025E: brtrue =>  Label12
IL_0263: pop
IL_0264: ldc.i4.0
IL_0265: br =>      Label13
IL_026A: Label12
IL_026A: ldarg.0
IL_026B: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_0270: ldarg.0
IL_0271: call       TaleWorlds.CampaignSystem.Inventory.InventorySide TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_InventorySide()
IL_0276: call       System.Boolean TaleWorlds.CampaignSystem.Inventory.InventoryLogic::CanDonateItem(TaleWorlds.Core.ItemRosterElement element, TaleWorlds.CampaignSystem.Inventory.InventorySide sideOfItem)
IL_027B: Label13
IL_027B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanBeDonated(System.Boolean value)
IL_0280: ldarg.0
IL_0281: ldarg.0
IL_0282: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_0287: ldarg.0
IL_0288: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_028D: ldarg.s    6
IL_028F: ldarg.0
IL_0290: ldftn      System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::OnTradeApplyTransaction(System.Int32 amount, System.Boolean isBuying)
IL_0296: newobj     System.Void System.Action`2<System.Int32, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_029B: newobj     System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, TaleWorlds.Core.ItemRosterElement itemRoster, TaleWorlds.CampaignSystem.Inventory.InventorySide side, System.Action`2<System.Int32, System.Boolean> onApplyTransaction)
IL_02A0: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TradeData(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM value)
IL_02A5: ldarg.0
IL_02A6: ldarg.0
IL_02A7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_02AC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02B1: stloc.0
IL_02B2: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02B4: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_02B9: ldc.i4.0
IL_02BA: ceq
IL_02BC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsTransferable(System.Boolean value)
IL_02C1: ldarg.0
IL_02C2: call       TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_TradeData()
IL_02C7: ldarg.0
IL_02C8: call       System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_IsTransferable()
IL_02CD: callvirt   System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::set_IsTradeable(System.Boolean value)
IL_02D2: ldarg.0
IL_02D3: ldarga.s   5
IL_02D5: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02DA: stloc.0
IL_02DB: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02DD: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_02E2: call       static TaleWorlds.CampaignSystem.Inventory.InventoryItemType TaleWorlds.CampaignSystem.Inventory.InventoryManager::GetInventoryItemTypeOfItem(TaleWorlds.Core.ItemObject item)
IL_02E7: ldc.i4     2303
IL_02EC: or
IL_02ED: ldc.i4     2303
IL_02F2: bne.un =>  Label14
IL_02F7: ldarga.s   5
IL_02F9: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02FE: stloc.0
IL_02FF: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0301: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_0306: ldc.i4.0
IL_0307: ceq
IL_0309: br =>      Label15
IL_030E: Label14
IL_030E: ldc.i4.0
IL_030F: Label15
IL_030F: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsEquipableItem(System.Boolean value)
IL_0314: ldarg.0
IL_0315: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateIsNew()
IL_031A: ldarg.0
IL_031B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateProfitType()
IL_0320: // end original
IL_0320: Label16
IL_0320: ldarg.0
IL_0321: call       static System.Void KaosesTweaks.Patches.SPItemVMPatch::Postfix(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM __instance)
IL_0326: ret
DONE

### Harmony id=KaosesTweaks.harmony, version=2.2.2.0, location=C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.Harmony\bin\Win64_Shipping_Client\0Harmony.dll, env/clr=4.0.30319.42000, platform=Win32NT, ptrsize:runtime/env=8/Bits64, Windows
### Started from virtual System.Void KaosesTweaks.SubModule::OnBeforeInitialModuleScreenSetAsRoot(), location C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\KaosesTweaks\bin\Win64_Shipping_Client\KaosesTweaks.dll
### At 2022-07-22 04.51.31
### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::GetUnitValueForFaction(TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable.GetUnitValueForFaction_Patch1(TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable this, TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Int32
IL_0000: ldc.i4     0
IL_0005: stloc      3 (System.Int32)
IL_0009: // start original
IL_0009: ldc.r4     -1000000
IL_000E: stloc.0
IL_000F: ldarg.1
IL_0010: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0015: brtrue =>  Label0
IL_001A: ldarg.1
IL_001B: castclass  TaleWorlds.CampaignSystem.Clan
IL_0020: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_0025: pop
IL_0026: Label0
IL_0026: ldarg.0
IL_0027: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_002C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0031: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0036: pop
IL_0037: ldarg.0
IL_0038: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_003D: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::get_IsKingdomFaction()
IL_0042: brfalse => Label1
IL_0047: ldarg.1
IL_0048: ldarg.0
IL_0049: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_004E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0053: bne.un =>  Label2
IL_0058: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_005D: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0062: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0067: ldarg.0
IL_0068: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_006D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0072: ldarg.0
IL_0073: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0078: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfClanToJoinKingdom(TaleWorlds.CampaignSystem.Clan clan, TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_007D: stloc.0
IL_007E: ldarg.0
IL_007F: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0084: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0089: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_008E: brfalse => Label3
IL_0093: ldarg.0
IL_0094: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0099: ldarg.0
IL_009A: call       TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalParty()
IL_009F: newobj     System.Void TaleWorlds.CampaignSystem.BarterSystem.Barterables.LeaveKingdomAsClanBarterable::.ctor(TaleWorlds.CampaignSystem.Hero owner, TaleWorlds.CampaignSystem.Party.PartyBase ownerParty)
IL_00A4: ldarg.1
IL_00A5: call       System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::GetValueForFaction(TaleWorlds.CampaignSystem.IFaction faction)
IL_00AA: stloc.1
IL_00AB: ldc.r4     0
IL_00B0: stloc.2
IL_00B1: ldarg.0
IL_00B2: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00B7: ldarg.0
IL_00B8: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00BD: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00C2: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00C7: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::IsAtWarWith(TaleWorlds.CampaignSystem.IFaction other)
IL_00CC: brtrue =>  Label4
IL_00D1: ldarg.0
IL_00D2: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00D7: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00DC: ldarg.0
IL_00DD: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00E2: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00E7: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00EC: callvirt   System.Single TaleWorlds.CampaignSystem.Clan::CalculateTotalSettlementValueForFaction(TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_00F1: stloc.2
IL_00F2: ldloc.0
IL_00F3: ldloc.2
IL_00F4: ldarg.0
IL_00F5: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00FA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Kingdom::get_Leader()
IL_00FF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0104: beq =>     Label5
IL_0109: ldc.r4     1
IL_010E: br =>      Label6
IL_0113: Label5
IL_0113: ldc.r4     0.5
IL_0118: Label6
IL_0118: mul
IL_0119: sub
IL_011A: stloc.0
IL_011B: Label4
IL_011B: ldloc.0
IL_011C: ldloc.1
IL_011D: conv.r4
IL_011E: add
IL_011F: stloc.0
IL_0120: br =>      Label7
IL_0125: Label2
IL_0125: ldarg.1
IL_0126: callvirt   abstract virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.IFaction::get_MapFaction()
IL_012B: ldarg.0
IL_012C: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0131: bne.un =>  Label8
IL_0136: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_013B: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0140: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0145: ldarg.0
IL_0146: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_014B: ldarg.0
IL_014C: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0151: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0156: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfKingdomToGetClan(TaleWorlds.CampaignSystem.Kingdom kingdom, TaleWorlds.CampaignSystem.Clan clan)
IL_015B: stloc.0
IL_015C: Label1
IL_015C: Label3
IL_015C: Label7
IL_015C: Label8
IL_015C: ldloc.0
IL_015D: conv.i4
IL_015E: // end original
IL_015E: stloc      3 (System.Int32)
IL_0162: ldloca     3 (System.Int32)
IL_0166: ldarg      1
IL_016A: ldarg.0
IL_016B: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0170: call       static System.Void KaosesTweaks.Patches.BTBarterablePatches::Postfix(System.Int32& __result, TaleWorlds.CampaignSystem.IFaction factionForEvaluation, TaleWorlds.CampaignSystem.Kingdom ___TargetKingdom)
IL_0175: ldloc      3 (System.Int32)
IL_0179: ret
DONE

### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::GetPlayerMaximumTroopCountForHideoutMission(TaleWorlds.CampaignSystem.Party.MobileParty party)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel.GetPlayerMaximumTroopCountForHideoutMission_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel this, TaleWorlds.CampaignSystem.Party.MobileParty party)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      1 (System.Int32)
IL_0009: ldc.i4     0
IL_000E: stloc      2 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      2 (System.Boolean)
IL_0017: ldloc      2 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     1 (System.Int32)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.BTTroopCountForHidoutMission::Prefix(System.Int32& __result)
IL_0029: stloc      2 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      2 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: ldc.r4     10
IL_003C: stloc.0
IL_003D: ldarg.1
IL_003E: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0043: ldc.i4.0
IL_0044: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::HasPerk(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk, System.Boolean checkSecondaryRole)
IL_0049: brfalse => Label2
IL_004E: ldloc.0
IL_004F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0054: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0059: add
IL_005A: stloc.0
IL_005B: Label2
IL_005B: ldloc.0
IL_005C: call       static System.Int32 TaleWorlds.Library.MathF::Round(System.Single f)
IL_0061: // end original
IL_0061: stloc      1 (System.Int32)
IL_0065: Label0
IL_0065: ldloc      1 (System.Int32)
IL_0069: ret
DONE

### Patch: TaleWorlds.CampaignSystem.ExplainedNumber TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::CalculateMobilePartyMemberSizeLimit(TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
### Note: A buffer for the returned struct is used. That requires an extra IntPtr argument before the first real argument
### Replacement: static System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel.CalculateMobilePartyMemberSizeLimit_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel this, System.IntPtr retbuf, TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: Local var 1: System.Nullable`1<System.Boolean>
IL_0000: Local var 2: System.Boolean
IL_0000: Local var 3: System.Nullable`1<System.Boolean>
IL_0000: Local var 4: System.Int32
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>
IL_0000: Local var 7: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0004: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_000A: // start original
IL_000A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_000C: ldc.r4     20
IL_0011: ldarg.3
IL_0012: ldarg.0
IL_0013: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_baseSizeText
IL_0018: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::.ctor(System.Single baseNumber, System.Boolean includeDescriptions, TaleWorlds.Localization.TextObject baseText)
IL_001D: ldarg.2
IL_001E: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0023: brfalse => Label0
IL_0028: ldarg.2
IL_0029: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_002E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0033: brfalse => Label1
IL_0038: ldarg.2
IL_0039: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_003E: brtrue =>  Label2
IL_0043: ldarg.2
IL_0044: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0049: brfalse => Label3
IL_004E: ldarg.2
IL_004F: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0054: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0059: brfalse => Label4
IL_005E: ldarg.2
IL_005F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0064: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0069: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_006E: ldarg.2
IL_006F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0074: bne.un =>  Label5
IL_0079: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_007B: ldc.r4     20
IL_0080: ldarg.0
IL_0081: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_factionLeaderText
IL_0086: ldnull
IL_0087: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_008C: Label3
IL_008C: Label4
IL_008C: Label5
IL_008C: ldarg.2
IL_008D: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0092: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_0097: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_009C: brfalse => Label6
IL_00A1: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00A3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00A8: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00AD: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00B2: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00B7: ldnull
IL_00B8: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00BD: Label6
IL_00BD: ldarg.2
IL_00BE: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00C3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00C8: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00CD: brfalse => Label7
IL_00D2: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00D4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00D9: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00DE: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00E3: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00E8: ldnull
IL_00E9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00EE: Label7
IL_00EE: ldarg.2
IL_00EF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_00F9: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00FE: brfalse => Label8
IL_0103: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0105: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_010A: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_010F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_0114: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0119: ldnull
IL_011A: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_011F: Label8
IL_011F: ldarg.2
IL_0120: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0125: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_012A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_012F: brfalse => Label9
IL_0134: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0136: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_013B: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0140: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_0145: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_014A: ldnull
IL_014B: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0150: Label9
IL_0150: ldarg.2
IL_0151: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0156: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_015B: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0160: brfalse => Label10
IL_0165: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0167: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_016C: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0171: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_0176: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_017B: ldnull
IL_017C: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0181: Label10
IL_0181: ldarg.2
IL_0182: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0187: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_018C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0191: brfalse => Label11
IL_0196: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0198: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_019D: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01A2: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_01A7: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01AC: ldnull
IL_01AD: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01B2: Label11
IL_01B2: ldarg.2
IL_01B3: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_01B8: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01BD: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_01C2: brfalse => Label12
IL_01C7: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_01C9: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01CE: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01D3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01D8: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01DD: ldnull
IL_01DE: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01E3: Label12
IL_01E3: ldarg.2
IL_01E4: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_01E9: dup
IL_01EA: brtrue =>  Label13
IL_01EF: pop
IL_01F0: ldc.i4.0
IL_01F1: br =>      Label14
IL_01F6: Label13
IL_01F6: call       virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_01FB: dup
IL_01FC: brtrue =>  Label15
IL_0201: pop
IL_0202: ldloca.s   3 (System.Nullable`1[System.Boolean])
IL_0204: initobj    System.Nullable`1[System.Boolean]
IL_020A: ldloc.3
IL_020B: br =>      Label16
IL_0210: Label15
IL_0210: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0215: call       System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_021A: newobj     System.Void System.Nullable`1<System.Boolean>::.ctor(System.Boolean value)
IL_021F: Label16
IL_021F: stloc.1
IL_0220: ldc.i4.1
IL_0221: stloc.2
IL_0222: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_0224: call       System.Boolean System.Nullable`1<System.Boolean>::GetValueOrDefault()
IL_0229: ldloc.2
IL_022A: ceq
IL_022C: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_022E: call       System.Boolean System.Nullable`1<System.Boolean>::get_HasValue()
IL_0233: and
IL_0234: Label14
IL_0234: brfalse => Label17
IL_0239: ldc.i4.0
IL_023A: stloc.s    4 (System.Int32)
IL_023C: ldarg.2
IL_023D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_0242: callvirt   virtual TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.CampaignSystem.Clan::get_Settlements()
IL_0247: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement>::GetEnumerator()
IL_024C: stloc.s    6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
.try
{
	IL_024E: br =>      Label18
	IL_0253: Label20
	IL_0253: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0255: call       virtual TaleWorlds.CampaignSystem.Settlements.Settlement System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::get_Current()
	IL_025A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Settlements.Settlement::get_IsTown()
	IL_025F: brfalse => Label19
	IL_0264: ldloc.s    4 (System.Int32)
	IL_0266: ldc.i4.1
	IL_0267: add
	IL_0268: stloc.s    4 (System.Int32)
	IL_026A: Label18
	IL_026A: Label19
	IL_026A: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_026C: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::MoveNext()
	IL_0271: brtrue =>  Label20
	IL_0276: leave =>   Label21
	IL_027B: leave =>   (autogenerated)
} // end try
.finally
{
	IL_0280: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0282: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement]
	IL_0288: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_028D: endfinally
	IL_028E: leave =>   (autogenerated)
} // end handler
IL_028F: Label21
IL_028F: ldloc.s    4 (System.Int32)
IL_0291: conv.r4
IL_0292: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0297: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_029C: mul
IL_029D: stloc.s    5 (System.Single)
IL_029F: ldloc.s    5 (System.Single)
IL_02A1: ldc.r4     0
IL_02A6: ble.un =>  Label22
IL_02AB: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_02AD: ldloc.s    5 (System.Single)
IL_02AF: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_02B4: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_02B9: ldnull
IL_02BA: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_02BF: Label17
IL_02BF: Label22
IL_02BF: ldarg.2
IL_02C0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02C5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02CA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_02CF: ldarg.2
IL_02D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02D5: bne.un =>  Label23
IL_02DA: ldarg.2
IL_02DB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02E0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02E5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_02EA: ldc.i4.5
IL_02EB: blt =>     Label24
IL_02F0: ldarg.2
IL_02F1: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_02F6: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_02FB: brfalse => Label25
IL_0300: ldarg.2
IL_0301: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0306: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_030B: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_0310: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_0315: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_031A: brfalse => Label26
IL_031F: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0321: ldc.r4     40
IL_0326: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_032B: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0330: ldnull
IL_0331: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0336: Label24
IL_0336: Label25
IL_0336: Label26
IL_0336: ldarg.2
IL_0337: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_033C: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0341: brfalse => Label27
IL_0346: ldarg.2
IL_0347: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_034C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0351: ldarg.2
IL_0352: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0357: bne.un =>  Label28
IL_035C: ldarg.2
IL_035D: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0362: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_0367: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_036C: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0371: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_0376: brfalse => Label29
IL_037B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_037D: ldc.r4     60
IL_0382: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0387: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_038C: ldnull
IL_038D: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0392: Label27
IL_0392: Label28
IL_0392: Label29
IL_0392: ldarg.2
IL_0393: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0398: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_039D: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03A2: ldc.i4.0
IL_03A3: ble =>     Label30
IL_03A8: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03AA: ldarg.2
IL_03AB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03B0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03B5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03BA: ldc.i4.s   25
IL_03BC: mul
IL_03BD: conv.r4
IL_03BE: ldarg.0
IL_03BF: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_03C4: ldnull
IL_03C5: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_03CA: br =>      Label31
IL_03CF: Label23
IL_03CF: ldarg.2
IL_03D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03D5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03DA: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03DF: ldc.i4.0
IL_03E0: ble =>     Label32
IL_03E5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03E7: ldarg.2
IL_03E8: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03ED: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03F2: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03F7: ldc.i4.s   15
IL_03F9: mul
IL_03FA: conv.r4
IL_03FB: ldarg.0
IL_03FC: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_0401: ldnull
IL_0402: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0407: Label30
IL_0407: Label31
IL_0407: Label32
IL_0407: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0409: ldarg.2
IL_040A: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_EffectiveQuartermaster()
IL_040F: call       static TaleWorlds.Core.SkillObject TaleWorlds.Core.DefaultSkills::get_Steward()
IL_0414: callvirt   System.Int32 TaleWorlds.CampaignSystem.Hero::GetSkillValue(TaleWorlds.Core.SkillObject skill)
IL_0419: ldc.i4.4
IL_041A: div
IL_041B: conv.r4
IL_041C: ldarg.0
IL_041D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_quarterMasterText
IL_0422: ldnull
IL_0423: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0428: ldarg.0
IL_0429: ldarg.2
IL_042A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_042C: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddMobilePartyLeaderPartySizePerkEffects(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_0431: ldarg.0
IL_0432: ldarg.2
IL_0433: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0435: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddUltimateLeaderPerkEffectForPartySize(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_043A: ldsfld     System.Boolean TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_addAdditionalPartySizeAsCheat
IL_043F: brfalse => Label33
IL_0444: ldarg.2
IL_0445: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsMainParty()
IL_044A: brfalse => Label34
IL_044F: call       static TaleWorlds.Core.Game TaleWorlds.Core.Game::get_Current()
IL_0454: callvirt   System.Boolean TaleWorlds.Core.Game::get_CheatMode()
IL_0459: brfalse => Label35
IL_045E: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0460: ldc.r4     5000
IL_0465: ldstr      "{=!}Additional size from extra party cheat"
IL_046A: ldnull
IL_046B: newobj     System.Void TaleWorlds.Localization.TextObject::.ctor(System.String value, System.Collections.Generic.Dictionary`2<System.String, System.Object> attributes)
IL_0470: ldnull
IL_0471: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0476: br =>      Label36
IL_047B: Label0
IL_047B: Label1
IL_047B: Label2
IL_047B: ldarg.2
IL_047C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_0481: brfalse => Label37
IL_0486: ldarg.2
IL_0487: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_048C: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_0491: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0496: bne.un =>  Label38
IL_049B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_049D: ldc.r4     10
IL_04A2: ldarg.0
IL_04A3: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_04A8: ldnull
IL_04A9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_04AE: br =>      Label39
IL_04B3: Label38
IL_04B3: ldarg.2
IL_04B4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04B9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04BE: dup
IL_04BF: brtrue =>  Label40
IL_04C4: pop
IL_04C5: ldc.i4.0
IL_04C6: br =>      Label41
IL_04CB: Label40
IL_04CB: call       System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsNotable()
IL_04D0: Label41
IL_04D0: brfalse => Label42
IL_04D5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_04D7: ldc.i4.s   10
IL_04D9: ldarg.2
IL_04DA: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04DF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04E4: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_04E9: ldc.r4     100
IL_04EE: blt =>     Label43
IL_04F3: ldarg.2
IL_04F4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04F9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04FE: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_0503: ldc.r4     200
IL_0508: blt =>     Label44
IL_050D: ldc.i4.3
IL_050E: br =>      Label45
IL_0513: Label44
IL_0513: ldc.i4.2
IL_0514: br =>      Label46
IL_0519: Label43
IL_0519: ldc.i4.1
IL_051A: Label45
IL_051A: Label46
IL_051A: mul
IL_051B: conv.r4
IL_051C: ldarg.0
IL_051D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0522: ldnull
IL_0523: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0528: br =>      Label47
IL_052D: Label37
IL_052D: ldarg.2
IL_052E: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_0533: brfalse => Label48
IL_0538: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_053A: ldc.r4     40
IL_053F: ldarg.0
IL_0540: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0545: ldnull
IL_0546: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_054B: Label33
IL_054B: Label34
IL_054B: Label35
IL_054B: Label36
IL_054B: Label39
IL_054B: Label42
IL_054B: Label47
IL_054B: Label48
IL_054B: ldloc.0
IL_054C: // end original
IL_054C: stloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0550: ldarg      2
IL_0554: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0558: call       static System.Void KaosesTweaks.Patches.DefaultPartySizeLimitModelPatch::Postfix(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& __result)
IL_055D: ldloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0561: ldloca     8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0565: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_056B: stloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_056F: ldarg.1
IL_0570: ldloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0574: stobj      TaleWorlds.CampaignSystem.ExplainedNumber
IL_0579: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Party.MobileParty::FillPartyStacks(TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Party.MobileParty::TaleWorlds.CampaignSystem.Party.MobileParty.FillPartyStacks_Patch1(TaleWorlds.CampaignSystem.Party.MobileParty this, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Single
IL_0000: Local var 4: System.Single
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Single
IL_0000: Local var 7: System.Single
IL_0000: Local var 8: System.Single
IL_0000: Local var 9: System.Single
IL_0000: Local var 10: System.Single
IL_0000: Local var 11: System.Int32
IL_0000: Local var 12: System.Int32
IL_0000: Local var 13: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 14: System.Int32
IL_0000: Local var 15: System.Int32
IL_0000: Local var 16: System.Single
IL_0000: Local var 17: System.Single
IL_0000: Local var 18: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 19: System.Int32
IL_0000: Local var 20: System.Int32
IL_0000: Local var 21: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      21 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      21 (System.Boolean)
IL_000E: ldloc      21 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg      1
IL_001F: ldarg      2
IL_0023: call       static System.Boolean KaosesTweaks.Patches.TitanFillPartyStacksPatch::Prefix(TaleWorlds.CampaignSystem.Party.MobileParty& __instance, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0028: stloc      21 (System.Boolean)
IL_002C: Label1
IL_002C: nop
IL_002D: ldloc      21 (System.Boolean)
IL_0031: brfalse => Label0
IL_0036: // start original
IL_0036: ldarg.0
IL_0037: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsBandit()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0046: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_004B: stloc.0
IL_004C: ldc.r4     0.4
IL_0051: ldc.r4     0.8
IL_0056: ldloc.0
IL_0057: mul
IL_0058: add
IL_0059: stloc.1
IL_005A: ldc.i4.2
IL_005B: call       static System.Int32 TaleWorlds.Core.MBRandom::RandomInt(System.Int32 maxValue)
IL_0060: dup
IL_0061: brfalse => Label3
IL_0066: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_006B: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0070: mul
IL_0071: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0076: mul
IL_0077: ldc.r4     4
IL_007C: mul
IL_007D: br =>      Label4
IL_0082: Label3
IL_0082: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0087: Label4
IL_0087: stloc.2
IL_0088: brfalse => Label5
IL_008D: ldc.r4     1
IL_0092: ldloc.2
IL_0093: add
IL_0094: br =>      Label6
IL_0099: Label5
IL_0099: ldloc.2
IL_009A: ldc.r4     0.8
IL_009F: mul
IL_00A0: ldc.r4     0.2
IL_00A5: add
IL_00A6: Label6
IL_00A6: stloc.3
IL_00A7: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00AC: stloc.s    4 (System.Single)
IL_00AE: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00B3: stloc.s    5 (System.Single)
IL_00B5: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00BA: stloc.s    6 (System.Single)
IL_00BC: ldarg.1
IL_00BD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00C2: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_00C7: ldc.i4.0
IL_00C8: bgt =>     Label7
IL_00CD: ldc.r4     0
IL_00D2: br =>      Label8
IL_00D7: Label7
IL_00D7: ldarg.1
IL_00D8: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00DD: ldc.i4.0
IL_00DE: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00E3: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_00E8: conv.r4
IL_00E9: ldloc.1
IL_00EA: ldloc.3
IL_00EB: mul
IL_00EC: ldloc.s    4 (System.Single)
IL_00EE: mul
IL_00EF: ldarg.1
IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00F5: ldc.i4.0
IL_00F6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00FB: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0100: ldarg.1
IL_0101: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0106: ldc.i4.0
IL_0107: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_010C: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0111: sub
IL_0112: conv.r4
IL_0113: mul
IL_0114: add
IL_0115: Label8
IL_0115: stloc.s    7 (System.Single)
IL_0117: ldarg.1
IL_0118: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_011D: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0122: ldc.i4.1
IL_0123: bgt =>     Label9
IL_0128: ldc.r4     0
IL_012D: br =>      Label10
IL_0132: Label9
IL_0132: ldarg.1
IL_0133: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0138: ldc.i4.1
IL_0139: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_013E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0143: conv.r4
IL_0144: ldloc.1
IL_0145: ldloc.3
IL_0146: mul
IL_0147: ldloc.s    5 (System.Single)
IL_0149: mul
IL_014A: ldarg.1
IL_014B: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0150: ldc.i4.1
IL_0151: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0156: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_015B: ldarg.1
IL_015C: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0161: ldc.i4.1
IL_0162: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0167: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_016C: sub
IL_016D: conv.r4
IL_016E: mul
IL_016F: add
IL_0170: Label10
IL_0170: stloc.s    8 (System.Single)
IL_0172: ldarg.1
IL_0173: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0178: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_017D: ldc.i4.2
IL_017E: bgt =>     Label11
IL_0183: ldc.r4     0
IL_0188: br =>      Label12
IL_018D: Label11
IL_018D: ldarg.1
IL_018E: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0193: ldc.i4.2
IL_0194: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0199: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_019E: conv.r4
IL_019F: ldloc.1
IL_01A0: ldloc.3
IL_01A1: mul
IL_01A2: ldloc.s    6 (System.Single)
IL_01A4: mul
IL_01A5: ldarg.1
IL_01A6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01AB: ldc.i4.2
IL_01AC: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01B1: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_01B6: ldarg.1
IL_01B7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01BC: ldc.i4.2
IL_01BD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01C2: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_01C7: sub
IL_01C8: conv.r4
IL_01C9: mul
IL_01CA: add
IL_01CB: Label12
IL_01CB: stloc.s    9 (System.Single)
IL_01CD: ldarg.0
IL_01CE: ldarg.1
IL_01CF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01D4: ldc.i4.0
IL_01D5: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01DA: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_01DF: ldloc.s    7 (System.Single)
IL_01E1: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_01E6: ldc.i4.0
IL_01E7: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_01EC: pop
IL_01ED: ldarg.1
IL_01EE: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01F3: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_01F8: ldc.i4.1
IL_01F9: ble =>     Label13
IL_01FE: ldarg.0
IL_01FF: ldarg.1
IL_0200: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0205: ldc.i4.1
IL_0206: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_020B: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0210: ldloc.s    8 (System.Single)
IL_0212: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0217: ldc.i4.0
IL_0218: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_021D: pop
IL_021E: Label13
IL_021E: ldarg.1
IL_021F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0224: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0229: ldc.i4.2
IL_022A: ble =>     Label14
IL_022F: ldarg.0
IL_0230: ldarg.1
IL_0231: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0236: ldc.i4.2
IL_0237: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_023C: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0241: ldloc.s    9 (System.Single)
IL_0243: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0248: ldc.i4.0
IL_0249: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_024E: pop
IL_024F: br =>      Label39
IL_0254: Label2
IL_0254: ldarg.2
IL_0255: ldc.i4.0
IL_0256: bge =>     Label15
IL_025B: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0260: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_0265: stloc.s    10 (System.Single)
IL_0267: ldc.i4.0
IL_0268: stloc.s    11 (System.Int32)
IL_026A: br =>      Label16
IL_026F: Label17
IL_026F: ldloc.s    10 (System.Single)
IL_0271: ldarg.1
IL_0272: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0277: ldloc.s    11 (System.Int32)
IL_0279: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_027E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0283: ldarg.1
IL_0284: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0289: ldloc.s    11 (System.Int32)
IL_028B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0290: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0295: sub
IL_0296: conv.r4
IL_0297: mul
IL_0298: conv.i4
IL_0299: ldarg.1
IL_029A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_029F: ldloc.s    11 (System.Int32)
IL_02A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02A6: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_02AB: add
IL_02AC: stloc.s    12 (System.Int32)
IL_02AE: ldarg.1
IL_02AF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02B4: ldloc.s    11 (System.Int32)
IL_02B6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02BB: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_02C0: stloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C2: ldarg.0
IL_02C3: ldloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C5: ldloc.s    12 (System.Int32)
IL_02C7: ldc.i4.0
IL_02C8: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_02CD: pop
IL_02CE: ldloc.s    11 (System.Int32)
IL_02D0: ldc.i4.1
IL_02D1: add
IL_02D2: stloc.s    11 (System.Int32)
IL_02D4: Label16
IL_02D4: ldloc.s    11 (System.Int32)
IL_02D6: ldarg.1
IL_02D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02DC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_02E1: blt =>     Label17
IL_02E6: br =>      Label40
IL_02EB: Label15
IL_02EB: ldc.i4.0
IL_02EC: stloc.s    14 (System.Int32)
IL_02EE: br =>      Label18
IL_02F3: Label38
IL_02F3: ldc.i4.m1
IL_02F4: stloc.s    15 (System.Int32)
IL_02F6: ldc.r4     0
IL_02FB: stloc.s    16 (System.Single)
IL_02FD: ldc.i4.0
IL_02FE: stloc.s    19 (System.Int32)
IL_0300: br =>      Label19
IL_0305: Label26
IL_0305: ldloc.s    16 (System.Single)
IL_0307: ldarg.0
IL_0308: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_030D: brfalse => Label20
IL_0312: ldarg.1
IL_0313: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0318: ldloc.s    19 (System.Int32)
IL_031A: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_031F: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0324: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_0329: brtrue =>  Label21
IL_032E: Label20
IL_032E: ldarg.0
IL_032F: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_0334: brfalse => Label22
IL_0339: ldarg.1
IL_033A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_033F: ldloc.s    19 (System.Int32)
IL_0341: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0346: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_034B: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0350: brfalse => Label23
IL_0355: Label22
IL_0355: ldc.r4     1
IL_035A: br =>      Label24
IL_035F: Label23
IL_035F: ldc.r4     2
IL_0364: br =>      Label25
IL_0369: Label21
IL_0369: ldc.r4     6
IL_036E: Label24
IL_036E: Label25
IL_036E: ldarg.1
IL_036F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0374: ldloc.s    19 (System.Int32)
IL_0376: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_037B: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0380: ldarg.1
IL_0381: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0386: ldloc.s    19 (System.Int32)
IL_0388: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_038D: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0392: add
IL_0393: conv.r4
IL_0394: ldc.r4     2
IL_0399: div
IL_039A: mul
IL_039B: add
IL_039C: stloc.s    16 (System.Single)
IL_039E: ldloc.s    19 (System.Int32)
IL_03A0: ldc.i4.1
IL_03A1: add
IL_03A2: stloc.s    19 (System.Int32)
IL_03A4: Label19
IL_03A4: ldloc.s    19 (System.Int32)
IL_03A6: ldarg.1
IL_03A7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03AC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_03B1: blt =>     Label26
IL_03B6: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_03BB: ldloc.s    16 (System.Single)
IL_03BD: mul
IL_03BE: stloc.s    17 (System.Single)
IL_03C0: ldc.i4.0
IL_03C1: stloc.s    20 (System.Int32)
IL_03C3: br =>      Label27
IL_03C8: Label36
IL_03C8: ldloc.s    17 (System.Single)
IL_03CA: ldarg.0
IL_03CB: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03D0: brfalse => Label28
IL_03D5: ldarg.1
IL_03D6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03DB: ldloc.s    20 (System.Int32)
IL_03DD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_03E2: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_03E7: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_03EC: brtrue =>  Label29
IL_03F1: Label28
IL_03F1: ldarg.0
IL_03F2: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03F7: brfalse => Label30
IL_03FC: ldarg.1
IL_03FD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0402: ldloc.s    20 (System.Int32)
IL_0404: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0409: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_040E: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0413: brfalse => Label31
IL_0418: Label30
IL_0418: ldc.r4     1
IL_041D: br =>      Label32
IL_0422: Label31
IL_0422: ldc.r4     2
IL_0427: br =>      Label33
IL_042C: Label29
IL_042C: ldc.r4     6
IL_0431: Label32
IL_0431: Label33
IL_0431: ldarg.1
IL_0432: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0437: ldloc.s    20 (System.Int32)
IL_0439: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_043E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0443: ldarg.1
IL_0444: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0449: ldloc.s    20 (System.Int32)
IL_044B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0450: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0455: add
IL_0456: conv.r4
IL_0457: ldc.r4     2
IL_045C: div
IL_045D: mul
IL_045E: sub
IL_045F: stloc.s    17 (System.Single)
IL_0461: ldloc.s    17 (System.Single)
IL_0463: ldc.r4     0
IL_0468: bge.un =>  Label34
IL_046D: ldloc.s    20 (System.Int32)
IL_046F: stloc.s    15 (System.Int32)
IL_0471: br =>      Label35
IL_0476: Label34
IL_0476: ldloc.s    20 (System.Int32)
IL_0478: ldc.i4.1
IL_0479: add
IL_047A: stloc.s    20 (System.Int32)
IL_047C: Label27
IL_047C: ldloc.s    20 (System.Int32)
IL_047E: ldarg.1
IL_047F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0484: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0489: blt =>     Label36
IL_048E: Label35
IL_048E: ldloc.s    15 (System.Int32)
IL_0490: ldc.i4.0
IL_0491: bge =>     Label37
IL_0496: ldc.i4.0
IL_0497: stloc.s    15 (System.Int32)
IL_0499: Label37
IL_0499: ldarg.1
IL_049A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_049F: ldloc.s    15 (System.Int32)
IL_04A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_04A6: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_04AB: stloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04AD: ldarg.0
IL_04AE: ldloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04B0: ldc.i4.1
IL_04B1: ldc.i4.0
IL_04B2: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_04B7: pop
IL_04B8: ldloc.s    14 (System.Int32)
IL_04BA: ldc.i4.1
IL_04BB: add
IL_04BC: stloc.s    14 (System.Int32)
IL_04BE: Label18
IL_04BE: ldloc.s    14 (System.Int32)
IL_04C0: ldarg.2
IL_04C1: blt =>     Label38
IL_04C6: ldarg.0
IL_04C7: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_04CC: pop
IL_04CD: // end original
IL_04CD: Label14
IL_04CD: Label39
IL_04CD: Label40
IL_04CD: Label0
IL_04CD: ret
DONE

### Patch: System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_player_can_open_courtship_on_condition()
### Replacement: static System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_player_can_open_courtship_on_condition_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: System.Boolean
IL_0000: Local var 1: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4     0
IL_000E: stloc      1 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      1 (System.Boolean)
IL_0017: ldloc      1 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     0 (System.Boolean)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix1(System.Boolean& __result)
IL_0029: stloc      1 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      1 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0046: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_004B: dup
IL_004C: brtrue =>  Label3
IL_0051: pop
IL_0052: ldc.i4.0
IL_0053: br =>      Label4
IL_0058: Label3
IL_0058: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsMinorFaction()
IL_005D: Label4
IL_005D: brtrue =>  Label5
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0067: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsPrisoner()
IL_006C: brfalse => Label6
IL_0071: Label2
IL_0071: Label5
IL_0071: ldc.i4.0
IL_0072: br =>      Label15
IL_0077: Label6
IL_0077: ldarg.0
IL_0078: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007D: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0082: call       System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::MarriageCourtshipPossibility(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0087: brfalse => Label7
IL_008C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_009B: brtrue =>  Label8
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_00AA: brfalse => Label9
IL_00AF: ldstr      "FLIRTATION_LINE"
IL_00B4: ldstr      "{=bjJs0eeB}My lord, I note that you have not yet taken a wife."
IL_00B9: ldc.i4.0
IL_00BA: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00BF: br =>      Label10
IL_00C4: Label9
IL_00C4: ldstr      "FLIRTATION_LINE"
IL_00C9: ldstr      "{=v1hC6Aem}My lady, I wish to profess myself your most ardent admirer."
IL_00CE: ldc.i4.0
IL_00CF: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00D4: Label10
IL_00D4: ldc.i4.1
IL_00D5: br =>      Label16
IL_00DA: Label7
IL_00DA: Label8
IL_00DA: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00DF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00E4: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00E9: ldc.i4.1
IL_00EA: beq =>     Label11
IL_00EF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00F9: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00FE: ldc.i4.2
IL_00FF: bne.un =>  Label12
IL_0104: Label11
IL_0104: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0109: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_010E: brfalse => Label13
IL_0113: ldstr      "FLIRTATION_LINE"
IL_0118: ldstr      "{=2WnhUBMM}My lord, may you give me another chance to prove myself?"
IL_011D: ldc.i4.0
IL_011E: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0123: br =>      Label14
IL_0128: Label13
IL_0128: ldstr      "FLIRTATION_LINE"
IL_012D: ldstr      "{=4iTaEZKg}My lady, may you give me another chance to prove myself?"
IL_0132: ldc.i4.0
IL_0133: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0138: Label14
IL_0138: ldc.i4.1
IL_0139: br =>      Label17
IL_013E: Label12
IL_013E: ldc.i4.0
IL_013F: // end original
IL_013F: Label15
IL_013F: Label16
IL_013F: Label17
IL_013F: stloc      0 (System.Boolean)
IL_0143: Label0
IL_0143: ldloc      0 (System.Boolean)
IL_0147: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_start_courtship_persuasion_pt1_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_start_courtship_persuasion_pt1_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix2(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_005C: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0061: ldc.i4.3
IL_0062: bne.un =>  Label2
IL_0067: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: ldc.i4.4
IL_0072: call       static System.Void TaleWorlds.CampaignSystem.Actions.ChangeRomanticStateAction::Apply(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2, TaleWorlds.CampaignSystem.RomanceLevelEnum toWhat)
IL_0077: Label2
IL_0077: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0081: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0086: stloc.0
IL_0087: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_008C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_009B: bne.un =>  Label3
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: stloc.0
IL_00A6: Label3
IL_00A6: ldarg.0
IL_00A7: ldarg.0
IL_00A8: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00AD: ldloc.0
IL_00AE: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage1(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_00B3: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B8: ldarg.0
IL_00B9: ldarg.0
IL_00BA: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00BF: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_00C4: conv.r4
IL_00C5: ldc.r4     1
IL_00CA: mul
IL_00CB: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00D0: ldc.r4     0
IL_00D5: stloc.1
IL_00D6: ldarg.0
IL_00D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00DC: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00E1: stloc.2
.try
{
	IL_00E2: br =>      Label4
	IL_00E7: Label17
	IL_00E7: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00E9: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00EE: stloc.3
	IL_00EF: ldarg.0
	IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00F5: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00FA: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00FC: br =>      Label5
		IL_0101: Label15
		IL_0101: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0103: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_0108: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010A: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_0111: ldloc.3
		IL_0112: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_0117: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_011C: brfalse => Label6
		IL_0121: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_0123: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0128: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012A: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012C: switch =>  Labels7,8,9,10
		IL_0141: br =>      Label11
		IL_0146: Label9
		IL_0146: ldloc.1
		IL_0147: ldarg.0
		IL_0148: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_014D: add
		IL_014E: stloc.1
		IL_014F: br =>      Label12
		IL_0154: Label10
		IL_0154: ldloc.1
		IL_0155: ldarg.0
		IL_0156: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_015B: add
		IL_015C: stloc.1
		IL_015D: br =>      Label13
		IL_0162: Label7
		IL_0162: ldloc.1
		IL_0163: ldarg.0
		IL_0164: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0169: sub
		IL_016A: stloc.1
		IL_016B: br =>      Label14
		IL_0170: Label8
		IL_0170: ldloc.1
		IL_0171: ldc.r4     0
		IL_0176: sub
		IL_0177: stloc.1
		IL_0178: Label5
		IL_0178: Label6
		IL_0178: Label11
		IL_0178: Label12
		IL_0178: Label13
		IL_0178: Label14
		IL_0178: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_017F: brtrue =>  Label15
		IL_0184: leave =>   Label16
		IL_0189: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_018E: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_019B: endfinally
		IL_019C: leave =>   (autogenerated)
	} // end handler
	IL_019D: Label4
	IL_019D: Label16
	IL_019D: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_019F: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_01A4: brtrue =>  Label17
	IL_01A9: leave =>   Label18
	IL_01AE: leave =>   (autogenerated)
} // end try
.finally
{
	IL_01B3: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_01B5: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_01BB: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_01C0: endfinally
	IL_01C1: leave =>   (autogenerated)
} // end handler
IL_01C2: Label18
IL_01C2: ldarg.0
IL_01C3: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01C8: ldarg.0
IL_01C9: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01CE: ldarg.0
IL_01CF: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01D4: ldarg.0
IL_01D5: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01DA: ldarg.0
IL_01DB: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01E0: ldarg.0
IL_01E1: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01E6: ldloc.1
IL_01E7: ldc.i4.3
IL_01E8: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01ED: // end original
IL_01ED: Label0
IL_01ED: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_continue_courtship_stage_2_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_continue_courtship_stage_2_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix3(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_005C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0061: stloc.0
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0067: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0076: bne.un =>  Label2
IL_007B: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0080: stloc.0
IL_0081: Label2
IL_0081: ldarg.0
IL_0082: ldarg.0
IL_0083: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0088: ldloc.0
IL_0089: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage2(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_008E: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0093: ldarg.0
IL_0094: ldarg.0
IL_0095: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_009A: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_009F: conv.r4
IL_00A0: ldc.r4     1
IL_00A5: mul
IL_00A6: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00AB: ldc.r4     0
IL_00B0: stloc.1
IL_00B1: ldarg.0
IL_00B2: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B7: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00BC: stloc.2
.try
{
	IL_00BD: br =>      Label3
	IL_00C2: Label16
	IL_00C2: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00C4: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00C9: stloc.3
	IL_00CA: ldarg.0
	IL_00CB: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00D0: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00D5: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00D7: br =>      Label4
		IL_00DC: Label14
		IL_00DC: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_00DE: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_00E3: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E5: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E7: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_00EC: ldloc.3
		IL_00ED: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_00F2: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_00F7: brfalse => Label5
		IL_00FC: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00FE: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0103: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0105: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0107: switch =>  Labels6,7,8,9
		IL_011C: br =>      Label10
		IL_0121: Label8
		IL_0121: ldloc.1
		IL_0122: ldarg.0
		IL_0123: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_0128: add
		IL_0129: stloc.1
		IL_012A: br =>      Label11
		IL_012F: Label9
		IL_012F: ldloc.1
		IL_0130: ldarg.0
		IL_0131: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_0136: add
		IL_0137: stloc.1
		IL_0138: br =>      Label12
		IL_013D: Label6
		IL_013D: ldloc.1
		IL_013E: ldarg.0
		IL_013F: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0144: sub
		IL_0145: stloc.1
		IL_0146: br =>      Label13
		IL_014B: Label7
		IL_014B: ldloc.1
		IL_014C: ldc.r4     0
		IL_0151: sub
		IL_0152: stloc.1
		IL_0153: Label4
		IL_0153: Label5
		IL_0153: Label10
		IL_0153: Label11
		IL_0153: Label12
		IL_0153: Label13
		IL_0153: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0155: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_015A: brtrue =>  Label14
		IL_015F: leave =>   Label15
		IL_0164: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_0169: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_016B: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0171: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_0176: endfinally
		IL_0177: leave =>   (autogenerated)
	} // end handler
	IL_0178: Label3
	IL_0178: Label15
	IL_0178: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_017F: brtrue =>  Label16
	IL_0184: leave =>   Label17
	IL_0189: leave =>   (autogenerated)
} // end try
.finally
{
	IL_018E: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_019B: endfinally
	IL_019C: leave =>   (autogenerated)
} // end handler
IL_019D: Label17
IL_019D: ldarg.0
IL_019E: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01A3: ldarg.0
IL_01A4: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01A9: ldarg.0
IL_01AA: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01AF: ldarg.0
IL_01B0: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01B5: ldarg.0
IL_01B6: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01BB: ldarg.0
IL_01BC: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01C1: ldloc.1
IL_01C2: ldc.i4.3
IL_01C3: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01C8: // end original
IL_01C8: Label0
IL_01C8: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Hero::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Hero::TaleWorlds.CampaignSystem.Hero.AddSkillXp_Patch1(TaleWorlds.CampaignSystem.Hero this, TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
IL_0000: Local var 0: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      0 (System.Boolean)
IL_000E: ldloc      0 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarg.0
IL_0018: ldarg      1
IL_001C: ldarga     2
IL_0020: call       static System.Void KaosesTweaks.Patches.Patches::Prefix(TaleWorlds.CampaignSystem.Hero __instance, TaleWorlds.Core.SkillObject skill, System.Single& xpAmount)
IL_0025: Label1
IL_0025: nop
IL_0026: ldloc      0 (System.Boolean)
IL_002A: brfalse => Label0
IL_002F: // start original
IL_002F: ldarg.0
IL_0030: ldfld      TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper TaleWorlds.CampaignSystem.Hero::_heroDeveloper
IL_0035: dup
IL_0036: brtrue =>  Label2
IL_003B: pop
IL_003C: br =>      Label3
IL_0041: Label2
IL_0041: ldarg.1
IL_0042: ldarg.2
IL_0043: ldc.i4.1
IL_0044: ldc.i4.1
IL_0045: callvirt   abstract virtual System.Void TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single rawXp, System.Boolean isAffectedByFocusFactor, System.Boolean shouldNotify)
IL_004A: // end original
IL_004A: Label3
IL_004A: Label0
IL_004A: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
### Replacement: static System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM..ctor_Patch1(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM this, TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
IL_0000: Local var 0: TaleWorlds.Core.EquipmentElement
IL_0000: Local var 1: System.Nullable`1<TaleWorlds.Core.EquipmentIndex>
IL_0000: Local var 2: TaleWorlds.Core.EquipmentIndex
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldc.i4.s   -5
IL_0003: stfld      System.Int32 TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_profitType
IL_0008: ldarg.0
IL_0009: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::.ctor()
IL_000E: ldarga.s   5
IL_0010: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0015: stloc.0
IL_0016: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0018: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_001D: brtrue =>  Label0
IL_0022: br =>      Label16
IL_0027: Label0
IL_0027: ldarg.0
IL_0028: ldarg.s    7
IL_002A: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_fiveStackShortcutKeyText
IL_002F: ldarg.0
IL_0030: ldarg.s    8
IL_0032: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_entireStackShortcutKeyText
IL_0037: ldarg.0
IL_0038: ldarg.s    4
IL_003A: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryMode TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_usageType
IL_003F: ldarg.0
IL_0040: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0045: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_004A: dup
IL_004B: brtrue =>  Label1
IL_0050: pop
IL_0051: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0056: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_0(TaleWorlds.CampaignSystem.Concept c)
IL_005C: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0061: dup
IL_0062: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_0067: Label1
IL_0067: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_006C: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_tradeGoodConceptObj
IL_0071: ldarg.0
IL_0072: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0077: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_007C: dup
IL_007D: brtrue =>  Label2
IL_0082: pop
IL_0083: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0088: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_1(TaleWorlds.CampaignSystem.Concept c)
IL_008E: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0093: dup
IL_0094: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_0099: Label2
IL_0099: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_009E: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_itemConceptObj
IL_00A3: ldarg.0
IL_00A4: ldarg.1
IL_00A5: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_00AA: ldarg.0
IL_00AB: ldarga.s   5
IL_00AD: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00B2: ldarga.s   5
IL_00B4: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00B9: newobj     System.Void TaleWorlds.Core.ItemRosterElement::.ctor(TaleWorlds.Core.EquipmentElement equipmentElement, System.Int32 amount)
IL_00BE: stfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_00C3: ldarg.0
IL_00C4: ldarg.s    9
IL_00C6: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemCost(System.Int32 value)
IL_00CB: ldarg.0
IL_00CC: ldarga.s   5
IL_00CE: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00D3: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemCount(System.Int32 value)
IL_00D8: ldarg.0
IL_00D9: ldc.i4.1
IL_00DA: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TransactionCount(System.Int32 value)
IL_00DF: ldarg.0
IL_00E0: ldarga.s   5
IL_00E2: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00E7: stloc.0
IL_00E8: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_00EA: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_00EF: callvirt   System.Int32 TaleWorlds.Core.ItemObject::get_Difficulty()
IL_00F4: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemLevel(System.Int32 value)
IL_00F9: ldarg.0
IL_00FA: ldarg.s    6
IL_00FC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_InventorySide(TaleWorlds.CampaignSystem.Inventory.InventorySide value)
IL_0101: ldarga.s   10
IL_0103: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0108: brfalse => Label3
IL_010D: ldarg.s    10
IL_010F: stloc.1
IL_0110: ldc.i4.m1
IL_0111: stloc.2
IL_0112: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_0114: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::GetValueOrDefault()
IL_0119: ldloc.2
IL_011A: ceq
IL_011C: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_011E: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0123: and
IL_0124: brtrue =>  Label4
IL_0129: ldarg.0
IL_012A: ldarga.s   10
IL_012C: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_Value()
IL_0131: stfld      TaleWorlds.Core.EquipmentIndex TaleWorlds.Core.ViewModelCollection.ItemVM::_itemType
IL_0136: Label3
IL_0136: Label4
IL_0136: ldarg.0
IL_0137: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::SetItemTypeId()
IL_013C: ldarg.0
IL_013D: ldarga.s   5
IL_013F: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0144: stloc.0
IL_0145: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0147: call       TaleWorlds.Localization.TextObject TaleWorlds.Core.EquipmentElement::GetModifiedItemName()
IL_014C: callvirt   virtual System.String System.Object::ToString()
IL_0151: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemDescription(System.String value)
IL_0156: ldarg.0
IL_0157: ldarga.s   5
IL_0159: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_015E: call       static System.String TaleWorlds.CampaignSystem.ViewModelCollection.CampaignUIHelper::GetItemLockStringID(TaleWorlds.Core.EquipmentElement equipmentElement)
IL_0163: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_StringId(System.String value)
IL_0168: ldarg.0
IL_0169: ldarga.s   5
IL_016B: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0170: stloc.0
IL_0171: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0173: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0178: call       static TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Clan::get_PlayerClan()
IL_017D: dup
IL_017E: brtrue =>  Label5
IL_0183: pop
IL_0184: ldnull
IL_0185: br =>      Label6
IL_018A: Label5
IL_018A: call       virtual TaleWorlds.Core.Banner TaleWorlds.CampaignSystem.Clan::get_Banner()
IL_018F: callvirt   System.String TaleWorlds.Core.Banner::Serialize()
IL_0194: Label6
IL_0194: newobj     System.Void TaleWorlds.Core.ImageIdentifierVM::.ctor(TaleWorlds.Core.ItemObject itemObject, System.String bannerCode)
IL_0199: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ImageIdentifier(TaleWorlds.Core.ImageIdentifierVM value)
IL_019E: ldarg.0
IL_019F: ldarga.s   5
IL_01A1: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01A6: stloc.0
IL_01A7: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01A9: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01AE: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01B3: ldc.i4     4194304
IL_01B8: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01BD: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsCivilianItem(System.Boolean value)
IL_01C2: ldarg.0
IL_01C3: ldarg.2
IL_01C4: brfalse => Label7
IL_01C9: ldarg.0
IL_01CA: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01CF: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01D4: stloc.0
IL_01D5: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01D7: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01DC: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01E1: ldc.i4     1024
IL_01E6: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01EB: brtrue =>  Label8
IL_01F0: Label7
IL_01F0: ldarg.2
IL_01F1: brtrue =>  Label9
IL_01F6: ldarg.0
IL_01F7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01FC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0201: stloc.0
IL_0202: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0204: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0209: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_020E: ldc.i4     2048
IL_0213: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_0218: br =>      Label10
IL_021D: Label9
IL_021D: ldc.i4.0
IL_021E: br =>      Label11
IL_0223: Label8
IL_0223: ldc.i4.1
IL_0224: Label10
IL_0224: Label11
IL_0224: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsGenderDifferent(System.Boolean value)
IL_0229: ldarg.0
IL_022A: ldarg.3
IL_022B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanCharacterUseItem(System.Boolean value)
IL_0230: ldarg.0
IL_0231: ldarga.s   5
IL_0233: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0238: stloc.0
IL_0239: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_023B: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0240: callvirt   System.Boolean TaleWorlds.Core.ItemObject::get_IsUniqueItem()
IL_0245: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsArtifact(System.Boolean value)
IL_024A: ldarg.0
IL_024B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateCanBeSlaughtered()
IL_0250: ldarg.0
IL_0251: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateHintTexts()
IL_0256: ldarg.0
IL_0257: ldarg.0
IL_0258: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_025D: dup
IL_025E: brtrue =>  Label12
IL_0263: pop
IL_0264: ldc.i4.0
IL_0265: br =>      Label13
IL_026A: Label12
IL_026A: ldarg.0
IL_026B: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_0270: ldarg.0
IL_0271: call       TaleWorlds.CampaignSystem.Inventory.InventorySide TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_InventorySide()
IL_0276: call       System.Boolean TaleWorlds.CampaignSystem.Inventory.InventoryLogic::CanDonateItem(TaleWorlds.Core.ItemRosterElement element, TaleWorlds.CampaignSystem.Inventory.InventorySide sideOfItem)
IL_027B: Label13
IL_027B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanBeDonated(System.Boolean value)
IL_0280: ldarg.0
IL_0281: ldarg.0
IL_0282: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_0287: ldarg.0
IL_0288: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_028D: ldarg.s    6
IL_028F: ldarg.0
IL_0290: ldftn      System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::OnTradeApplyTransaction(System.Int32 amount, System.Boolean isBuying)
IL_0296: newobj     System.Void System.Action`2<System.Int32, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_029B: newobj     System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, TaleWorlds.Core.ItemRosterElement itemRoster, TaleWorlds.CampaignSystem.Inventory.InventorySide side, System.Action`2<System.Int32, System.Boolean> onApplyTransaction)
IL_02A0: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TradeData(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM value)
IL_02A5: ldarg.0
IL_02A6: ldarg.0
IL_02A7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_02AC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02B1: stloc.0
IL_02B2: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02B4: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_02B9: ldc.i4.0
IL_02BA: ceq
IL_02BC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsTransferable(System.Boolean value)
IL_02C1: ldarg.0
IL_02C2: call       TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_TradeData()
IL_02C7: ldarg.0
IL_02C8: call       System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_IsTransferable()
IL_02CD: callvirt   System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::set_IsTradeable(System.Boolean value)
IL_02D2: ldarg.0
IL_02D3: ldarga.s   5
IL_02D5: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02DA: stloc.0
IL_02DB: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02DD: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_02E2: call       static TaleWorlds.CampaignSystem.Inventory.InventoryItemType TaleWorlds.CampaignSystem.Inventory.InventoryManager::GetInventoryItemTypeOfItem(TaleWorlds.Core.ItemObject item)
IL_02E7: ldc.i4     2303
IL_02EC: or
IL_02ED: ldc.i4     2303
IL_02F2: bne.un =>  Label14
IL_02F7: ldarga.s   5
IL_02F9: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02FE: stloc.0
IL_02FF: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0301: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_0306: ldc.i4.0
IL_0307: ceq
IL_0309: br =>      Label15
IL_030E: Label14
IL_030E: ldc.i4.0
IL_030F: Label15
IL_030F: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsEquipableItem(System.Boolean value)
IL_0314: ldarg.0
IL_0315: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateIsNew()
IL_031A: ldarg.0
IL_031B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateProfitType()
IL_0320: // end original
IL_0320: Label16
IL_0320: ldarg.0
IL_0321: call       static System.Void KaosesTweaks.Patches.SPItemVMPatch::Postfix(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM __instance)
IL_0326: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch3(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ldarg.0
IL_000D: call       static System.Void Bannerlord.Harmony.SubModule::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0012: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch2(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ret
DONE

### Harmony id=KaosesTweaks.harmony, version=2.2.2.0, location=C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.Harmony\bin\Win64_Shipping_Client\0Harmony.dll, env/clr=4.0.30319.42000, platform=Win32NT, ptrsize:runtime/env=8/Bits64, Windows
### Started from virtual System.Void KaosesTweaks.SubModule::OnBeforeInitialModuleScreenSetAsRoot(), location C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\KaosesTweaks\bin\Win64_Shipping_Client\KaosesTweaks.dll
### At 2022-07-22 10.36.02
### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::GetUnitValueForFaction(TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable.GetUnitValueForFaction_Patch1(TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable this, TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Int32
IL_0000: ldc.i4     0
IL_0005: stloc      3 (System.Int32)
IL_0009: // start original
IL_0009: ldc.r4     -1000000
IL_000E: stloc.0
IL_000F: ldarg.1
IL_0010: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0015: brtrue =>  Label0
IL_001A: ldarg.1
IL_001B: castclass  TaleWorlds.CampaignSystem.Clan
IL_0020: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_0025: pop
IL_0026: Label0
IL_0026: ldarg.0
IL_0027: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_002C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0031: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0036: pop
IL_0037: ldarg.0
IL_0038: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_003D: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::get_IsKingdomFaction()
IL_0042: brfalse => Label1
IL_0047: ldarg.1
IL_0048: ldarg.0
IL_0049: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_004E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0053: bne.un =>  Label2
IL_0058: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_005D: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0062: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0067: ldarg.0
IL_0068: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_006D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0072: ldarg.0
IL_0073: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0078: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfClanToJoinKingdom(TaleWorlds.CampaignSystem.Clan clan, TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_007D: stloc.0
IL_007E: ldarg.0
IL_007F: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0084: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0089: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_008E: brfalse => Label3
IL_0093: ldarg.0
IL_0094: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0099: ldarg.0
IL_009A: call       TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalParty()
IL_009F: newobj     System.Void TaleWorlds.CampaignSystem.BarterSystem.Barterables.LeaveKingdomAsClanBarterable::.ctor(TaleWorlds.CampaignSystem.Hero owner, TaleWorlds.CampaignSystem.Party.PartyBase ownerParty)
IL_00A4: ldarg.1
IL_00A5: call       System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::GetValueForFaction(TaleWorlds.CampaignSystem.IFaction faction)
IL_00AA: stloc.1
IL_00AB: ldc.r4     0
IL_00B0: stloc.2
IL_00B1: ldarg.0
IL_00B2: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00B7: ldarg.0
IL_00B8: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00BD: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00C2: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00C7: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::IsAtWarWith(TaleWorlds.CampaignSystem.IFaction other)
IL_00CC: brtrue =>  Label4
IL_00D1: ldarg.0
IL_00D2: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00D7: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00DC: ldarg.0
IL_00DD: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00E2: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00E7: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00EC: callvirt   System.Single TaleWorlds.CampaignSystem.Clan::CalculateTotalSettlementValueForFaction(TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_00F1: stloc.2
IL_00F2: ldloc.0
IL_00F3: ldloc.2
IL_00F4: ldarg.0
IL_00F5: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00FA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Kingdom::get_Leader()
IL_00FF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0104: beq =>     Label5
IL_0109: ldc.r4     1
IL_010E: br =>      Label6
IL_0113: Label5
IL_0113: ldc.r4     0.5
IL_0118: Label6
IL_0118: mul
IL_0119: sub
IL_011A: stloc.0
IL_011B: Label4
IL_011B: ldloc.0
IL_011C: ldloc.1
IL_011D: conv.r4
IL_011E: add
IL_011F: stloc.0
IL_0120: br =>      Label7
IL_0125: Label2
IL_0125: ldarg.1
IL_0126: callvirt   abstract virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.IFaction::get_MapFaction()
IL_012B: ldarg.0
IL_012C: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0131: bne.un =>  Label8
IL_0136: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_013B: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0140: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0145: ldarg.0
IL_0146: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_014B: ldarg.0
IL_014C: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0151: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0156: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfKingdomToGetClan(TaleWorlds.CampaignSystem.Kingdom kingdom, TaleWorlds.CampaignSystem.Clan clan)
IL_015B: stloc.0
IL_015C: Label1
IL_015C: Label3
IL_015C: Label7
IL_015C: Label8
IL_015C: ldloc.0
IL_015D: conv.i4
IL_015E: // end original
IL_015E: stloc      3 (System.Int32)
IL_0162: ldloca     3 (System.Int32)
IL_0166: ldarg      1
IL_016A: ldarg.0
IL_016B: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0170: call       static System.Void KaosesTweaks.Patches.BTBarterablePatches::Postfix(System.Int32& __result, TaleWorlds.CampaignSystem.IFaction factionForEvaluation, TaleWorlds.CampaignSystem.Kingdom ___TargetKingdom)
IL_0175: ldloc      3 (System.Int32)
IL_0179: ret
DONE

### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::GetPlayerMaximumTroopCountForHideoutMission(TaleWorlds.CampaignSystem.Party.MobileParty party)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel.GetPlayerMaximumTroopCountForHideoutMission_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel this, TaleWorlds.CampaignSystem.Party.MobileParty party)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      1 (System.Int32)
IL_0009: ldc.i4     0
IL_000E: stloc      2 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      2 (System.Boolean)
IL_0017: ldloc      2 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     1 (System.Int32)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.BTTroopCountForHidoutMission::Prefix(System.Int32& __result)
IL_0029: stloc      2 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      2 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: ldc.r4     10
IL_003C: stloc.0
IL_003D: ldarg.1
IL_003E: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0043: ldc.i4.0
IL_0044: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::HasPerk(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk, System.Boolean checkSecondaryRole)
IL_0049: brfalse => Label2
IL_004E: ldloc.0
IL_004F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0054: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0059: add
IL_005A: stloc.0
IL_005B: Label2
IL_005B: ldloc.0
IL_005C: call       static System.Int32 TaleWorlds.Library.MathF::Round(System.Single f)
IL_0061: // end original
IL_0061: stloc      1 (System.Int32)
IL_0065: Label0
IL_0065: ldloc      1 (System.Int32)
IL_0069: ret
DONE

### Patch: TaleWorlds.CampaignSystem.ExplainedNumber TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::CalculateMobilePartyMemberSizeLimit(TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
### Note: A buffer for the returned struct is used. That requires an extra IntPtr argument before the first real argument
### Replacement: static System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel.CalculateMobilePartyMemberSizeLimit_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel this, System.IntPtr retbuf, TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: Local var 1: System.Nullable`1<System.Boolean>
IL_0000: Local var 2: System.Boolean
IL_0000: Local var 3: System.Nullable`1<System.Boolean>
IL_0000: Local var 4: System.Int32
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>
IL_0000: Local var 7: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0004: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_000A: // start original
IL_000A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_000C: ldc.r4     20
IL_0011: ldarg.3
IL_0012: ldarg.0
IL_0013: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_baseSizeText
IL_0018: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::.ctor(System.Single baseNumber, System.Boolean includeDescriptions, TaleWorlds.Localization.TextObject baseText)
IL_001D: ldarg.2
IL_001E: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0023: brfalse => Label0
IL_0028: ldarg.2
IL_0029: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_002E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0033: brfalse => Label1
IL_0038: ldarg.2
IL_0039: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_003E: brtrue =>  Label2
IL_0043: ldarg.2
IL_0044: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0049: brfalse => Label3
IL_004E: ldarg.2
IL_004F: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0054: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0059: brfalse => Label4
IL_005E: ldarg.2
IL_005F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0064: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0069: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_006E: ldarg.2
IL_006F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0074: bne.un =>  Label5
IL_0079: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_007B: ldc.r4     20
IL_0080: ldarg.0
IL_0081: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_factionLeaderText
IL_0086: ldnull
IL_0087: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_008C: Label3
IL_008C: Label4
IL_008C: Label5
IL_008C: ldarg.2
IL_008D: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0092: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_0097: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_009C: brfalse => Label6
IL_00A1: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00A3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00A8: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00AD: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00B2: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00B7: ldnull
IL_00B8: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00BD: Label6
IL_00BD: ldarg.2
IL_00BE: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00C3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00C8: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00CD: brfalse => Label7
IL_00D2: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00D4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00D9: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00DE: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00E3: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00E8: ldnull
IL_00E9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00EE: Label7
IL_00EE: ldarg.2
IL_00EF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_00F9: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00FE: brfalse => Label8
IL_0103: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0105: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_010A: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_010F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_0114: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0119: ldnull
IL_011A: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_011F: Label8
IL_011F: ldarg.2
IL_0120: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0125: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_012A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_012F: brfalse => Label9
IL_0134: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0136: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_013B: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0140: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_0145: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_014A: ldnull
IL_014B: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0150: Label9
IL_0150: ldarg.2
IL_0151: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0156: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_015B: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0160: brfalse => Label10
IL_0165: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0167: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_016C: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0171: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_0176: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_017B: ldnull
IL_017C: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0181: Label10
IL_0181: ldarg.2
IL_0182: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0187: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_018C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0191: brfalse => Label11
IL_0196: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0198: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_019D: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01A2: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_01A7: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01AC: ldnull
IL_01AD: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01B2: Label11
IL_01B2: ldarg.2
IL_01B3: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_01B8: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01BD: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_01C2: brfalse => Label12
IL_01C7: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_01C9: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01CE: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01D3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01D8: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01DD: ldnull
IL_01DE: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01E3: Label12
IL_01E3: ldarg.2
IL_01E4: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_01E9: dup
IL_01EA: brtrue =>  Label13
IL_01EF: pop
IL_01F0: ldc.i4.0
IL_01F1: br =>      Label14
IL_01F6: Label13
IL_01F6: call       virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_01FB: dup
IL_01FC: brtrue =>  Label15
IL_0201: pop
IL_0202: ldloca.s   3 (System.Nullable`1[System.Boolean])
IL_0204: initobj    System.Nullable`1[System.Boolean]
IL_020A: ldloc.3
IL_020B: br =>      Label16
IL_0210: Label15
IL_0210: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0215: call       System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_021A: newobj     System.Void System.Nullable`1<System.Boolean>::.ctor(System.Boolean value)
IL_021F: Label16
IL_021F: stloc.1
IL_0220: ldc.i4.1
IL_0221: stloc.2
IL_0222: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_0224: call       System.Boolean System.Nullable`1<System.Boolean>::GetValueOrDefault()
IL_0229: ldloc.2
IL_022A: ceq
IL_022C: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_022E: call       System.Boolean System.Nullable`1<System.Boolean>::get_HasValue()
IL_0233: and
IL_0234: Label14
IL_0234: brfalse => Label17
IL_0239: ldc.i4.0
IL_023A: stloc.s    4 (System.Int32)
IL_023C: ldarg.2
IL_023D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_0242: callvirt   virtual TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.CampaignSystem.Clan::get_Settlements()
IL_0247: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement>::GetEnumerator()
IL_024C: stloc.s    6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
.try
{
	IL_024E: br =>      Label18
	IL_0253: Label20
	IL_0253: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0255: call       virtual TaleWorlds.CampaignSystem.Settlements.Settlement System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::get_Current()
	IL_025A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Settlements.Settlement::get_IsTown()
	IL_025F: brfalse => Label19
	IL_0264: ldloc.s    4 (System.Int32)
	IL_0266: ldc.i4.1
	IL_0267: add
	IL_0268: stloc.s    4 (System.Int32)
	IL_026A: Label18
	IL_026A: Label19
	IL_026A: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_026C: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::MoveNext()
	IL_0271: brtrue =>  Label20
	IL_0276: leave =>   Label21
	IL_027B: leave =>   (autogenerated)
} // end try
.finally
{
	IL_0280: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0282: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement]
	IL_0288: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_028D: endfinally
	IL_028E: leave =>   (autogenerated)
} // end handler
IL_028F: Label21
IL_028F: ldloc.s    4 (System.Int32)
IL_0291: conv.r4
IL_0292: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0297: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_029C: mul
IL_029D: stloc.s    5 (System.Single)
IL_029F: ldloc.s    5 (System.Single)
IL_02A1: ldc.r4     0
IL_02A6: ble.un =>  Label22
IL_02AB: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_02AD: ldloc.s    5 (System.Single)
IL_02AF: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_02B4: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_02B9: ldnull
IL_02BA: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_02BF: Label17
IL_02BF: Label22
IL_02BF: ldarg.2
IL_02C0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02C5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02CA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_02CF: ldarg.2
IL_02D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02D5: bne.un =>  Label23
IL_02DA: ldarg.2
IL_02DB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02E0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02E5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_02EA: ldc.i4.5
IL_02EB: blt =>     Label24
IL_02F0: ldarg.2
IL_02F1: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_02F6: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_02FB: brfalse => Label25
IL_0300: ldarg.2
IL_0301: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0306: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_030B: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_0310: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_0315: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_031A: brfalse => Label26
IL_031F: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0321: ldc.r4     40
IL_0326: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_032B: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0330: ldnull
IL_0331: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0336: Label24
IL_0336: Label25
IL_0336: Label26
IL_0336: ldarg.2
IL_0337: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_033C: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0341: brfalse => Label27
IL_0346: ldarg.2
IL_0347: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_034C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0351: ldarg.2
IL_0352: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0357: bne.un =>  Label28
IL_035C: ldarg.2
IL_035D: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0362: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_0367: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_036C: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0371: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_0376: brfalse => Label29
IL_037B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_037D: ldc.r4     60
IL_0382: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0387: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_038C: ldnull
IL_038D: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0392: Label27
IL_0392: Label28
IL_0392: Label29
IL_0392: ldarg.2
IL_0393: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0398: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_039D: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03A2: ldc.i4.0
IL_03A3: ble =>     Label30
IL_03A8: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03AA: ldarg.2
IL_03AB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03B0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03B5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03BA: ldc.i4.s   25
IL_03BC: mul
IL_03BD: conv.r4
IL_03BE: ldarg.0
IL_03BF: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_03C4: ldnull
IL_03C5: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_03CA: br =>      Label31
IL_03CF: Label23
IL_03CF: ldarg.2
IL_03D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03D5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03DA: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03DF: ldc.i4.0
IL_03E0: ble =>     Label32
IL_03E5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03E7: ldarg.2
IL_03E8: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03ED: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03F2: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03F7: ldc.i4.s   15
IL_03F9: mul
IL_03FA: conv.r4
IL_03FB: ldarg.0
IL_03FC: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_0401: ldnull
IL_0402: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0407: Label30
IL_0407: Label31
IL_0407: Label32
IL_0407: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0409: ldarg.2
IL_040A: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_EffectiveQuartermaster()
IL_040F: call       static TaleWorlds.Core.SkillObject TaleWorlds.Core.DefaultSkills::get_Steward()
IL_0414: callvirt   System.Int32 TaleWorlds.CampaignSystem.Hero::GetSkillValue(TaleWorlds.Core.SkillObject skill)
IL_0419: ldc.i4.4
IL_041A: div
IL_041B: conv.r4
IL_041C: ldarg.0
IL_041D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_quarterMasterText
IL_0422: ldnull
IL_0423: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0428: ldarg.0
IL_0429: ldarg.2
IL_042A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_042C: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddMobilePartyLeaderPartySizePerkEffects(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_0431: ldarg.0
IL_0432: ldarg.2
IL_0433: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0435: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddUltimateLeaderPerkEffectForPartySize(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_043A: ldsfld     System.Boolean TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_addAdditionalPartySizeAsCheat
IL_043F: brfalse => Label33
IL_0444: ldarg.2
IL_0445: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsMainParty()
IL_044A: brfalse => Label34
IL_044F: call       static TaleWorlds.Core.Game TaleWorlds.Core.Game::get_Current()
IL_0454: callvirt   System.Boolean TaleWorlds.Core.Game::get_CheatMode()
IL_0459: brfalse => Label35
IL_045E: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0460: ldc.r4     5000
IL_0465: ldstr      "{=!}Additional size from extra party cheat"
IL_046A: ldnull
IL_046B: newobj     System.Void TaleWorlds.Localization.TextObject::.ctor(System.String value, System.Collections.Generic.Dictionary`2<System.String, System.Object> attributes)
IL_0470: ldnull
IL_0471: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0476: br =>      Label36
IL_047B: Label0
IL_047B: Label1
IL_047B: Label2
IL_047B: ldarg.2
IL_047C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_0481: brfalse => Label37
IL_0486: ldarg.2
IL_0487: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_048C: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_0491: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0496: bne.un =>  Label38
IL_049B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_049D: ldc.r4     10
IL_04A2: ldarg.0
IL_04A3: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_04A8: ldnull
IL_04A9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_04AE: br =>      Label39
IL_04B3: Label38
IL_04B3: ldarg.2
IL_04B4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04B9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04BE: dup
IL_04BF: brtrue =>  Label40
IL_04C4: pop
IL_04C5: ldc.i4.0
IL_04C6: br =>      Label41
IL_04CB: Label40
IL_04CB: call       System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsNotable()
IL_04D0: Label41
IL_04D0: brfalse => Label42
IL_04D5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_04D7: ldc.i4.s   10
IL_04D9: ldarg.2
IL_04DA: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04DF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04E4: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_04E9: ldc.r4     100
IL_04EE: blt =>     Label43
IL_04F3: ldarg.2
IL_04F4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04F9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04FE: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_0503: ldc.r4     200
IL_0508: blt =>     Label44
IL_050D: ldc.i4.3
IL_050E: br =>      Label45
IL_0513: Label44
IL_0513: ldc.i4.2
IL_0514: br =>      Label46
IL_0519: Label43
IL_0519: ldc.i4.1
IL_051A: Label45
IL_051A: Label46
IL_051A: mul
IL_051B: conv.r4
IL_051C: ldarg.0
IL_051D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0522: ldnull
IL_0523: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0528: br =>      Label47
IL_052D: Label37
IL_052D: ldarg.2
IL_052E: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_0533: brfalse => Label48
IL_0538: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_053A: ldc.r4     40
IL_053F: ldarg.0
IL_0540: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0545: ldnull
IL_0546: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_054B: Label33
IL_054B: Label34
IL_054B: Label35
IL_054B: Label36
IL_054B: Label39
IL_054B: Label42
IL_054B: Label47
IL_054B: Label48
IL_054B: ldloc.0
IL_054C: // end original
IL_054C: stloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0550: ldarg      2
IL_0554: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0558: call       static System.Void KaosesTweaks.Patches.DefaultPartySizeLimitModelPatch::Postfix(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& __result)
IL_055D: ldloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0561: ldloca     8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0565: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_056B: stloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_056F: ldarg.1
IL_0570: ldloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0574: stobj      TaleWorlds.CampaignSystem.ExplainedNumber
IL_0579: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Party.MobileParty::FillPartyStacks(TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Party.MobileParty::TaleWorlds.CampaignSystem.Party.MobileParty.FillPartyStacks_Patch1(TaleWorlds.CampaignSystem.Party.MobileParty this, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Single
IL_0000: Local var 4: System.Single
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Single
IL_0000: Local var 7: System.Single
IL_0000: Local var 8: System.Single
IL_0000: Local var 9: System.Single
IL_0000: Local var 10: System.Single
IL_0000: Local var 11: System.Int32
IL_0000: Local var 12: System.Int32
IL_0000: Local var 13: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 14: System.Int32
IL_0000: Local var 15: System.Int32
IL_0000: Local var 16: System.Single
IL_0000: Local var 17: System.Single
IL_0000: Local var 18: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 19: System.Int32
IL_0000: Local var 20: System.Int32
IL_0000: Local var 21: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      21 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      21 (System.Boolean)
IL_000E: ldloc      21 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg      1
IL_001F: ldarg      2
IL_0023: call       static System.Boolean KaosesTweaks.Patches.TitanFillPartyStacksPatch::Prefix(TaleWorlds.CampaignSystem.Party.MobileParty& __instance, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0028: stloc      21 (System.Boolean)
IL_002C: Label1
IL_002C: nop
IL_002D: ldloc      21 (System.Boolean)
IL_0031: brfalse => Label0
IL_0036: // start original
IL_0036: ldarg.0
IL_0037: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsBandit()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0046: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_004B: stloc.0
IL_004C: ldc.r4     0.4
IL_0051: ldc.r4     0.8
IL_0056: ldloc.0
IL_0057: mul
IL_0058: add
IL_0059: stloc.1
IL_005A: ldc.i4.2
IL_005B: call       static System.Int32 TaleWorlds.Core.MBRandom::RandomInt(System.Int32 maxValue)
IL_0060: dup
IL_0061: brfalse => Label3
IL_0066: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_006B: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0070: mul
IL_0071: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0076: mul
IL_0077: ldc.r4     4
IL_007C: mul
IL_007D: br =>      Label4
IL_0082: Label3
IL_0082: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0087: Label4
IL_0087: stloc.2
IL_0088: brfalse => Label5
IL_008D: ldc.r4     1
IL_0092: ldloc.2
IL_0093: add
IL_0094: br =>      Label6
IL_0099: Label5
IL_0099: ldloc.2
IL_009A: ldc.r4     0.8
IL_009F: mul
IL_00A0: ldc.r4     0.2
IL_00A5: add
IL_00A6: Label6
IL_00A6: stloc.3
IL_00A7: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00AC: stloc.s    4 (System.Single)
IL_00AE: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00B3: stloc.s    5 (System.Single)
IL_00B5: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00BA: stloc.s    6 (System.Single)
IL_00BC: ldarg.1
IL_00BD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00C2: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_00C7: ldc.i4.0
IL_00C8: bgt =>     Label7
IL_00CD: ldc.r4     0
IL_00D2: br =>      Label8
IL_00D7: Label7
IL_00D7: ldarg.1
IL_00D8: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00DD: ldc.i4.0
IL_00DE: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00E3: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_00E8: conv.r4
IL_00E9: ldloc.1
IL_00EA: ldloc.3
IL_00EB: mul
IL_00EC: ldloc.s    4 (System.Single)
IL_00EE: mul
IL_00EF: ldarg.1
IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00F5: ldc.i4.0
IL_00F6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00FB: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0100: ldarg.1
IL_0101: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0106: ldc.i4.0
IL_0107: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_010C: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0111: sub
IL_0112: conv.r4
IL_0113: mul
IL_0114: add
IL_0115: Label8
IL_0115: stloc.s    7 (System.Single)
IL_0117: ldarg.1
IL_0118: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_011D: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0122: ldc.i4.1
IL_0123: bgt =>     Label9
IL_0128: ldc.r4     0
IL_012D: br =>      Label10
IL_0132: Label9
IL_0132: ldarg.1
IL_0133: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0138: ldc.i4.1
IL_0139: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_013E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0143: conv.r4
IL_0144: ldloc.1
IL_0145: ldloc.3
IL_0146: mul
IL_0147: ldloc.s    5 (System.Single)
IL_0149: mul
IL_014A: ldarg.1
IL_014B: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0150: ldc.i4.1
IL_0151: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0156: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_015B: ldarg.1
IL_015C: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0161: ldc.i4.1
IL_0162: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0167: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_016C: sub
IL_016D: conv.r4
IL_016E: mul
IL_016F: add
IL_0170: Label10
IL_0170: stloc.s    8 (System.Single)
IL_0172: ldarg.1
IL_0173: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0178: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_017D: ldc.i4.2
IL_017E: bgt =>     Label11
IL_0183: ldc.r4     0
IL_0188: br =>      Label12
IL_018D: Label11
IL_018D: ldarg.1
IL_018E: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0193: ldc.i4.2
IL_0194: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0199: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_019E: conv.r4
IL_019F: ldloc.1
IL_01A0: ldloc.3
IL_01A1: mul
IL_01A2: ldloc.s    6 (System.Single)
IL_01A4: mul
IL_01A5: ldarg.1
IL_01A6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01AB: ldc.i4.2
IL_01AC: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01B1: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_01B6: ldarg.1
IL_01B7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01BC: ldc.i4.2
IL_01BD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01C2: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_01C7: sub
IL_01C8: conv.r4
IL_01C9: mul
IL_01CA: add
IL_01CB: Label12
IL_01CB: stloc.s    9 (System.Single)
IL_01CD: ldarg.0
IL_01CE: ldarg.1
IL_01CF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01D4: ldc.i4.0
IL_01D5: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01DA: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_01DF: ldloc.s    7 (System.Single)
IL_01E1: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_01E6: ldc.i4.0
IL_01E7: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_01EC: pop
IL_01ED: ldarg.1
IL_01EE: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01F3: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_01F8: ldc.i4.1
IL_01F9: ble =>     Label13
IL_01FE: ldarg.0
IL_01FF: ldarg.1
IL_0200: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0205: ldc.i4.1
IL_0206: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_020B: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0210: ldloc.s    8 (System.Single)
IL_0212: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0217: ldc.i4.0
IL_0218: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_021D: pop
IL_021E: Label13
IL_021E: ldarg.1
IL_021F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0224: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0229: ldc.i4.2
IL_022A: ble =>     Label14
IL_022F: ldarg.0
IL_0230: ldarg.1
IL_0231: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0236: ldc.i4.2
IL_0237: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_023C: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0241: ldloc.s    9 (System.Single)
IL_0243: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0248: ldc.i4.0
IL_0249: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_024E: pop
IL_024F: br =>      Label39
IL_0254: Label2
IL_0254: ldarg.2
IL_0255: ldc.i4.0
IL_0256: bge =>     Label15
IL_025B: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0260: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_0265: stloc.s    10 (System.Single)
IL_0267: ldc.i4.0
IL_0268: stloc.s    11 (System.Int32)
IL_026A: br =>      Label16
IL_026F: Label17
IL_026F: ldloc.s    10 (System.Single)
IL_0271: ldarg.1
IL_0272: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0277: ldloc.s    11 (System.Int32)
IL_0279: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_027E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0283: ldarg.1
IL_0284: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0289: ldloc.s    11 (System.Int32)
IL_028B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0290: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0295: sub
IL_0296: conv.r4
IL_0297: mul
IL_0298: conv.i4
IL_0299: ldarg.1
IL_029A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_029F: ldloc.s    11 (System.Int32)
IL_02A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02A6: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_02AB: add
IL_02AC: stloc.s    12 (System.Int32)
IL_02AE: ldarg.1
IL_02AF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02B4: ldloc.s    11 (System.Int32)
IL_02B6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02BB: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_02C0: stloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C2: ldarg.0
IL_02C3: ldloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C5: ldloc.s    12 (System.Int32)
IL_02C7: ldc.i4.0
IL_02C8: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_02CD: pop
IL_02CE: ldloc.s    11 (System.Int32)
IL_02D0: ldc.i4.1
IL_02D1: add
IL_02D2: stloc.s    11 (System.Int32)
IL_02D4: Label16
IL_02D4: ldloc.s    11 (System.Int32)
IL_02D6: ldarg.1
IL_02D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02DC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_02E1: blt =>     Label17
IL_02E6: br =>      Label40
IL_02EB: Label15
IL_02EB: ldc.i4.0
IL_02EC: stloc.s    14 (System.Int32)
IL_02EE: br =>      Label18
IL_02F3: Label38
IL_02F3: ldc.i4.m1
IL_02F4: stloc.s    15 (System.Int32)
IL_02F6: ldc.r4     0
IL_02FB: stloc.s    16 (System.Single)
IL_02FD: ldc.i4.0
IL_02FE: stloc.s    19 (System.Int32)
IL_0300: br =>      Label19
IL_0305: Label26
IL_0305: ldloc.s    16 (System.Single)
IL_0307: ldarg.0
IL_0308: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_030D: brfalse => Label20
IL_0312: ldarg.1
IL_0313: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0318: ldloc.s    19 (System.Int32)
IL_031A: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_031F: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0324: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_0329: brtrue =>  Label21
IL_032E: Label20
IL_032E: ldarg.0
IL_032F: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_0334: brfalse => Label22
IL_0339: ldarg.1
IL_033A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_033F: ldloc.s    19 (System.Int32)
IL_0341: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0346: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_034B: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0350: brfalse => Label23
IL_0355: Label22
IL_0355: ldc.r4     1
IL_035A: br =>      Label24
IL_035F: Label23
IL_035F: ldc.r4     2
IL_0364: br =>      Label25
IL_0369: Label21
IL_0369: ldc.r4     6
IL_036E: Label24
IL_036E: Label25
IL_036E: ldarg.1
IL_036F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0374: ldloc.s    19 (System.Int32)
IL_0376: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_037B: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0380: ldarg.1
IL_0381: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0386: ldloc.s    19 (System.Int32)
IL_0388: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_038D: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0392: add
IL_0393: conv.r4
IL_0394: ldc.r4     2
IL_0399: div
IL_039A: mul
IL_039B: add
IL_039C: stloc.s    16 (System.Single)
IL_039E: ldloc.s    19 (System.Int32)
IL_03A0: ldc.i4.1
IL_03A1: add
IL_03A2: stloc.s    19 (System.Int32)
IL_03A4: Label19
IL_03A4: ldloc.s    19 (System.Int32)
IL_03A6: ldarg.1
IL_03A7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03AC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_03B1: blt =>     Label26
IL_03B6: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_03BB: ldloc.s    16 (System.Single)
IL_03BD: mul
IL_03BE: stloc.s    17 (System.Single)
IL_03C0: ldc.i4.0
IL_03C1: stloc.s    20 (System.Int32)
IL_03C3: br =>      Label27
IL_03C8: Label36
IL_03C8: ldloc.s    17 (System.Single)
IL_03CA: ldarg.0
IL_03CB: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03D0: brfalse => Label28
IL_03D5: ldarg.1
IL_03D6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03DB: ldloc.s    20 (System.Int32)
IL_03DD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_03E2: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_03E7: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_03EC: brtrue =>  Label29
IL_03F1: Label28
IL_03F1: ldarg.0
IL_03F2: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03F7: brfalse => Label30
IL_03FC: ldarg.1
IL_03FD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0402: ldloc.s    20 (System.Int32)
IL_0404: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0409: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_040E: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0413: brfalse => Label31
IL_0418: Label30
IL_0418: ldc.r4     1
IL_041D: br =>      Label32
IL_0422: Label31
IL_0422: ldc.r4     2
IL_0427: br =>      Label33
IL_042C: Label29
IL_042C: ldc.r4     6
IL_0431: Label32
IL_0431: Label33
IL_0431: ldarg.1
IL_0432: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0437: ldloc.s    20 (System.Int32)
IL_0439: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_043E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0443: ldarg.1
IL_0444: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0449: ldloc.s    20 (System.Int32)
IL_044B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0450: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0455: add
IL_0456: conv.r4
IL_0457: ldc.r4     2
IL_045C: div
IL_045D: mul
IL_045E: sub
IL_045F: stloc.s    17 (System.Single)
IL_0461: ldloc.s    17 (System.Single)
IL_0463: ldc.r4     0
IL_0468: bge.un =>  Label34
IL_046D: ldloc.s    20 (System.Int32)
IL_046F: stloc.s    15 (System.Int32)
IL_0471: br =>      Label35
IL_0476: Label34
IL_0476: ldloc.s    20 (System.Int32)
IL_0478: ldc.i4.1
IL_0479: add
IL_047A: stloc.s    20 (System.Int32)
IL_047C: Label27
IL_047C: ldloc.s    20 (System.Int32)
IL_047E: ldarg.1
IL_047F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0484: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0489: blt =>     Label36
IL_048E: Label35
IL_048E: ldloc.s    15 (System.Int32)
IL_0490: ldc.i4.0
IL_0491: bge =>     Label37
IL_0496: ldc.i4.0
IL_0497: stloc.s    15 (System.Int32)
IL_0499: Label37
IL_0499: ldarg.1
IL_049A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_049F: ldloc.s    15 (System.Int32)
IL_04A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_04A6: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_04AB: stloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04AD: ldarg.0
IL_04AE: ldloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04B0: ldc.i4.1
IL_04B1: ldc.i4.0
IL_04B2: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_04B7: pop
IL_04B8: ldloc.s    14 (System.Int32)
IL_04BA: ldc.i4.1
IL_04BB: add
IL_04BC: stloc.s    14 (System.Int32)
IL_04BE: Label18
IL_04BE: ldloc.s    14 (System.Int32)
IL_04C0: ldarg.2
IL_04C1: blt =>     Label38
IL_04C6: ldarg.0
IL_04C7: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_04CC: pop
IL_04CD: // end original
IL_04CD: Label14
IL_04CD: Label39
IL_04CD: Label40
IL_04CD: Label0
IL_04CD: ret
DONE

### Patch: System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_player_can_open_courtship_on_condition()
### Replacement: static System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_player_can_open_courtship_on_condition_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: System.Boolean
IL_0000: Local var 1: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4     0
IL_000E: stloc      1 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      1 (System.Boolean)
IL_0017: ldloc      1 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     0 (System.Boolean)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix1(System.Boolean& __result)
IL_0029: stloc      1 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      1 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0046: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_004B: dup
IL_004C: brtrue =>  Label3
IL_0051: pop
IL_0052: ldc.i4.0
IL_0053: br =>      Label4
IL_0058: Label3
IL_0058: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsMinorFaction()
IL_005D: Label4
IL_005D: brtrue =>  Label5
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0067: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsPrisoner()
IL_006C: brfalse => Label6
IL_0071: Label2
IL_0071: Label5
IL_0071: ldc.i4.0
IL_0072: br =>      Label15
IL_0077: Label6
IL_0077: ldarg.0
IL_0078: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007D: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0082: call       System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::MarriageCourtshipPossibility(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0087: brfalse => Label7
IL_008C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_009B: brtrue =>  Label8
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_00AA: brfalse => Label9
IL_00AF: ldstr      "FLIRTATION_LINE"
IL_00B4: ldstr      "{=bjJs0eeB}My lord, I note that you have not yet taken a wife."
IL_00B9: ldc.i4.0
IL_00BA: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00BF: br =>      Label10
IL_00C4: Label9
IL_00C4: ldstr      "FLIRTATION_LINE"
IL_00C9: ldstr      "{=v1hC6Aem}My lady, I wish to profess myself your most ardent admirer."
IL_00CE: ldc.i4.0
IL_00CF: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00D4: Label10
IL_00D4: ldc.i4.1
IL_00D5: br =>      Label16
IL_00DA: Label7
IL_00DA: Label8
IL_00DA: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00DF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00E4: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00E9: ldc.i4.1
IL_00EA: beq =>     Label11
IL_00EF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00F9: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00FE: ldc.i4.2
IL_00FF: bne.un =>  Label12
IL_0104: Label11
IL_0104: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0109: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_010E: brfalse => Label13
IL_0113: ldstr      "FLIRTATION_LINE"
IL_0118: ldstr      "{=2WnhUBMM}My lord, may you give me another chance to prove myself?"
IL_011D: ldc.i4.0
IL_011E: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0123: br =>      Label14
IL_0128: Label13
IL_0128: ldstr      "FLIRTATION_LINE"
IL_012D: ldstr      "{=4iTaEZKg}My lady, may you give me another chance to prove myself?"
IL_0132: ldc.i4.0
IL_0133: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0138: Label14
IL_0138: ldc.i4.1
IL_0139: br =>      Label17
IL_013E: Label12
IL_013E: ldc.i4.0
IL_013F: // end original
IL_013F: Label15
IL_013F: Label16
IL_013F: Label17
IL_013F: stloc      0 (System.Boolean)
IL_0143: Label0
IL_0143: ldloc      0 (System.Boolean)
IL_0147: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_start_courtship_persuasion_pt1_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_start_courtship_persuasion_pt1_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix2(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_005C: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0061: ldc.i4.3
IL_0062: bne.un =>  Label2
IL_0067: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: ldc.i4.4
IL_0072: call       static System.Void TaleWorlds.CampaignSystem.Actions.ChangeRomanticStateAction::Apply(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2, TaleWorlds.CampaignSystem.RomanceLevelEnum toWhat)
IL_0077: Label2
IL_0077: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0081: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0086: stloc.0
IL_0087: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_008C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_009B: bne.un =>  Label3
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: stloc.0
IL_00A6: Label3
IL_00A6: ldarg.0
IL_00A7: ldarg.0
IL_00A8: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00AD: ldloc.0
IL_00AE: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage1(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_00B3: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B8: ldarg.0
IL_00B9: ldarg.0
IL_00BA: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00BF: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_00C4: conv.r4
IL_00C5: ldc.r4     1
IL_00CA: mul
IL_00CB: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00D0: ldc.r4     0
IL_00D5: stloc.1
IL_00D6: ldarg.0
IL_00D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00DC: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00E1: stloc.2
.try
{
	IL_00E2: br =>      Label4
	IL_00E7: Label17
	IL_00E7: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00E9: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00EE: stloc.3
	IL_00EF: ldarg.0
	IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00F5: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00FA: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00FC: br =>      Label5
		IL_0101: Label15
		IL_0101: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0103: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_0108: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010A: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_0111: ldloc.3
		IL_0112: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_0117: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_011C: brfalse => Label6
		IL_0121: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_0123: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0128: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012A: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012C: switch =>  Labels7,8,9,10
		IL_0141: br =>      Label11
		IL_0146: Label9
		IL_0146: ldloc.1
		IL_0147: ldarg.0
		IL_0148: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_014D: add
		IL_014E: stloc.1
		IL_014F: br =>      Label12
		IL_0154: Label10
		IL_0154: ldloc.1
		IL_0155: ldarg.0
		IL_0156: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_015B: add
		IL_015C: stloc.1
		IL_015D: br =>      Label13
		IL_0162: Label7
		IL_0162: ldloc.1
		IL_0163: ldarg.0
		IL_0164: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0169: sub
		IL_016A: stloc.1
		IL_016B: br =>      Label14
		IL_0170: Label8
		IL_0170: ldloc.1
		IL_0171: ldc.r4     0
		IL_0176: sub
		IL_0177: stloc.1
		IL_0178: Label5
		IL_0178: Label6
		IL_0178: Label11
		IL_0178: Label12
		IL_0178: Label13
		IL_0178: Label14
		IL_0178: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_017F: brtrue =>  Label15
		IL_0184: leave =>   Label16
		IL_0189: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_018E: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_019B: endfinally
		IL_019C: leave =>   (autogenerated)
	} // end handler
	IL_019D: Label4
	IL_019D: Label16
	IL_019D: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_019F: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_01A4: brtrue =>  Label17
	IL_01A9: leave =>   Label18
	IL_01AE: leave =>   (autogenerated)
} // end try
.finally
{
	IL_01B3: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_01B5: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_01BB: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_01C0: endfinally
	IL_01C1: leave =>   (autogenerated)
} // end handler
IL_01C2: Label18
IL_01C2: ldarg.0
IL_01C3: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01C8: ldarg.0
IL_01C9: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01CE: ldarg.0
IL_01CF: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01D4: ldarg.0
IL_01D5: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01DA: ldarg.0
IL_01DB: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01E0: ldarg.0
IL_01E1: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01E6: ldloc.1
IL_01E7: ldc.i4.3
IL_01E8: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01ED: // end original
IL_01ED: Label0
IL_01ED: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_continue_courtship_stage_2_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_continue_courtship_stage_2_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix3(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_005C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0061: stloc.0
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0067: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0076: bne.un =>  Label2
IL_007B: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0080: stloc.0
IL_0081: Label2
IL_0081: ldarg.0
IL_0082: ldarg.0
IL_0083: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0088: ldloc.0
IL_0089: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage2(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_008E: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0093: ldarg.0
IL_0094: ldarg.0
IL_0095: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_009A: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_009F: conv.r4
IL_00A0: ldc.r4     1
IL_00A5: mul
IL_00A6: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00AB: ldc.r4     0
IL_00B0: stloc.1
IL_00B1: ldarg.0
IL_00B2: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B7: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00BC: stloc.2
.try
{
	IL_00BD: br =>      Label3
	IL_00C2: Label16
	IL_00C2: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00C4: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00C9: stloc.3
	IL_00CA: ldarg.0
	IL_00CB: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00D0: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00D5: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00D7: br =>      Label4
		IL_00DC: Label14
		IL_00DC: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_00DE: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_00E3: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E5: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E7: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_00EC: ldloc.3
		IL_00ED: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_00F2: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_00F7: brfalse => Label5
		IL_00FC: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00FE: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0103: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0105: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0107: switch =>  Labels6,7,8,9
		IL_011C: br =>      Label10
		IL_0121: Label8
		IL_0121: ldloc.1
		IL_0122: ldarg.0
		IL_0123: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_0128: add
		IL_0129: stloc.1
		IL_012A: br =>      Label11
		IL_012F: Label9
		IL_012F: ldloc.1
		IL_0130: ldarg.0
		IL_0131: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_0136: add
		IL_0137: stloc.1
		IL_0138: br =>      Label12
		IL_013D: Label6
		IL_013D: ldloc.1
		IL_013E: ldarg.0
		IL_013F: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0144: sub
		IL_0145: stloc.1
		IL_0146: br =>      Label13
		IL_014B: Label7
		IL_014B: ldloc.1
		IL_014C: ldc.r4     0
		IL_0151: sub
		IL_0152: stloc.1
		IL_0153: Label4
		IL_0153: Label5
		IL_0153: Label10
		IL_0153: Label11
		IL_0153: Label12
		IL_0153: Label13
		IL_0153: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0155: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_015A: brtrue =>  Label14
		IL_015F: leave =>   Label15
		IL_0164: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_0169: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_016B: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0171: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_0176: endfinally
		IL_0177: leave =>   (autogenerated)
	} // end handler
	IL_0178: Label3
	IL_0178: Label15
	IL_0178: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_017F: brtrue =>  Label16
	IL_0184: leave =>   Label17
	IL_0189: leave =>   (autogenerated)
} // end try
.finally
{
	IL_018E: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_019B: endfinally
	IL_019C: leave =>   (autogenerated)
} // end handler
IL_019D: Label17
IL_019D: ldarg.0
IL_019E: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01A3: ldarg.0
IL_01A4: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01A9: ldarg.0
IL_01AA: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01AF: ldarg.0
IL_01B0: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01B5: ldarg.0
IL_01B6: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01BB: ldarg.0
IL_01BC: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01C1: ldloc.1
IL_01C2: ldc.i4.3
IL_01C3: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01C8: // end original
IL_01C8: Label0
IL_01C8: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Hero::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Hero::TaleWorlds.CampaignSystem.Hero.AddSkillXp_Patch1(TaleWorlds.CampaignSystem.Hero this, TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
IL_0000: Local var 0: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      0 (System.Boolean)
IL_000E: ldloc      0 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarg.0
IL_0018: ldarg      1
IL_001C: ldarga     2
IL_0020: call       static System.Void KaosesTweaks.Patches.Patches::Prefix(TaleWorlds.CampaignSystem.Hero __instance, TaleWorlds.Core.SkillObject skill, System.Single& xpAmount)
IL_0025: Label1
IL_0025: nop
IL_0026: ldloc      0 (System.Boolean)
IL_002A: brfalse => Label0
IL_002F: // start original
IL_002F: ldarg.0
IL_0030: ldfld      TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper TaleWorlds.CampaignSystem.Hero::_heroDeveloper
IL_0035: dup
IL_0036: brtrue =>  Label2
IL_003B: pop
IL_003C: br =>      Label3
IL_0041: Label2
IL_0041: ldarg.1
IL_0042: ldarg.2
IL_0043: ldc.i4.1
IL_0044: ldc.i4.1
IL_0045: callvirt   abstract virtual System.Void TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single rawXp, System.Boolean isAffectedByFocusFactor, System.Boolean shouldNotify)
IL_004A: // end original
IL_004A: Label3
IL_004A: Label0
IL_004A: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
### Replacement: static System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM..ctor_Patch1(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM this, TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
IL_0000: Local var 0: TaleWorlds.Core.EquipmentElement
IL_0000: Local var 1: System.Nullable`1<TaleWorlds.Core.EquipmentIndex>
IL_0000: Local var 2: TaleWorlds.Core.EquipmentIndex
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldc.i4.s   -5
IL_0003: stfld      System.Int32 TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_profitType
IL_0008: ldarg.0
IL_0009: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::.ctor()
IL_000E: ldarga.s   5
IL_0010: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0015: stloc.0
IL_0016: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0018: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_001D: brtrue =>  Label0
IL_0022: br =>      Label16
IL_0027: Label0
IL_0027: ldarg.0
IL_0028: ldarg.s    7
IL_002A: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_fiveStackShortcutKeyText
IL_002F: ldarg.0
IL_0030: ldarg.s    8
IL_0032: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_entireStackShortcutKeyText
IL_0037: ldarg.0
IL_0038: ldarg.s    4
IL_003A: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryMode TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_usageType
IL_003F: ldarg.0
IL_0040: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0045: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_004A: dup
IL_004B: brtrue =>  Label1
IL_0050: pop
IL_0051: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0056: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_0(TaleWorlds.CampaignSystem.Concept c)
IL_005C: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0061: dup
IL_0062: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_0067: Label1
IL_0067: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_006C: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_tradeGoodConceptObj
IL_0071: ldarg.0
IL_0072: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0077: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_007C: dup
IL_007D: brtrue =>  Label2
IL_0082: pop
IL_0083: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0088: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_1(TaleWorlds.CampaignSystem.Concept c)
IL_008E: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0093: dup
IL_0094: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_0099: Label2
IL_0099: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_009E: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_itemConceptObj
IL_00A3: ldarg.0
IL_00A4: ldarg.1
IL_00A5: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_00AA: ldarg.0
IL_00AB: ldarga.s   5
IL_00AD: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00B2: ldarga.s   5
IL_00B4: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00B9: newobj     System.Void TaleWorlds.Core.ItemRosterElement::.ctor(TaleWorlds.Core.EquipmentElement equipmentElement, System.Int32 amount)
IL_00BE: stfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_00C3: ldarg.0
IL_00C4: ldarg.s    9
IL_00C6: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemCost(System.Int32 value)
IL_00CB: ldarg.0
IL_00CC: ldarga.s   5
IL_00CE: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00D3: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemCount(System.Int32 value)
IL_00D8: ldarg.0
IL_00D9: ldc.i4.1
IL_00DA: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TransactionCount(System.Int32 value)
IL_00DF: ldarg.0
IL_00E0: ldarga.s   5
IL_00E2: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00E7: stloc.0
IL_00E8: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_00EA: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_00EF: callvirt   System.Int32 TaleWorlds.Core.ItemObject::get_Difficulty()
IL_00F4: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemLevel(System.Int32 value)
IL_00F9: ldarg.0
IL_00FA: ldarg.s    6
IL_00FC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_InventorySide(TaleWorlds.CampaignSystem.Inventory.InventorySide value)
IL_0101: ldarga.s   10
IL_0103: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0108: brfalse => Label3
IL_010D: ldarg.s    10
IL_010F: stloc.1
IL_0110: ldc.i4.m1
IL_0111: stloc.2
IL_0112: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_0114: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::GetValueOrDefault()
IL_0119: ldloc.2
IL_011A: ceq
IL_011C: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_011E: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0123: and
IL_0124: brtrue =>  Label4
IL_0129: ldarg.0
IL_012A: ldarga.s   10
IL_012C: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_Value()
IL_0131: stfld      TaleWorlds.Core.EquipmentIndex TaleWorlds.Core.ViewModelCollection.ItemVM::_itemType
IL_0136: Label3
IL_0136: Label4
IL_0136: ldarg.0
IL_0137: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::SetItemTypeId()
IL_013C: ldarg.0
IL_013D: ldarga.s   5
IL_013F: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0144: stloc.0
IL_0145: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0147: call       TaleWorlds.Localization.TextObject TaleWorlds.Core.EquipmentElement::GetModifiedItemName()
IL_014C: callvirt   virtual System.String System.Object::ToString()
IL_0151: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemDescription(System.String value)
IL_0156: ldarg.0
IL_0157: ldarga.s   5
IL_0159: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_015E: call       static System.String TaleWorlds.CampaignSystem.ViewModelCollection.CampaignUIHelper::GetItemLockStringID(TaleWorlds.Core.EquipmentElement equipmentElement)
IL_0163: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_StringId(System.String value)
IL_0168: ldarg.0
IL_0169: ldarga.s   5
IL_016B: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0170: stloc.0
IL_0171: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0173: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0178: call       static TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Clan::get_PlayerClan()
IL_017D: dup
IL_017E: brtrue =>  Label5
IL_0183: pop
IL_0184: ldnull
IL_0185: br =>      Label6
IL_018A: Label5
IL_018A: call       virtual TaleWorlds.Core.Banner TaleWorlds.CampaignSystem.Clan::get_Banner()
IL_018F: callvirt   System.String TaleWorlds.Core.Banner::Serialize()
IL_0194: Label6
IL_0194: newobj     System.Void TaleWorlds.Core.ImageIdentifierVM::.ctor(TaleWorlds.Core.ItemObject itemObject, System.String bannerCode)
IL_0199: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ImageIdentifier(TaleWorlds.Core.ImageIdentifierVM value)
IL_019E: ldarg.0
IL_019F: ldarga.s   5
IL_01A1: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01A6: stloc.0
IL_01A7: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01A9: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01AE: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01B3: ldc.i4     4194304
IL_01B8: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01BD: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsCivilianItem(System.Boolean value)
IL_01C2: ldarg.0
IL_01C3: ldarg.2
IL_01C4: brfalse => Label7
IL_01C9: ldarg.0
IL_01CA: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01CF: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01D4: stloc.0
IL_01D5: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01D7: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01DC: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01E1: ldc.i4     1024
IL_01E6: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01EB: brtrue =>  Label8
IL_01F0: Label7
IL_01F0: ldarg.2
IL_01F1: brtrue =>  Label9
IL_01F6: ldarg.0
IL_01F7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01FC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0201: stloc.0
IL_0202: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0204: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0209: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_020E: ldc.i4     2048
IL_0213: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_0218: br =>      Label10
IL_021D: Label9
IL_021D: ldc.i4.0
IL_021E: br =>      Label11
IL_0223: Label8
IL_0223: ldc.i4.1
IL_0224: Label10
IL_0224: Label11
IL_0224: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsGenderDifferent(System.Boolean value)
IL_0229: ldarg.0
IL_022A: ldarg.3
IL_022B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanCharacterUseItem(System.Boolean value)
IL_0230: ldarg.0
IL_0231: ldarga.s   5
IL_0233: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0238: stloc.0
IL_0239: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_023B: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0240: callvirt   System.Boolean TaleWorlds.Core.ItemObject::get_IsUniqueItem()
IL_0245: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsArtifact(System.Boolean value)
IL_024A: ldarg.0
IL_024B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateCanBeSlaughtered()
IL_0250: ldarg.0
IL_0251: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateHintTexts()
IL_0256: ldarg.0
IL_0257: ldarg.0
IL_0258: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_025D: dup
IL_025E: brtrue =>  Label12
IL_0263: pop
IL_0264: ldc.i4.0
IL_0265: br =>      Label13
IL_026A: Label12
IL_026A: ldarg.0
IL_026B: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_0270: ldarg.0
IL_0271: call       TaleWorlds.CampaignSystem.Inventory.InventorySide TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_InventorySide()
IL_0276: call       System.Boolean TaleWorlds.CampaignSystem.Inventory.InventoryLogic::CanDonateItem(TaleWorlds.Core.ItemRosterElement element, TaleWorlds.CampaignSystem.Inventory.InventorySide sideOfItem)
IL_027B: Label13
IL_027B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanBeDonated(System.Boolean value)
IL_0280: ldarg.0
IL_0281: ldarg.0
IL_0282: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_0287: ldarg.0
IL_0288: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_028D: ldarg.s    6
IL_028F: ldarg.0
IL_0290: ldftn      System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::OnTradeApplyTransaction(System.Int32 amount, System.Boolean isBuying)
IL_0296: newobj     System.Void System.Action`2<System.Int32, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_029B: newobj     System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, TaleWorlds.Core.ItemRosterElement itemRoster, TaleWorlds.CampaignSystem.Inventory.InventorySide side, System.Action`2<System.Int32, System.Boolean> onApplyTransaction)
IL_02A0: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TradeData(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM value)
IL_02A5: ldarg.0
IL_02A6: ldarg.0
IL_02A7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_02AC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02B1: stloc.0
IL_02B2: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02B4: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_02B9: ldc.i4.0
IL_02BA: ceq
IL_02BC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsTransferable(System.Boolean value)
IL_02C1: ldarg.0
IL_02C2: call       TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_TradeData()
IL_02C7: ldarg.0
IL_02C8: call       System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_IsTransferable()
IL_02CD: callvirt   System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::set_IsTradeable(System.Boolean value)
IL_02D2: ldarg.0
IL_02D3: ldarga.s   5
IL_02D5: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02DA: stloc.0
IL_02DB: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02DD: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_02E2: call       static TaleWorlds.CampaignSystem.Inventory.InventoryItemType TaleWorlds.CampaignSystem.Inventory.InventoryManager::GetInventoryItemTypeOfItem(TaleWorlds.Core.ItemObject item)
IL_02E7: ldc.i4     2303
IL_02EC: or
IL_02ED: ldc.i4     2303
IL_02F2: bne.un =>  Label14
IL_02F7: ldarga.s   5
IL_02F9: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02FE: stloc.0
IL_02FF: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0301: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_0306: ldc.i4.0
IL_0307: ceq
IL_0309: br =>      Label15
IL_030E: Label14
IL_030E: ldc.i4.0
IL_030F: Label15
IL_030F: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsEquipableItem(System.Boolean value)
IL_0314: ldarg.0
IL_0315: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateIsNew()
IL_031A: ldarg.0
IL_031B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateProfitType()
IL_0320: // end original
IL_0320: Label16
IL_0320: ldarg.0
IL_0321: call       static System.Void KaosesTweaks.Patches.SPItemVMPatch::Postfix(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM __instance)
IL_0326: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch3(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ldarg.0
IL_000D: call       static System.Void Bannerlord.Harmony.SubModule::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0012: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch2(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ret
DONE

### Harmony id=KaosesTweaks.harmony, version=2.2.2.0, location=C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.Harmony\bin\Win64_Shipping_Client\0Harmony.dll, env/clr=4.0.30319.42000, platform=Win32NT, ptrsize:runtime/env=8/Bits64, Windows
### Started from virtual System.Void KaosesTweaks.SubModule::OnBeforeInitialModuleScreenSetAsRoot(), location C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\KaosesTweaks\bin\Win64_Shipping_Client\KaosesTweaks.dll
### At 2022-07-23 04.00.07
### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::GetUnitValueForFaction(TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable.GetUnitValueForFaction_Patch1(TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable this, TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Int32
IL_0000: ldc.i4     0
IL_0005: stloc      3 (System.Int32)
IL_0009: // start original
IL_0009: ldc.r4     -1000000
IL_000E: stloc.0
IL_000F: ldarg.1
IL_0010: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0015: brtrue =>  Label0
IL_001A: ldarg.1
IL_001B: castclass  TaleWorlds.CampaignSystem.Clan
IL_0020: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_0025: pop
IL_0026: Label0
IL_0026: ldarg.0
IL_0027: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_002C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0031: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0036: pop
IL_0037: ldarg.0
IL_0038: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_003D: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::get_IsKingdomFaction()
IL_0042: brfalse => Label1
IL_0047: ldarg.1
IL_0048: ldarg.0
IL_0049: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_004E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0053: bne.un =>  Label2
IL_0058: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_005D: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0062: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0067: ldarg.0
IL_0068: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_006D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0072: ldarg.0
IL_0073: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0078: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfClanToJoinKingdom(TaleWorlds.CampaignSystem.Clan clan, TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_007D: stloc.0
IL_007E: ldarg.0
IL_007F: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0084: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0089: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_008E: brfalse => Label3
IL_0093: ldarg.0
IL_0094: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0099: ldarg.0
IL_009A: call       TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalParty()
IL_009F: newobj     System.Void TaleWorlds.CampaignSystem.BarterSystem.Barterables.LeaveKingdomAsClanBarterable::.ctor(TaleWorlds.CampaignSystem.Hero owner, TaleWorlds.CampaignSystem.Party.PartyBase ownerParty)
IL_00A4: ldarg.1
IL_00A5: call       System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::GetValueForFaction(TaleWorlds.CampaignSystem.IFaction faction)
IL_00AA: stloc.1
IL_00AB: ldc.r4     0
IL_00B0: stloc.2
IL_00B1: ldarg.0
IL_00B2: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00B7: ldarg.0
IL_00B8: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00BD: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00C2: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00C7: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::IsAtWarWith(TaleWorlds.CampaignSystem.IFaction other)
IL_00CC: brtrue =>  Label4
IL_00D1: ldarg.0
IL_00D2: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00D7: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00DC: ldarg.0
IL_00DD: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00E2: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00E7: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00EC: callvirt   System.Single TaleWorlds.CampaignSystem.Clan::CalculateTotalSettlementValueForFaction(TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_00F1: stloc.2
IL_00F2: ldloc.0
IL_00F3: ldloc.2
IL_00F4: ldarg.0
IL_00F5: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00FA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Kingdom::get_Leader()
IL_00FF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0104: beq =>     Label5
IL_0109: ldc.r4     1
IL_010E: br =>      Label6
IL_0113: Label5
IL_0113: ldc.r4     0.5
IL_0118: Label6
IL_0118: mul
IL_0119: sub
IL_011A: stloc.0
IL_011B: Label4
IL_011B: ldloc.0
IL_011C: ldloc.1
IL_011D: conv.r4
IL_011E: add
IL_011F: stloc.0
IL_0120: br =>      Label7
IL_0125: Label2
IL_0125: ldarg.1
IL_0126: callvirt   abstract virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.IFaction::get_MapFaction()
IL_012B: ldarg.0
IL_012C: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0131: bne.un =>  Label8
IL_0136: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_013B: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0140: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0145: ldarg.0
IL_0146: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_014B: ldarg.0
IL_014C: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0151: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0156: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfKingdomToGetClan(TaleWorlds.CampaignSystem.Kingdom kingdom, TaleWorlds.CampaignSystem.Clan clan)
IL_015B: stloc.0
IL_015C: Label1
IL_015C: Label3
IL_015C: Label7
IL_015C: Label8
IL_015C: ldloc.0
IL_015D: conv.i4
IL_015E: // end original
IL_015E: stloc      3 (System.Int32)
IL_0162: ldloca     3 (System.Int32)
IL_0166: ldarg      1
IL_016A: ldarg.0
IL_016B: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0170: call       static System.Void KaosesTweaks.Patches.BTBarterablePatches::Postfix(System.Int32& __result, TaleWorlds.CampaignSystem.IFaction factionForEvaluation, TaleWorlds.CampaignSystem.Kingdom ___TargetKingdom)
IL_0175: ldloc      3 (System.Int32)
IL_0179: ret
DONE

### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::GetPlayerMaximumTroopCountForHideoutMission(TaleWorlds.CampaignSystem.Party.MobileParty party)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel.GetPlayerMaximumTroopCountForHideoutMission_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel this, TaleWorlds.CampaignSystem.Party.MobileParty party)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      1 (System.Int32)
IL_0009: ldc.i4     0
IL_000E: stloc      2 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      2 (System.Boolean)
IL_0017: ldloc      2 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     1 (System.Int32)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.BTTroopCountForHidoutMission::Prefix(System.Int32& __result)
IL_0029: stloc      2 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      2 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: ldc.r4     10
IL_003C: stloc.0
IL_003D: ldarg.1
IL_003E: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0043: ldc.i4.0
IL_0044: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::HasPerk(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk, System.Boolean checkSecondaryRole)
IL_0049: brfalse => Label2
IL_004E: ldloc.0
IL_004F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0054: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0059: add
IL_005A: stloc.0
IL_005B: Label2
IL_005B: ldloc.0
IL_005C: call       static System.Int32 TaleWorlds.Library.MathF::Round(System.Single f)
IL_0061: // end original
IL_0061: stloc      1 (System.Int32)
IL_0065: Label0
IL_0065: ldloc      1 (System.Int32)
IL_0069: ret
DONE

### Patch: TaleWorlds.CampaignSystem.ExplainedNumber TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::CalculateMobilePartyMemberSizeLimit(TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
### Note: A buffer for the returned struct is used. That requires an extra IntPtr argument before the first real argument
### Replacement: static System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel.CalculateMobilePartyMemberSizeLimit_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel this, System.IntPtr retbuf, TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: Local var 1: System.Nullable`1<System.Boolean>
IL_0000: Local var 2: System.Boolean
IL_0000: Local var 3: System.Nullable`1<System.Boolean>
IL_0000: Local var 4: System.Int32
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>
IL_0000: Local var 7: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0004: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_000A: // start original
IL_000A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_000C: ldc.r4     20
IL_0011: ldarg.3
IL_0012: ldarg.0
IL_0013: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_baseSizeText
IL_0018: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::.ctor(System.Single baseNumber, System.Boolean includeDescriptions, TaleWorlds.Localization.TextObject baseText)
IL_001D: ldarg.2
IL_001E: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0023: brfalse => Label0
IL_0028: ldarg.2
IL_0029: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_002E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0033: brfalse => Label1
IL_0038: ldarg.2
IL_0039: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_003E: brtrue =>  Label2
IL_0043: ldarg.2
IL_0044: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0049: brfalse => Label3
IL_004E: ldarg.2
IL_004F: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0054: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0059: brfalse => Label4
IL_005E: ldarg.2
IL_005F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0064: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0069: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_006E: ldarg.2
IL_006F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0074: bne.un =>  Label5
IL_0079: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_007B: ldc.r4     20
IL_0080: ldarg.0
IL_0081: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_factionLeaderText
IL_0086: ldnull
IL_0087: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_008C: Label3
IL_008C: Label4
IL_008C: Label5
IL_008C: ldarg.2
IL_008D: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0092: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_0097: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_009C: brfalse => Label6
IL_00A1: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00A3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00A8: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00AD: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00B2: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00B7: ldnull
IL_00B8: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00BD: Label6
IL_00BD: ldarg.2
IL_00BE: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00C3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00C8: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00CD: brfalse => Label7
IL_00D2: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00D4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00D9: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00DE: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00E3: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00E8: ldnull
IL_00E9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00EE: Label7
IL_00EE: ldarg.2
IL_00EF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_00F9: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00FE: brfalse => Label8
IL_0103: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0105: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_010A: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_010F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_0114: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0119: ldnull
IL_011A: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_011F: Label8
IL_011F: ldarg.2
IL_0120: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0125: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_012A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_012F: brfalse => Label9
IL_0134: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0136: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_013B: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0140: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_0145: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_014A: ldnull
IL_014B: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0150: Label9
IL_0150: ldarg.2
IL_0151: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0156: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_015B: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0160: brfalse => Label10
IL_0165: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0167: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_016C: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0171: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_0176: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_017B: ldnull
IL_017C: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0181: Label10
IL_0181: ldarg.2
IL_0182: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0187: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_018C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0191: brfalse => Label11
IL_0196: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0198: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_019D: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01A2: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_01A7: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01AC: ldnull
IL_01AD: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01B2: Label11
IL_01B2: ldarg.2
IL_01B3: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_01B8: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01BD: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_01C2: brfalse => Label12
IL_01C7: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_01C9: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01CE: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01D3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01D8: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01DD: ldnull
IL_01DE: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01E3: Label12
IL_01E3: ldarg.2
IL_01E4: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_01E9: dup
IL_01EA: brtrue =>  Label13
IL_01EF: pop
IL_01F0: ldc.i4.0
IL_01F1: br =>      Label14
IL_01F6: Label13
IL_01F6: call       virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_01FB: dup
IL_01FC: brtrue =>  Label15
IL_0201: pop
IL_0202: ldloca.s   3 (System.Nullable`1[System.Boolean])
IL_0204: initobj    System.Nullable`1[System.Boolean]
IL_020A: ldloc.3
IL_020B: br =>      Label16
IL_0210: Label15
IL_0210: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0215: call       System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_021A: newobj     System.Void System.Nullable`1<System.Boolean>::.ctor(System.Boolean value)
IL_021F: Label16
IL_021F: stloc.1
IL_0220: ldc.i4.1
IL_0221: stloc.2
IL_0222: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_0224: call       System.Boolean System.Nullable`1<System.Boolean>::GetValueOrDefault()
IL_0229: ldloc.2
IL_022A: ceq
IL_022C: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_022E: call       System.Boolean System.Nullable`1<System.Boolean>::get_HasValue()
IL_0233: and
IL_0234: Label14
IL_0234: brfalse => Label17
IL_0239: ldc.i4.0
IL_023A: stloc.s    4 (System.Int32)
IL_023C: ldarg.2
IL_023D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_0242: callvirt   virtual TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.CampaignSystem.Clan::get_Settlements()
IL_0247: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement>::GetEnumerator()
IL_024C: stloc.s    6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
.try
{
	IL_024E: br =>      Label18
	IL_0253: Label20
	IL_0253: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0255: call       virtual TaleWorlds.CampaignSystem.Settlements.Settlement System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::get_Current()
	IL_025A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Settlements.Settlement::get_IsTown()
	IL_025F: brfalse => Label19
	IL_0264: ldloc.s    4 (System.Int32)
	IL_0266: ldc.i4.1
	IL_0267: add
	IL_0268: stloc.s    4 (System.Int32)
	IL_026A: Label18
	IL_026A: Label19
	IL_026A: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_026C: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::MoveNext()
	IL_0271: brtrue =>  Label20
	IL_0276: leave =>   Label21
	IL_027B: leave =>   (autogenerated)
} // end try
.finally
{
	IL_0280: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0282: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement]
	IL_0288: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_028D: endfinally
	IL_028E: leave =>   (autogenerated)
} // end handler
IL_028F: Label21
IL_028F: ldloc.s    4 (System.Int32)
IL_0291: conv.r4
IL_0292: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0297: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_029C: mul
IL_029D: stloc.s    5 (System.Single)
IL_029F: ldloc.s    5 (System.Single)
IL_02A1: ldc.r4     0
IL_02A6: ble.un =>  Label22
IL_02AB: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_02AD: ldloc.s    5 (System.Single)
IL_02AF: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_02B4: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_02B9: ldnull
IL_02BA: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_02BF: Label17
IL_02BF: Label22
IL_02BF: ldarg.2
IL_02C0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02C5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02CA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_02CF: ldarg.2
IL_02D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02D5: bne.un =>  Label23
IL_02DA: ldarg.2
IL_02DB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02E0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02E5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_02EA: ldc.i4.5
IL_02EB: blt =>     Label24
IL_02F0: ldarg.2
IL_02F1: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_02F6: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_02FB: brfalse => Label25
IL_0300: ldarg.2
IL_0301: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0306: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_030B: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_0310: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_0315: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_031A: brfalse => Label26
IL_031F: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0321: ldc.r4     40
IL_0326: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_032B: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0330: ldnull
IL_0331: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0336: Label24
IL_0336: Label25
IL_0336: Label26
IL_0336: ldarg.2
IL_0337: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_033C: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0341: brfalse => Label27
IL_0346: ldarg.2
IL_0347: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_034C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0351: ldarg.2
IL_0352: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0357: bne.un =>  Label28
IL_035C: ldarg.2
IL_035D: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0362: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_0367: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_036C: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0371: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_0376: brfalse => Label29
IL_037B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_037D: ldc.r4     60
IL_0382: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0387: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_038C: ldnull
IL_038D: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0392: Label27
IL_0392: Label28
IL_0392: Label29
IL_0392: ldarg.2
IL_0393: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0398: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_039D: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03A2: ldc.i4.0
IL_03A3: ble =>     Label30
IL_03A8: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03AA: ldarg.2
IL_03AB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03B0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03B5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03BA: ldc.i4.s   25
IL_03BC: mul
IL_03BD: conv.r4
IL_03BE: ldarg.0
IL_03BF: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_03C4: ldnull
IL_03C5: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_03CA: br =>      Label31
IL_03CF: Label23
IL_03CF: ldarg.2
IL_03D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03D5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03DA: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03DF: ldc.i4.0
IL_03E0: ble =>     Label32
IL_03E5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03E7: ldarg.2
IL_03E8: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03ED: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03F2: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03F7: ldc.i4.s   15
IL_03F9: mul
IL_03FA: conv.r4
IL_03FB: ldarg.0
IL_03FC: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_0401: ldnull
IL_0402: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0407: Label30
IL_0407: Label31
IL_0407: Label32
IL_0407: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0409: ldarg.2
IL_040A: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_EffectiveQuartermaster()
IL_040F: call       static TaleWorlds.Core.SkillObject TaleWorlds.Core.DefaultSkills::get_Steward()
IL_0414: callvirt   System.Int32 TaleWorlds.CampaignSystem.Hero::GetSkillValue(TaleWorlds.Core.SkillObject skill)
IL_0419: ldc.i4.4
IL_041A: div
IL_041B: conv.r4
IL_041C: ldarg.0
IL_041D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_quarterMasterText
IL_0422: ldnull
IL_0423: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0428: ldarg.0
IL_0429: ldarg.2
IL_042A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_042C: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddMobilePartyLeaderPartySizePerkEffects(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_0431: ldarg.0
IL_0432: ldarg.2
IL_0433: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0435: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddUltimateLeaderPerkEffectForPartySize(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_043A: ldsfld     System.Boolean TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_addAdditionalPartySizeAsCheat
IL_043F: brfalse => Label33
IL_0444: ldarg.2
IL_0445: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsMainParty()
IL_044A: brfalse => Label34
IL_044F: call       static TaleWorlds.Core.Game TaleWorlds.Core.Game::get_Current()
IL_0454: callvirt   System.Boolean TaleWorlds.Core.Game::get_CheatMode()
IL_0459: brfalse => Label35
IL_045E: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0460: ldc.r4     5000
IL_0465: ldstr      "{=!}Additional size from extra party cheat"
IL_046A: ldnull
IL_046B: newobj     System.Void TaleWorlds.Localization.TextObject::.ctor(System.String value, System.Collections.Generic.Dictionary`2<System.String, System.Object> attributes)
IL_0470: ldnull
IL_0471: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0476: br =>      Label36
IL_047B: Label0
IL_047B: Label1
IL_047B: Label2
IL_047B: ldarg.2
IL_047C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_0481: brfalse => Label37
IL_0486: ldarg.2
IL_0487: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_048C: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_0491: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0496: bne.un =>  Label38
IL_049B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_049D: ldc.r4     10
IL_04A2: ldarg.0
IL_04A3: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_04A8: ldnull
IL_04A9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_04AE: br =>      Label39
IL_04B3: Label38
IL_04B3: ldarg.2
IL_04B4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04B9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04BE: dup
IL_04BF: brtrue =>  Label40
IL_04C4: pop
IL_04C5: ldc.i4.0
IL_04C6: br =>      Label41
IL_04CB: Label40
IL_04CB: call       System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsNotable()
IL_04D0: Label41
IL_04D0: brfalse => Label42
IL_04D5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_04D7: ldc.i4.s   10
IL_04D9: ldarg.2
IL_04DA: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04DF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04E4: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_04E9: ldc.r4     100
IL_04EE: blt =>     Label43
IL_04F3: ldarg.2
IL_04F4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04F9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04FE: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_0503: ldc.r4     200
IL_0508: blt =>     Label44
IL_050D: ldc.i4.3
IL_050E: br =>      Label45
IL_0513: Label44
IL_0513: ldc.i4.2
IL_0514: br =>      Label46
IL_0519: Label43
IL_0519: ldc.i4.1
IL_051A: Label45
IL_051A: Label46
IL_051A: mul
IL_051B: conv.r4
IL_051C: ldarg.0
IL_051D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0522: ldnull
IL_0523: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0528: br =>      Label47
IL_052D: Label37
IL_052D: ldarg.2
IL_052E: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_0533: brfalse => Label48
IL_0538: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_053A: ldc.r4     40
IL_053F: ldarg.0
IL_0540: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0545: ldnull
IL_0546: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_054B: Label33
IL_054B: Label34
IL_054B: Label35
IL_054B: Label36
IL_054B: Label39
IL_054B: Label42
IL_054B: Label47
IL_054B: Label48
IL_054B: ldloc.0
IL_054C: // end original
IL_054C: stloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0550: ldarg      2
IL_0554: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0558: call       static System.Void KaosesTweaks.Patches.DefaultPartySizeLimitModelPatch::Postfix(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& __result)
IL_055D: ldloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0561: ldloca     8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0565: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_056B: stloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_056F: ldarg.1
IL_0570: ldloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0574: stobj      TaleWorlds.CampaignSystem.ExplainedNumber
IL_0579: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Party.MobileParty::FillPartyStacks(TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Party.MobileParty::TaleWorlds.CampaignSystem.Party.MobileParty.FillPartyStacks_Patch1(TaleWorlds.CampaignSystem.Party.MobileParty this, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Single
IL_0000: Local var 4: System.Single
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Single
IL_0000: Local var 7: System.Single
IL_0000: Local var 8: System.Single
IL_0000: Local var 9: System.Single
IL_0000: Local var 10: System.Single
IL_0000: Local var 11: System.Int32
IL_0000: Local var 12: System.Int32
IL_0000: Local var 13: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 14: System.Int32
IL_0000: Local var 15: System.Int32
IL_0000: Local var 16: System.Single
IL_0000: Local var 17: System.Single
IL_0000: Local var 18: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 19: System.Int32
IL_0000: Local var 20: System.Int32
IL_0000: Local var 21: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      21 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      21 (System.Boolean)
IL_000E: ldloc      21 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg      1
IL_001F: ldarg      2
IL_0023: call       static System.Boolean KaosesTweaks.Patches.TitanFillPartyStacksPatch::Prefix(TaleWorlds.CampaignSystem.Party.MobileParty& __instance, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0028: stloc      21 (System.Boolean)
IL_002C: Label1
IL_002C: nop
IL_002D: ldloc      21 (System.Boolean)
IL_0031: brfalse => Label0
IL_0036: // start original
IL_0036: ldarg.0
IL_0037: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsBandit()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0046: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_004B: stloc.0
IL_004C: ldc.r4     0.4
IL_0051: ldc.r4     0.8
IL_0056: ldloc.0
IL_0057: mul
IL_0058: add
IL_0059: stloc.1
IL_005A: ldc.i4.2
IL_005B: call       static System.Int32 TaleWorlds.Core.MBRandom::RandomInt(System.Int32 maxValue)
IL_0060: dup
IL_0061: brfalse => Label3
IL_0066: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_006B: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0070: mul
IL_0071: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0076: mul
IL_0077: ldc.r4     4
IL_007C: mul
IL_007D: br =>      Label4
IL_0082: Label3
IL_0082: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0087: Label4
IL_0087: stloc.2
IL_0088: brfalse => Label5
IL_008D: ldc.r4     1
IL_0092: ldloc.2
IL_0093: add
IL_0094: br =>      Label6
IL_0099: Label5
IL_0099: ldloc.2
IL_009A: ldc.r4     0.8
IL_009F: mul
IL_00A0: ldc.r4     0.2
IL_00A5: add
IL_00A6: Label6
IL_00A6: stloc.3
IL_00A7: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00AC: stloc.s    4 (System.Single)
IL_00AE: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00B3: stloc.s    5 (System.Single)
IL_00B5: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00BA: stloc.s    6 (System.Single)
IL_00BC: ldarg.1
IL_00BD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00C2: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_00C7: ldc.i4.0
IL_00C8: bgt =>     Label7
IL_00CD: ldc.r4     0
IL_00D2: br =>      Label8
IL_00D7: Label7
IL_00D7: ldarg.1
IL_00D8: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00DD: ldc.i4.0
IL_00DE: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00E3: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_00E8: conv.r4
IL_00E9: ldloc.1
IL_00EA: ldloc.3
IL_00EB: mul
IL_00EC: ldloc.s    4 (System.Single)
IL_00EE: mul
IL_00EF: ldarg.1
IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00F5: ldc.i4.0
IL_00F6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00FB: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0100: ldarg.1
IL_0101: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0106: ldc.i4.0
IL_0107: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_010C: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0111: sub
IL_0112: conv.r4
IL_0113: mul
IL_0114: add
IL_0115: Label8
IL_0115: stloc.s    7 (System.Single)
IL_0117: ldarg.1
IL_0118: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_011D: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0122: ldc.i4.1
IL_0123: bgt =>     Label9
IL_0128: ldc.r4     0
IL_012D: br =>      Label10
IL_0132: Label9
IL_0132: ldarg.1
IL_0133: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0138: ldc.i4.1
IL_0139: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_013E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0143: conv.r4
IL_0144: ldloc.1
IL_0145: ldloc.3
IL_0146: mul
IL_0147: ldloc.s    5 (System.Single)
IL_0149: mul
IL_014A: ldarg.1
IL_014B: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0150: ldc.i4.1
IL_0151: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0156: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_015B: ldarg.1
IL_015C: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0161: ldc.i4.1
IL_0162: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0167: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_016C: sub
IL_016D: conv.r4
IL_016E: mul
IL_016F: add
IL_0170: Label10
IL_0170: stloc.s    8 (System.Single)
IL_0172: ldarg.1
IL_0173: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0178: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_017D: ldc.i4.2
IL_017E: bgt =>     Label11
IL_0183: ldc.r4     0
IL_0188: br =>      Label12
IL_018D: Label11
IL_018D: ldarg.1
IL_018E: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0193: ldc.i4.2
IL_0194: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0199: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_019E: conv.r4
IL_019F: ldloc.1
IL_01A0: ldloc.3
IL_01A1: mul
IL_01A2: ldloc.s    6 (System.Single)
IL_01A4: mul
IL_01A5: ldarg.1
IL_01A6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01AB: ldc.i4.2
IL_01AC: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01B1: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_01B6: ldarg.1
IL_01B7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01BC: ldc.i4.2
IL_01BD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01C2: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_01C7: sub
IL_01C8: conv.r4
IL_01C9: mul
IL_01CA: add
IL_01CB: Label12
IL_01CB: stloc.s    9 (System.Single)
IL_01CD: ldarg.0
IL_01CE: ldarg.1
IL_01CF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01D4: ldc.i4.0
IL_01D5: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01DA: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_01DF: ldloc.s    7 (System.Single)
IL_01E1: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_01E6: ldc.i4.0
IL_01E7: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_01EC: pop
IL_01ED: ldarg.1
IL_01EE: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01F3: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_01F8: ldc.i4.1
IL_01F9: ble =>     Label13
IL_01FE: ldarg.0
IL_01FF: ldarg.1
IL_0200: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0205: ldc.i4.1
IL_0206: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_020B: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0210: ldloc.s    8 (System.Single)
IL_0212: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0217: ldc.i4.0
IL_0218: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_021D: pop
IL_021E: Label13
IL_021E: ldarg.1
IL_021F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0224: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0229: ldc.i4.2
IL_022A: ble =>     Label14
IL_022F: ldarg.0
IL_0230: ldarg.1
IL_0231: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0236: ldc.i4.2
IL_0237: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_023C: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0241: ldloc.s    9 (System.Single)
IL_0243: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0248: ldc.i4.0
IL_0249: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_024E: pop
IL_024F: br =>      Label39
IL_0254: Label2
IL_0254: ldarg.2
IL_0255: ldc.i4.0
IL_0256: bge =>     Label15
IL_025B: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0260: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_0265: stloc.s    10 (System.Single)
IL_0267: ldc.i4.0
IL_0268: stloc.s    11 (System.Int32)
IL_026A: br =>      Label16
IL_026F: Label17
IL_026F: ldloc.s    10 (System.Single)
IL_0271: ldarg.1
IL_0272: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0277: ldloc.s    11 (System.Int32)
IL_0279: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_027E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0283: ldarg.1
IL_0284: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0289: ldloc.s    11 (System.Int32)
IL_028B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0290: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0295: sub
IL_0296: conv.r4
IL_0297: mul
IL_0298: conv.i4
IL_0299: ldarg.1
IL_029A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_029F: ldloc.s    11 (System.Int32)
IL_02A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02A6: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_02AB: add
IL_02AC: stloc.s    12 (System.Int32)
IL_02AE: ldarg.1
IL_02AF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02B4: ldloc.s    11 (System.Int32)
IL_02B6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02BB: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_02C0: stloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C2: ldarg.0
IL_02C3: ldloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C5: ldloc.s    12 (System.Int32)
IL_02C7: ldc.i4.0
IL_02C8: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_02CD: pop
IL_02CE: ldloc.s    11 (System.Int32)
IL_02D0: ldc.i4.1
IL_02D1: add
IL_02D2: stloc.s    11 (System.Int32)
IL_02D4: Label16
IL_02D4: ldloc.s    11 (System.Int32)
IL_02D6: ldarg.1
IL_02D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02DC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_02E1: blt =>     Label17
IL_02E6: br =>      Label40
IL_02EB: Label15
IL_02EB: ldc.i4.0
IL_02EC: stloc.s    14 (System.Int32)
IL_02EE: br =>      Label18
IL_02F3: Label38
IL_02F3: ldc.i4.m1
IL_02F4: stloc.s    15 (System.Int32)
IL_02F6: ldc.r4     0
IL_02FB: stloc.s    16 (System.Single)
IL_02FD: ldc.i4.0
IL_02FE: stloc.s    19 (System.Int32)
IL_0300: br =>      Label19
IL_0305: Label26
IL_0305: ldloc.s    16 (System.Single)
IL_0307: ldarg.0
IL_0308: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_030D: brfalse => Label20
IL_0312: ldarg.1
IL_0313: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0318: ldloc.s    19 (System.Int32)
IL_031A: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_031F: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0324: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_0329: brtrue =>  Label21
IL_032E: Label20
IL_032E: ldarg.0
IL_032F: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_0334: brfalse => Label22
IL_0339: ldarg.1
IL_033A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_033F: ldloc.s    19 (System.Int32)
IL_0341: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0346: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_034B: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0350: brfalse => Label23
IL_0355: Label22
IL_0355: ldc.r4     1
IL_035A: br =>      Label24
IL_035F: Label23
IL_035F: ldc.r4     2
IL_0364: br =>      Label25
IL_0369: Label21
IL_0369: ldc.r4     6
IL_036E: Label24
IL_036E: Label25
IL_036E: ldarg.1
IL_036F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0374: ldloc.s    19 (System.Int32)
IL_0376: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_037B: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0380: ldarg.1
IL_0381: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0386: ldloc.s    19 (System.Int32)
IL_0388: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_038D: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0392: add
IL_0393: conv.r4
IL_0394: ldc.r4     2
IL_0399: div
IL_039A: mul
IL_039B: add
IL_039C: stloc.s    16 (System.Single)
IL_039E: ldloc.s    19 (System.Int32)
IL_03A0: ldc.i4.1
IL_03A1: add
IL_03A2: stloc.s    19 (System.Int32)
IL_03A4: Label19
IL_03A4: ldloc.s    19 (System.Int32)
IL_03A6: ldarg.1
IL_03A7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03AC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_03B1: blt =>     Label26
IL_03B6: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_03BB: ldloc.s    16 (System.Single)
IL_03BD: mul
IL_03BE: stloc.s    17 (System.Single)
IL_03C0: ldc.i4.0
IL_03C1: stloc.s    20 (System.Int32)
IL_03C3: br =>      Label27
IL_03C8: Label36
IL_03C8: ldloc.s    17 (System.Single)
IL_03CA: ldarg.0
IL_03CB: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03D0: brfalse => Label28
IL_03D5: ldarg.1
IL_03D6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03DB: ldloc.s    20 (System.Int32)
IL_03DD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_03E2: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_03E7: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_03EC: brtrue =>  Label29
IL_03F1: Label28
IL_03F1: ldarg.0
IL_03F2: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03F7: brfalse => Label30
IL_03FC: ldarg.1
IL_03FD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0402: ldloc.s    20 (System.Int32)
IL_0404: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0409: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_040E: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0413: brfalse => Label31
IL_0418: Label30
IL_0418: ldc.r4     1
IL_041D: br =>      Label32
IL_0422: Label31
IL_0422: ldc.r4     2
IL_0427: br =>      Label33
IL_042C: Label29
IL_042C: ldc.r4     6
IL_0431: Label32
IL_0431: Label33
IL_0431: ldarg.1
IL_0432: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0437: ldloc.s    20 (System.Int32)
IL_0439: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_043E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0443: ldarg.1
IL_0444: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0449: ldloc.s    20 (System.Int32)
IL_044B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0450: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0455: add
IL_0456: conv.r4
IL_0457: ldc.r4     2
IL_045C: div
IL_045D: mul
IL_045E: sub
IL_045F: stloc.s    17 (System.Single)
IL_0461: ldloc.s    17 (System.Single)
IL_0463: ldc.r4     0
IL_0468: bge.un =>  Label34
IL_046D: ldloc.s    20 (System.Int32)
IL_046F: stloc.s    15 (System.Int32)
IL_0471: br =>      Label35
IL_0476: Label34
IL_0476: ldloc.s    20 (System.Int32)
IL_0478: ldc.i4.1
IL_0479: add
IL_047A: stloc.s    20 (System.Int32)
IL_047C: Label27
IL_047C: ldloc.s    20 (System.Int32)
IL_047E: ldarg.1
IL_047F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0484: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0489: blt =>     Label36
IL_048E: Label35
IL_048E: ldloc.s    15 (System.Int32)
IL_0490: ldc.i4.0
IL_0491: bge =>     Label37
IL_0496: ldc.i4.0
IL_0497: stloc.s    15 (System.Int32)
IL_0499: Label37
IL_0499: ldarg.1
IL_049A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_049F: ldloc.s    15 (System.Int32)
IL_04A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_04A6: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_04AB: stloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04AD: ldarg.0
IL_04AE: ldloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04B0: ldc.i4.1
IL_04B1: ldc.i4.0
IL_04B2: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_04B7: pop
IL_04B8: ldloc.s    14 (System.Int32)
IL_04BA: ldc.i4.1
IL_04BB: add
IL_04BC: stloc.s    14 (System.Int32)
IL_04BE: Label18
IL_04BE: ldloc.s    14 (System.Int32)
IL_04C0: ldarg.2
IL_04C1: blt =>     Label38
IL_04C6: ldarg.0
IL_04C7: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_04CC: pop
IL_04CD: // end original
IL_04CD: Label14
IL_04CD: Label39
IL_04CD: Label40
IL_04CD: Label0
IL_04CD: ret
DONE

### Patch: System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_player_can_open_courtship_on_condition()
### Replacement: static System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_player_can_open_courtship_on_condition_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: System.Boolean
IL_0000: Local var 1: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4     0
IL_000E: stloc      1 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      1 (System.Boolean)
IL_0017: ldloc      1 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     0 (System.Boolean)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix1(System.Boolean& __result)
IL_0029: stloc      1 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      1 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0046: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_004B: dup
IL_004C: brtrue =>  Label3
IL_0051: pop
IL_0052: ldc.i4.0
IL_0053: br =>      Label4
IL_0058: Label3
IL_0058: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsMinorFaction()
IL_005D: Label4
IL_005D: brtrue =>  Label5
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0067: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsPrisoner()
IL_006C: brfalse => Label6
IL_0071: Label2
IL_0071: Label5
IL_0071: ldc.i4.0
IL_0072: br =>      Label15
IL_0077: Label6
IL_0077: ldarg.0
IL_0078: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007D: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0082: call       System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::MarriageCourtshipPossibility(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0087: brfalse => Label7
IL_008C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_009B: brtrue =>  Label8
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_00AA: brfalse => Label9
IL_00AF: ldstr      "FLIRTATION_LINE"
IL_00B4: ldstr      "{=bjJs0eeB}My lord, I note that you have not yet taken a wife."
IL_00B9: ldc.i4.0
IL_00BA: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00BF: br =>      Label10
IL_00C4: Label9
IL_00C4: ldstr      "FLIRTATION_LINE"
IL_00C9: ldstr      "{=v1hC6Aem}My lady, I wish to profess myself your most ardent admirer."
IL_00CE: ldc.i4.0
IL_00CF: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00D4: Label10
IL_00D4: ldc.i4.1
IL_00D5: br =>      Label16
IL_00DA: Label7
IL_00DA: Label8
IL_00DA: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00DF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00E4: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00E9: ldc.i4.1
IL_00EA: beq =>     Label11
IL_00EF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00F9: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00FE: ldc.i4.2
IL_00FF: bne.un =>  Label12
IL_0104: Label11
IL_0104: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0109: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_010E: brfalse => Label13
IL_0113: ldstr      "FLIRTATION_LINE"
IL_0118: ldstr      "{=2WnhUBMM}My lord, may you give me another chance to prove myself?"
IL_011D: ldc.i4.0
IL_011E: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0123: br =>      Label14
IL_0128: Label13
IL_0128: ldstr      "FLIRTATION_LINE"
IL_012D: ldstr      "{=4iTaEZKg}My lady, may you give me another chance to prove myself?"
IL_0132: ldc.i4.0
IL_0133: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0138: Label14
IL_0138: ldc.i4.1
IL_0139: br =>      Label17
IL_013E: Label12
IL_013E: ldc.i4.0
IL_013F: // end original
IL_013F: Label15
IL_013F: Label16
IL_013F: Label17
IL_013F: stloc      0 (System.Boolean)
IL_0143: Label0
IL_0143: ldloc      0 (System.Boolean)
IL_0147: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_start_courtship_persuasion_pt1_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_start_courtship_persuasion_pt1_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix2(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_005C: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0061: ldc.i4.3
IL_0062: bne.un =>  Label2
IL_0067: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: ldc.i4.4
IL_0072: call       static System.Void TaleWorlds.CampaignSystem.Actions.ChangeRomanticStateAction::Apply(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2, TaleWorlds.CampaignSystem.RomanceLevelEnum toWhat)
IL_0077: Label2
IL_0077: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0081: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0086: stloc.0
IL_0087: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_008C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_009B: bne.un =>  Label3
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: stloc.0
IL_00A6: Label3
IL_00A6: ldarg.0
IL_00A7: ldarg.0
IL_00A8: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00AD: ldloc.0
IL_00AE: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage1(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_00B3: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B8: ldarg.0
IL_00B9: ldarg.0
IL_00BA: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00BF: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_00C4: conv.r4
IL_00C5: ldc.r4     1
IL_00CA: mul
IL_00CB: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00D0: ldc.r4     0
IL_00D5: stloc.1
IL_00D6: ldarg.0
IL_00D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00DC: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00E1: stloc.2
.try
{
	IL_00E2: br =>      Label4
	IL_00E7: Label17
	IL_00E7: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00E9: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00EE: stloc.3
	IL_00EF: ldarg.0
	IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00F5: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00FA: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00FC: br =>      Label5
		IL_0101: Label15
		IL_0101: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0103: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_0108: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010A: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_0111: ldloc.3
		IL_0112: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_0117: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_011C: brfalse => Label6
		IL_0121: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_0123: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0128: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012A: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012C: switch =>  Labels7,8,9,10
		IL_0141: br =>      Label11
		IL_0146: Label9
		IL_0146: ldloc.1
		IL_0147: ldarg.0
		IL_0148: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_014D: add
		IL_014E: stloc.1
		IL_014F: br =>      Label12
		IL_0154: Label10
		IL_0154: ldloc.1
		IL_0155: ldarg.0
		IL_0156: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_015B: add
		IL_015C: stloc.1
		IL_015D: br =>      Label13
		IL_0162: Label7
		IL_0162: ldloc.1
		IL_0163: ldarg.0
		IL_0164: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0169: sub
		IL_016A: stloc.1
		IL_016B: br =>      Label14
		IL_0170: Label8
		IL_0170: ldloc.1
		IL_0171: ldc.r4     0
		IL_0176: sub
		IL_0177: stloc.1
		IL_0178: Label5
		IL_0178: Label6
		IL_0178: Label11
		IL_0178: Label12
		IL_0178: Label13
		IL_0178: Label14
		IL_0178: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_017F: brtrue =>  Label15
		IL_0184: leave =>   Label16
		IL_0189: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_018E: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_019B: endfinally
		IL_019C: leave =>   (autogenerated)
	} // end handler
	IL_019D: Label4
	IL_019D: Label16
	IL_019D: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_019F: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_01A4: brtrue =>  Label17
	IL_01A9: leave =>   Label18
	IL_01AE: leave =>   (autogenerated)
} // end try
.finally
{
	IL_01B3: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_01B5: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_01BB: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_01C0: endfinally
	IL_01C1: leave =>   (autogenerated)
} // end handler
IL_01C2: Label18
IL_01C2: ldarg.0
IL_01C3: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01C8: ldarg.0
IL_01C9: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01CE: ldarg.0
IL_01CF: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01D4: ldarg.0
IL_01D5: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01DA: ldarg.0
IL_01DB: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01E0: ldarg.0
IL_01E1: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01E6: ldloc.1
IL_01E7: ldc.i4.3
IL_01E8: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01ED: // end original
IL_01ED: Label0
IL_01ED: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_continue_courtship_stage_2_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_continue_courtship_stage_2_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix3(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_005C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0061: stloc.0
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0067: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0076: bne.un =>  Label2
IL_007B: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0080: stloc.0
IL_0081: Label2
IL_0081: ldarg.0
IL_0082: ldarg.0
IL_0083: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0088: ldloc.0
IL_0089: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage2(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_008E: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0093: ldarg.0
IL_0094: ldarg.0
IL_0095: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_009A: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_009F: conv.r4
IL_00A0: ldc.r4     1
IL_00A5: mul
IL_00A6: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00AB: ldc.r4     0
IL_00B0: stloc.1
IL_00B1: ldarg.0
IL_00B2: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B7: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00BC: stloc.2
.try
{
	IL_00BD: br =>      Label3
	IL_00C2: Label16
	IL_00C2: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00C4: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00C9: stloc.3
	IL_00CA: ldarg.0
	IL_00CB: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00D0: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00D5: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00D7: br =>      Label4
		IL_00DC: Label14
		IL_00DC: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_00DE: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_00E3: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E5: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E7: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_00EC: ldloc.3
		IL_00ED: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_00F2: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_00F7: brfalse => Label5
		IL_00FC: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00FE: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0103: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0105: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0107: switch =>  Labels6,7,8,9
		IL_011C: br =>      Label10
		IL_0121: Label8
		IL_0121: ldloc.1
		IL_0122: ldarg.0
		IL_0123: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_0128: add
		IL_0129: stloc.1
		IL_012A: br =>      Label11
		IL_012F: Label9
		IL_012F: ldloc.1
		IL_0130: ldarg.0
		IL_0131: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_0136: add
		IL_0137: stloc.1
		IL_0138: br =>      Label12
		IL_013D: Label6
		IL_013D: ldloc.1
		IL_013E: ldarg.0
		IL_013F: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0144: sub
		IL_0145: stloc.1
		IL_0146: br =>      Label13
		IL_014B: Label7
		IL_014B: ldloc.1
		IL_014C: ldc.r4     0
		IL_0151: sub
		IL_0152: stloc.1
		IL_0153: Label4
		IL_0153: Label5
		IL_0153: Label10
		IL_0153: Label11
		IL_0153: Label12
		IL_0153: Label13
		IL_0153: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0155: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_015A: brtrue =>  Label14
		IL_015F: leave =>   Label15
		IL_0164: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_0169: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_016B: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0171: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_0176: endfinally
		IL_0177: leave =>   (autogenerated)
	} // end handler
	IL_0178: Label3
	IL_0178: Label15
	IL_0178: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_017F: brtrue =>  Label16
	IL_0184: leave =>   Label17
	IL_0189: leave =>   (autogenerated)
} // end try
.finally
{
	IL_018E: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_019B: endfinally
	IL_019C: leave =>   (autogenerated)
} // end handler
IL_019D: Label17
IL_019D: ldarg.0
IL_019E: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01A3: ldarg.0
IL_01A4: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01A9: ldarg.0
IL_01AA: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01AF: ldarg.0
IL_01B0: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01B5: ldarg.0
IL_01B6: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01BB: ldarg.0
IL_01BC: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01C1: ldloc.1
IL_01C2: ldc.i4.3
IL_01C3: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01C8: // end original
IL_01C8: Label0
IL_01C8: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Hero::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Hero::TaleWorlds.CampaignSystem.Hero.AddSkillXp_Patch1(TaleWorlds.CampaignSystem.Hero this, TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
IL_0000: Local var 0: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      0 (System.Boolean)
IL_000E: ldloc      0 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarg.0
IL_0018: ldarg      1
IL_001C: ldarga     2
IL_0020: call       static System.Void KaosesTweaks.Patches.Patches::Prefix(TaleWorlds.CampaignSystem.Hero __instance, TaleWorlds.Core.SkillObject skill, System.Single& xpAmount)
IL_0025: Label1
IL_0025: nop
IL_0026: ldloc      0 (System.Boolean)
IL_002A: brfalse => Label0
IL_002F: // start original
IL_002F: ldarg.0
IL_0030: ldfld      TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper TaleWorlds.CampaignSystem.Hero::_heroDeveloper
IL_0035: dup
IL_0036: brtrue =>  Label2
IL_003B: pop
IL_003C: br =>      Label3
IL_0041: Label2
IL_0041: ldarg.1
IL_0042: ldarg.2
IL_0043: ldc.i4.1
IL_0044: ldc.i4.1
IL_0045: callvirt   abstract virtual System.Void TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single rawXp, System.Boolean isAffectedByFocusFactor, System.Boolean shouldNotify)
IL_004A: // end original
IL_004A: Label3
IL_004A: Label0
IL_004A: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
### Replacement: static System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM..ctor_Patch1(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM this, TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
IL_0000: Local var 0: TaleWorlds.Core.EquipmentElement
IL_0000: Local var 1: System.Nullable`1<TaleWorlds.Core.EquipmentIndex>
IL_0000: Local var 2: TaleWorlds.Core.EquipmentIndex
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldc.i4.s   -5
IL_0003: stfld      System.Int32 TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_profitType
IL_0008: ldarg.0
IL_0009: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::.ctor()
IL_000E: ldarga.s   5
IL_0010: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0015: stloc.0
IL_0016: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0018: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_001D: brtrue =>  Label0
IL_0022: br =>      Label16
IL_0027: Label0
IL_0027: ldarg.0
IL_0028: ldarg.s    7
IL_002A: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_fiveStackShortcutKeyText
IL_002F: ldarg.0
IL_0030: ldarg.s    8
IL_0032: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_entireStackShortcutKeyText
IL_0037: ldarg.0
IL_0038: ldarg.s    4
IL_003A: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryMode TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_usageType
IL_003F: ldarg.0
IL_0040: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0045: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_004A: dup
IL_004B: brtrue =>  Label1
IL_0050: pop
IL_0051: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0056: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_0(TaleWorlds.CampaignSystem.Concept c)
IL_005C: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0061: dup
IL_0062: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_0067: Label1
IL_0067: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_006C: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_tradeGoodConceptObj
IL_0071: ldarg.0
IL_0072: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0077: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_007C: dup
IL_007D: brtrue =>  Label2
IL_0082: pop
IL_0083: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0088: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_1(TaleWorlds.CampaignSystem.Concept c)
IL_008E: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0093: dup
IL_0094: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_0099: Label2
IL_0099: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_009E: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_itemConceptObj
IL_00A3: ldarg.0
IL_00A4: ldarg.1
IL_00A5: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_00AA: ldarg.0
IL_00AB: ldarga.s   5
IL_00AD: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00B2: ldarga.s   5
IL_00B4: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00B9: newobj     System.Void TaleWorlds.Core.ItemRosterElement::.ctor(TaleWorlds.Core.EquipmentElement equipmentElement, System.Int32 amount)
IL_00BE: stfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_00C3: ldarg.0
IL_00C4: ldarg.s    9
IL_00C6: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemCost(System.Int32 value)
IL_00CB: ldarg.0
IL_00CC: ldarga.s   5
IL_00CE: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00D3: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemCount(System.Int32 value)
IL_00D8: ldarg.0
IL_00D9: ldc.i4.1
IL_00DA: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TransactionCount(System.Int32 value)
IL_00DF: ldarg.0
IL_00E0: ldarga.s   5
IL_00E2: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00E7: stloc.0
IL_00E8: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_00EA: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_00EF: callvirt   System.Int32 TaleWorlds.Core.ItemObject::get_Difficulty()
IL_00F4: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemLevel(System.Int32 value)
IL_00F9: ldarg.0
IL_00FA: ldarg.s    6
IL_00FC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_InventorySide(TaleWorlds.CampaignSystem.Inventory.InventorySide value)
IL_0101: ldarga.s   10
IL_0103: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0108: brfalse => Label3
IL_010D: ldarg.s    10
IL_010F: stloc.1
IL_0110: ldc.i4.m1
IL_0111: stloc.2
IL_0112: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_0114: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::GetValueOrDefault()
IL_0119: ldloc.2
IL_011A: ceq
IL_011C: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_011E: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0123: and
IL_0124: brtrue =>  Label4
IL_0129: ldarg.0
IL_012A: ldarga.s   10
IL_012C: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_Value()
IL_0131: stfld      TaleWorlds.Core.EquipmentIndex TaleWorlds.Core.ViewModelCollection.ItemVM::_itemType
IL_0136: Label3
IL_0136: Label4
IL_0136: ldarg.0
IL_0137: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::SetItemTypeId()
IL_013C: ldarg.0
IL_013D: ldarga.s   5
IL_013F: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0144: stloc.0
IL_0145: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0147: call       TaleWorlds.Localization.TextObject TaleWorlds.Core.EquipmentElement::GetModifiedItemName()
IL_014C: callvirt   virtual System.String System.Object::ToString()
IL_0151: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemDescription(System.String value)
IL_0156: ldarg.0
IL_0157: ldarga.s   5
IL_0159: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_015E: call       static System.String TaleWorlds.CampaignSystem.ViewModelCollection.CampaignUIHelper::GetItemLockStringID(TaleWorlds.Core.EquipmentElement equipmentElement)
IL_0163: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_StringId(System.String value)
IL_0168: ldarg.0
IL_0169: ldarga.s   5
IL_016B: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0170: stloc.0
IL_0171: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0173: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0178: call       static TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Clan::get_PlayerClan()
IL_017D: dup
IL_017E: brtrue =>  Label5
IL_0183: pop
IL_0184: ldnull
IL_0185: br =>      Label6
IL_018A: Label5
IL_018A: call       virtual TaleWorlds.Core.Banner TaleWorlds.CampaignSystem.Clan::get_Banner()
IL_018F: callvirt   System.String TaleWorlds.Core.Banner::Serialize()
IL_0194: Label6
IL_0194: newobj     System.Void TaleWorlds.Core.ImageIdentifierVM::.ctor(TaleWorlds.Core.ItemObject itemObject, System.String bannerCode)
IL_0199: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ImageIdentifier(TaleWorlds.Core.ImageIdentifierVM value)
IL_019E: ldarg.0
IL_019F: ldarga.s   5
IL_01A1: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01A6: stloc.0
IL_01A7: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01A9: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01AE: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01B3: ldc.i4     4194304
IL_01B8: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01BD: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsCivilianItem(System.Boolean value)
IL_01C2: ldarg.0
IL_01C3: ldarg.2
IL_01C4: brfalse => Label7
IL_01C9: ldarg.0
IL_01CA: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01CF: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01D4: stloc.0
IL_01D5: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01D7: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01DC: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01E1: ldc.i4     1024
IL_01E6: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01EB: brtrue =>  Label8
IL_01F0: Label7
IL_01F0: ldarg.2
IL_01F1: brtrue =>  Label9
IL_01F6: ldarg.0
IL_01F7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01FC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0201: stloc.0
IL_0202: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0204: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0209: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_020E: ldc.i4     2048
IL_0213: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_0218: br =>      Label10
IL_021D: Label9
IL_021D: ldc.i4.0
IL_021E: br =>      Label11
IL_0223: Label8
IL_0223: ldc.i4.1
IL_0224: Label10
IL_0224: Label11
IL_0224: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsGenderDifferent(System.Boolean value)
IL_0229: ldarg.0
IL_022A: ldarg.3
IL_022B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanCharacterUseItem(System.Boolean value)
IL_0230: ldarg.0
IL_0231: ldarga.s   5
IL_0233: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0238: stloc.0
IL_0239: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_023B: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0240: callvirt   System.Boolean TaleWorlds.Core.ItemObject::get_IsUniqueItem()
IL_0245: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsArtifact(System.Boolean value)
IL_024A: ldarg.0
IL_024B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateCanBeSlaughtered()
IL_0250: ldarg.0
IL_0251: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateHintTexts()
IL_0256: ldarg.0
IL_0257: ldarg.0
IL_0258: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_025D: dup
IL_025E: brtrue =>  Label12
IL_0263: pop
IL_0264: ldc.i4.0
IL_0265: br =>      Label13
IL_026A: Label12
IL_026A: ldarg.0
IL_026B: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_0270: ldarg.0
IL_0271: call       TaleWorlds.CampaignSystem.Inventory.InventorySide TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_InventorySide()
IL_0276: call       System.Boolean TaleWorlds.CampaignSystem.Inventory.InventoryLogic::CanDonateItem(TaleWorlds.Core.ItemRosterElement element, TaleWorlds.CampaignSystem.Inventory.InventorySide sideOfItem)
IL_027B: Label13
IL_027B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanBeDonated(System.Boolean value)
IL_0280: ldarg.0
IL_0281: ldarg.0
IL_0282: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_0287: ldarg.0
IL_0288: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_028D: ldarg.s    6
IL_028F: ldarg.0
IL_0290: ldftn      System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::OnTradeApplyTransaction(System.Int32 amount, System.Boolean isBuying)
IL_0296: newobj     System.Void System.Action`2<System.Int32, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_029B: newobj     System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, TaleWorlds.Core.ItemRosterElement itemRoster, TaleWorlds.CampaignSystem.Inventory.InventorySide side, System.Action`2<System.Int32, System.Boolean> onApplyTransaction)
IL_02A0: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TradeData(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM value)
IL_02A5: ldarg.0
IL_02A6: ldarg.0
IL_02A7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_02AC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02B1: stloc.0
IL_02B2: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02B4: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_02B9: ldc.i4.0
IL_02BA: ceq
IL_02BC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsTransferable(System.Boolean value)
IL_02C1: ldarg.0
IL_02C2: call       TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_TradeData()
IL_02C7: ldarg.0
IL_02C8: call       System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_IsTransferable()
IL_02CD: callvirt   System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::set_IsTradeable(System.Boolean value)
IL_02D2: ldarg.0
IL_02D3: ldarga.s   5
IL_02D5: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02DA: stloc.0
IL_02DB: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02DD: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_02E2: call       static TaleWorlds.CampaignSystem.Inventory.InventoryItemType TaleWorlds.CampaignSystem.Inventory.InventoryManager::GetInventoryItemTypeOfItem(TaleWorlds.Core.ItemObject item)
IL_02E7: ldc.i4     2303
IL_02EC: or
IL_02ED: ldc.i4     2303
IL_02F2: bne.un =>  Label14
IL_02F7: ldarga.s   5
IL_02F9: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02FE: stloc.0
IL_02FF: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0301: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_0306: ldc.i4.0
IL_0307: ceq
IL_0309: br =>      Label15
IL_030E: Label14
IL_030E: ldc.i4.0
IL_030F: Label15
IL_030F: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsEquipableItem(System.Boolean value)
IL_0314: ldarg.0
IL_0315: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateIsNew()
IL_031A: ldarg.0
IL_031B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateProfitType()
IL_0320: // end original
IL_0320: Label16
IL_0320: ldarg.0
IL_0321: call       static System.Void KaosesTweaks.Patches.SPItemVMPatch::Postfix(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM __instance)
IL_0326: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch3(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ldarg.0
IL_000D: call       static System.Void Bannerlord.Harmony.SubModule::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0012: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch2(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ret
DONE

### Harmony id=KaosesTweaks.harmony, version=2.2.2.0, location=C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.Harmony\bin\Win64_Shipping_Client\0Harmony.dll, env/clr=4.0.30319.42000, platform=Win32NT, ptrsize:runtime/env=8/Bits64, Windows
### Started from virtual System.Void KaosesTweaks.SubModule::OnBeforeInitialModuleScreenSetAsRoot(), location C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\KaosesTweaks\bin\Win64_Shipping_Client\KaosesTweaks.dll
### At 2022-07-23 04.01.27
### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::GetUnitValueForFaction(TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable.GetUnitValueForFaction_Patch1(TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable this, TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Int32
IL_0000: ldc.i4     0
IL_0005: stloc      3 (System.Int32)
IL_0009: // start original
IL_0009: ldc.r4     -1000000
IL_000E: stloc.0
IL_000F: ldarg.1
IL_0010: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0015: brtrue =>  Label0
IL_001A: ldarg.1
IL_001B: castclass  TaleWorlds.CampaignSystem.Clan
IL_0020: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_0025: pop
IL_0026: Label0
IL_0026: ldarg.0
IL_0027: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_002C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0031: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0036: pop
IL_0037: ldarg.0
IL_0038: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_003D: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::get_IsKingdomFaction()
IL_0042: brfalse => Label1
IL_0047: ldarg.1
IL_0048: ldarg.0
IL_0049: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_004E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0053: bne.un =>  Label2
IL_0058: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_005D: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0062: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0067: ldarg.0
IL_0068: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_006D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0072: ldarg.0
IL_0073: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0078: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfClanToJoinKingdom(TaleWorlds.CampaignSystem.Clan clan, TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_007D: stloc.0
IL_007E: ldarg.0
IL_007F: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0084: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0089: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_008E: brfalse => Label3
IL_0093: ldarg.0
IL_0094: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0099: ldarg.0
IL_009A: call       TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalParty()
IL_009F: newobj     System.Void TaleWorlds.CampaignSystem.BarterSystem.Barterables.LeaveKingdomAsClanBarterable::.ctor(TaleWorlds.CampaignSystem.Hero owner, TaleWorlds.CampaignSystem.Party.PartyBase ownerParty)
IL_00A4: ldarg.1
IL_00A5: call       System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::GetValueForFaction(TaleWorlds.CampaignSystem.IFaction faction)
IL_00AA: stloc.1
IL_00AB: ldc.r4     0
IL_00B0: stloc.2
IL_00B1: ldarg.0
IL_00B2: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00B7: ldarg.0
IL_00B8: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00BD: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00C2: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00C7: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::IsAtWarWith(TaleWorlds.CampaignSystem.IFaction other)
IL_00CC: brtrue =>  Label4
IL_00D1: ldarg.0
IL_00D2: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00D7: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00DC: ldarg.0
IL_00DD: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00E2: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00E7: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00EC: callvirt   System.Single TaleWorlds.CampaignSystem.Clan::CalculateTotalSettlementValueForFaction(TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_00F1: stloc.2
IL_00F2: ldloc.0
IL_00F3: ldloc.2
IL_00F4: ldarg.0
IL_00F5: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00FA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Kingdom::get_Leader()
IL_00FF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0104: beq =>     Label5
IL_0109: ldc.r4     1
IL_010E: br =>      Label6
IL_0113: Label5
IL_0113: ldc.r4     0.5
IL_0118: Label6
IL_0118: mul
IL_0119: sub
IL_011A: stloc.0
IL_011B: Label4
IL_011B: ldloc.0
IL_011C: ldloc.1
IL_011D: conv.r4
IL_011E: add
IL_011F: stloc.0
IL_0120: br =>      Label7
IL_0125: Label2
IL_0125: ldarg.1
IL_0126: callvirt   abstract virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.IFaction::get_MapFaction()
IL_012B: ldarg.0
IL_012C: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0131: bne.un =>  Label8
IL_0136: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_013B: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0140: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0145: ldarg.0
IL_0146: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_014B: ldarg.0
IL_014C: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0151: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0156: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfKingdomToGetClan(TaleWorlds.CampaignSystem.Kingdom kingdom, TaleWorlds.CampaignSystem.Clan clan)
IL_015B: stloc.0
IL_015C: Label1
IL_015C: Label3
IL_015C: Label7
IL_015C: Label8
IL_015C: ldloc.0
IL_015D: conv.i4
IL_015E: // end original
IL_015E: stloc      3 (System.Int32)
IL_0162: ldloca     3 (System.Int32)
IL_0166: ldarg      1
IL_016A: ldarg.0
IL_016B: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0170: call       static System.Void KaosesTweaks.Patches.BTBarterablePatches::Postfix(System.Int32& __result, TaleWorlds.CampaignSystem.IFaction factionForEvaluation, TaleWorlds.CampaignSystem.Kingdom ___TargetKingdom)
IL_0175: ldloc      3 (System.Int32)
IL_0179: ret
DONE

### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::GetPlayerMaximumTroopCountForHideoutMission(TaleWorlds.CampaignSystem.Party.MobileParty party)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel.GetPlayerMaximumTroopCountForHideoutMission_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel this, TaleWorlds.CampaignSystem.Party.MobileParty party)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      1 (System.Int32)
IL_0009: ldc.i4     0
IL_000E: stloc      2 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      2 (System.Boolean)
IL_0017: ldloc      2 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     1 (System.Int32)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.BTTroopCountForHidoutMission::Prefix(System.Int32& __result)
IL_0029: stloc      2 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      2 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: ldc.r4     10
IL_003C: stloc.0
IL_003D: ldarg.1
IL_003E: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0043: ldc.i4.0
IL_0044: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::HasPerk(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk, System.Boolean checkSecondaryRole)
IL_0049: brfalse => Label2
IL_004E: ldloc.0
IL_004F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0054: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0059: add
IL_005A: stloc.0
IL_005B: Label2
IL_005B: ldloc.0
IL_005C: call       static System.Int32 TaleWorlds.Library.MathF::Round(System.Single f)
IL_0061: // end original
IL_0061: stloc      1 (System.Int32)
IL_0065: Label0
IL_0065: ldloc      1 (System.Int32)
IL_0069: ret
DONE

### Patch: TaleWorlds.CampaignSystem.ExplainedNumber TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::CalculateMobilePartyMemberSizeLimit(TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
### Note: A buffer for the returned struct is used. That requires an extra IntPtr argument before the first real argument
### Replacement: static System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel.CalculateMobilePartyMemberSizeLimit_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel this, System.IntPtr retbuf, TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: Local var 1: System.Nullable`1<System.Boolean>
IL_0000: Local var 2: System.Boolean
IL_0000: Local var 3: System.Nullable`1<System.Boolean>
IL_0000: Local var 4: System.Int32
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>
IL_0000: Local var 7: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0004: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_000A: // start original
IL_000A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_000C: ldc.r4     20
IL_0011: ldarg.3
IL_0012: ldarg.0
IL_0013: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_baseSizeText
IL_0018: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::.ctor(System.Single baseNumber, System.Boolean includeDescriptions, TaleWorlds.Localization.TextObject baseText)
IL_001D: ldarg.2
IL_001E: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0023: brfalse => Label0
IL_0028: ldarg.2
IL_0029: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_002E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0033: brfalse => Label1
IL_0038: ldarg.2
IL_0039: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_003E: brtrue =>  Label2
IL_0043: ldarg.2
IL_0044: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0049: brfalse => Label3
IL_004E: ldarg.2
IL_004F: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0054: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0059: brfalse => Label4
IL_005E: ldarg.2
IL_005F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0064: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0069: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_006E: ldarg.2
IL_006F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0074: bne.un =>  Label5
IL_0079: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_007B: ldc.r4     20
IL_0080: ldarg.0
IL_0081: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_factionLeaderText
IL_0086: ldnull
IL_0087: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_008C: Label3
IL_008C: Label4
IL_008C: Label5
IL_008C: ldarg.2
IL_008D: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0092: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_0097: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_009C: brfalse => Label6
IL_00A1: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00A3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00A8: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00AD: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00B2: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00B7: ldnull
IL_00B8: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00BD: Label6
IL_00BD: ldarg.2
IL_00BE: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00C3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00C8: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00CD: brfalse => Label7
IL_00D2: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00D4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00D9: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00DE: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00E3: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00E8: ldnull
IL_00E9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00EE: Label7
IL_00EE: ldarg.2
IL_00EF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_00F9: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00FE: brfalse => Label8
IL_0103: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0105: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_010A: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_010F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_0114: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0119: ldnull
IL_011A: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_011F: Label8
IL_011F: ldarg.2
IL_0120: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0125: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_012A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_012F: brfalse => Label9
IL_0134: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0136: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_013B: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0140: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_0145: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_014A: ldnull
IL_014B: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0150: Label9
IL_0150: ldarg.2
IL_0151: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0156: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_015B: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0160: brfalse => Label10
IL_0165: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0167: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_016C: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0171: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_0176: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_017B: ldnull
IL_017C: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0181: Label10
IL_0181: ldarg.2
IL_0182: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0187: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_018C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0191: brfalse => Label11
IL_0196: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0198: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_019D: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01A2: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_01A7: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01AC: ldnull
IL_01AD: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01B2: Label11
IL_01B2: ldarg.2
IL_01B3: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_01B8: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01BD: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_01C2: brfalse => Label12
IL_01C7: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_01C9: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01CE: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01D3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01D8: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01DD: ldnull
IL_01DE: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01E3: Label12
IL_01E3: ldarg.2
IL_01E4: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_01E9: dup
IL_01EA: brtrue =>  Label13
IL_01EF: pop
IL_01F0: ldc.i4.0
IL_01F1: br =>      Label14
IL_01F6: Label13
IL_01F6: call       virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_01FB: dup
IL_01FC: brtrue =>  Label15
IL_0201: pop
IL_0202: ldloca.s   3 (System.Nullable`1[System.Boolean])
IL_0204: initobj    System.Nullable`1[System.Boolean]
IL_020A: ldloc.3
IL_020B: br =>      Label16
IL_0210: Label15
IL_0210: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0215: call       System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_021A: newobj     System.Void System.Nullable`1<System.Boolean>::.ctor(System.Boolean value)
IL_021F: Label16
IL_021F: stloc.1
IL_0220: ldc.i4.1
IL_0221: stloc.2
IL_0222: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_0224: call       System.Boolean System.Nullable`1<System.Boolean>::GetValueOrDefault()
IL_0229: ldloc.2
IL_022A: ceq
IL_022C: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_022E: call       System.Boolean System.Nullable`1<System.Boolean>::get_HasValue()
IL_0233: and
IL_0234: Label14
IL_0234: brfalse => Label17
IL_0239: ldc.i4.0
IL_023A: stloc.s    4 (System.Int32)
IL_023C: ldarg.2
IL_023D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_0242: callvirt   virtual TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.CampaignSystem.Clan::get_Settlements()
IL_0247: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement>::GetEnumerator()
IL_024C: stloc.s    6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
.try
{
	IL_024E: br =>      Label18
	IL_0253: Label20
	IL_0253: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0255: call       virtual TaleWorlds.CampaignSystem.Settlements.Settlement System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::get_Current()
	IL_025A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Settlements.Settlement::get_IsTown()
	IL_025F: brfalse => Label19
	IL_0264: ldloc.s    4 (System.Int32)
	IL_0266: ldc.i4.1
	IL_0267: add
	IL_0268: stloc.s    4 (System.Int32)
	IL_026A: Label18
	IL_026A: Label19
	IL_026A: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_026C: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::MoveNext()
	IL_0271: brtrue =>  Label20
	IL_0276: leave =>   Label21
	IL_027B: leave =>   (autogenerated)
} // end try
.finally
{
	IL_0280: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0282: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement]
	IL_0288: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_028D: endfinally
	IL_028E: leave =>   (autogenerated)
} // end handler
IL_028F: Label21
IL_028F: ldloc.s    4 (System.Int32)
IL_0291: conv.r4
IL_0292: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0297: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_029C: mul
IL_029D: stloc.s    5 (System.Single)
IL_029F: ldloc.s    5 (System.Single)
IL_02A1: ldc.r4     0
IL_02A6: ble.un =>  Label22
IL_02AB: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_02AD: ldloc.s    5 (System.Single)
IL_02AF: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_02B4: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_02B9: ldnull
IL_02BA: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_02BF: Label17
IL_02BF: Label22
IL_02BF: ldarg.2
IL_02C0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02C5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02CA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_02CF: ldarg.2
IL_02D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02D5: bne.un =>  Label23
IL_02DA: ldarg.2
IL_02DB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02E0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02E5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_02EA: ldc.i4.5
IL_02EB: blt =>     Label24
IL_02F0: ldarg.2
IL_02F1: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_02F6: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_02FB: brfalse => Label25
IL_0300: ldarg.2
IL_0301: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0306: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_030B: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_0310: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_0315: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_031A: brfalse => Label26
IL_031F: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0321: ldc.r4     40
IL_0326: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_032B: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0330: ldnull
IL_0331: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0336: Label24
IL_0336: Label25
IL_0336: Label26
IL_0336: ldarg.2
IL_0337: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_033C: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0341: brfalse => Label27
IL_0346: ldarg.2
IL_0347: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_034C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0351: ldarg.2
IL_0352: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0357: bne.un =>  Label28
IL_035C: ldarg.2
IL_035D: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0362: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_0367: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_036C: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0371: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_0376: brfalse => Label29
IL_037B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_037D: ldc.r4     60
IL_0382: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0387: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_038C: ldnull
IL_038D: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0392: Label27
IL_0392: Label28
IL_0392: Label29
IL_0392: ldarg.2
IL_0393: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0398: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_039D: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03A2: ldc.i4.0
IL_03A3: ble =>     Label30
IL_03A8: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03AA: ldarg.2
IL_03AB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03B0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03B5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03BA: ldc.i4.s   25
IL_03BC: mul
IL_03BD: conv.r4
IL_03BE: ldarg.0
IL_03BF: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_03C4: ldnull
IL_03C5: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_03CA: br =>      Label31
IL_03CF: Label23
IL_03CF: ldarg.2
IL_03D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03D5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03DA: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03DF: ldc.i4.0
IL_03E0: ble =>     Label32
IL_03E5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03E7: ldarg.2
IL_03E8: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03ED: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03F2: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03F7: ldc.i4.s   15
IL_03F9: mul
IL_03FA: conv.r4
IL_03FB: ldarg.0
IL_03FC: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_0401: ldnull
IL_0402: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0407: Label30
IL_0407: Label31
IL_0407: Label32
IL_0407: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0409: ldarg.2
IL_040A: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_EffectiveQuartermaster()
IL_040F: call       static TaleWorlds.Core.SkillObject TaleWorlds.Core.DefaultSkills::get_Steward()
IL_0414: callvirt   System.Int32 TaleWorlds.CampaignSystem.Hero::GetSkillValue(TaleWorlds.Core.SkillObject skill)
IL_0419: ldc.i4.4
IL_041A: div
IL_041B: conv.r4
IL_041C: ldarg.0
IL_041D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_quarterMasterText
IL_0422: ldnull
IL_0423: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0428: ldarg.0
IL_0429: ldarg.2
IL_042A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_042C: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddMobilePartyLeaderPartySizePerkEffects(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_0431: ldarg.0
IL_0432: ldarg.2
IL_0433: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0435: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddUltimateLeaderPerkEffectForPartySize(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_043A: ldsfld     System.Boolean TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_addAdditionalPartySizeAsCheat
IL_043F: brfalse => Label33
IL_0444: ldarg.2
IL_0445: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsMainParty()
IL_044A: brfalse => Label34
IL_044F: call       static TaleWorlds.Core.Game TaleWorlds.Core.Game::get_Current()
IL_0454: callvirt   System.Boolean TaleWorlds.Core.Game::get_CheatMode()
IL_0459: brfalse => Label35
IL_045E: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0460: ldc.r4     5000
IL_0465: ldstr      "{=!}Additional size from extra party cheat"
IL_046A: ldnull
IL_046B: newobj     System.Void TaleWorlds.Localization.TextObject::.ctor(System.String value, System.Collections.Generic.Dictionary`2<System.String, System.Object> attributes)
IL_0470: ldnull
IL_0471: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0476: br =>      Label36
IL_047B: Label0
IL_047B: Label1
IL_047B: Label2
IL_047B: ldarg.2
IL_047C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_0481: brfalse => Label37
IL_0486: ldarg.2
IL_0487: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_048C: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_0491: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0496: bne.un =>  Label38
IL_049B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_049D: ldc.r4     10
IL_04A2: ldarg.0
IL_04A3: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_04A8: ldnull
IL_04A9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_04AE: br =>      Label39
IL_04B3: Label38
IL_04B3: ldarg.2
IL_04B4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04B9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04BE: dup
IL_04BF: brtrue =>  Label40
IL_04C4: pop
IL_04C5: ldc.i4.0
IL_04C6: br =>      Label41
IL_04CB: Label40
IL_04CB: call       System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsNotable()
IL_04D0: Label41
IL_04D0: brfalse => Label42
IL_04D5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_04D7: ldc.i4.s   10
IL_04D9: ldarg.2
IL_04DA: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04DF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04E4: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_04E9: ldc.r4     100
IL_04EE: blt =>     Label43
IL_04F3: ldarg.2
IL_04F4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04F9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04FE: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_0503: ldc.r4     200
IL_0508: blt =>     Label44
IL_050D: ldc.i4.3
IL_050E: br =>      Label45
IL_0513: Label44
IL_0513: ldc.i4.2
IL_0514: br =>      Label46
IL_0519: Label43
IL_0519: ldc.i4.1
IL_051A: Label45
IL_051A: Label46
IL_051A: mul
IL_051B: conv.r4
IL_051C: ldarg.0
IL_051D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0522: ldnull
IL_0523: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0528: br =>      Label47
IL_052D: Label37
IL_052D: ldarg.2
IL_052E: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_0533: brfalse => Label48
IL_0538: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_053A: ldc.r4     40
IL_053F: ldarg.0
IL_0540: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0545: ldnull
IL_0546: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_054B: Label33
IL_054B: Label34
IL_054B: Label35
IL_054B: Label36
IL_054B: Label39
IL_054B: Label42
IL_054B: Label47
IL_054B: Label48
IL_054B: ldloc.0
IL_054C: // end original
IL_054C: stloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0550: ldarg      2
IL_0554: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0558: call       static System.Void KaosesTweaks.Patches.DefaultPartySizeLimitModelPatch::Postfix(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& __result)
IL_055D: ldloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0561: ldloca     8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0565: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_056B: stloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_056F: ldarg.1
IL_0570: ldloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0574: stobj      TaleWorlds.CampaignSystem.ExplainedNumber
IL_0579: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Party.MobileParty::FillPartyStacks(TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Party.MobileParty::TaleWorlds.CampaignSystem.Party.MobileParty.FillPartyStacks_Patch1(TaleWorlds.CampaignSystem.Party.MobileParty this, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Single
IL_0000: Local var 4: System.Single
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Single
IL_0000: Local var 7: System.Single
IL_0000: Local var 8: System.Single
IL_0000: Local var 9: System.Single
IL_0000: Local var 10: System.Single
IL_0000: Local var 11: System.Int32
IL_0000: Local var 12: System.Int32
IL_0000: Local var 13: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 14: System.Int32
IL_0000: Local var 15: System.Int32
IL_0000: Local var 16: System.Single
IL_0000: Local var 17: System.Single
IL_0000: Local var 18: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 19: System.Int32
IL_0000: Local var 20: System.Int32
IL_0000: Local var 21: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      21 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      21 (System.Boolean)
IL_000E: ldloc      21 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg      1
IL_001F: ldarg      2
IL_0023: call       static System.Boolean KaosesTweaks.Patches.TitanFillPartyStacksPatch::Prefix(TaleWorlds.CampaignSystem.Party.MobileParty& __instance, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0028: stloc      21 (System.Boolean)
IL_002C: Label1
IL_002C: nop
IL_002D: ldloc      21 (System.Boolean)
IL_0031: brfalse => Label0
IL_0036: // start original
IL_0036: ldarg.0
IL_0037: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsBandit()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0046: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_004B: stloc.0
IL_004C: ldc.r4     0.4
IL_0051: ldc.r4     0.8
IL_0056: ldloc.0
IL_0057: mul
IL_0058: add
IL_0059: stloc.1
IL_005A: ldc.i4.2
IL_005B: call       static System.Int32 TaleWorlds.Core.MBRandom::RandomInt(System.Int32 maxValue)
IL_0060: dup
IL_0061: brfalse => Label3
IL_0066: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_006B: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0070: mul
IL_0071: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0076: mul
IL_0077: ldc.r4     4
IL_007C: mul
IL_007D: br =>      Label4
IL_0082: Label3
IL_0082: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0087: Label4
IL_0087: stloc.2
IL_0088: brfalse => Label5
IL_008D: ldc.r4     1
IL_0092: ldloc.2
IL_0093: add
IL_0094: br =>      Label6
IL_0099: Label5
IL_0099: ldloc.2
IL_009A: ldc.r4     0.8
IL_009F: mul
IL_00A0: ldc.r4     0.2
IL_00A5: add
IL_00A6: Label6
IL_00A6: stloc.3
IL_00A7: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00AC: stloc.s    4 (System.Single)
IL_00AE: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00B3: stloc.s    5 (System.Single)
IL_00B5: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00BA: stloc.s    6 (System.Single)
IL_00BC: ldarg.1
IL_00BD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00C2: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_00C7: ldc.i4.0
IL_00C8: bgt =>     Label7
IL_00CD: ldc.r4     0
IL_00D2: br =>      Label8
IL_00D7: Label7
IL_00D7: ldarg.1
IL_00D8: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00DD: ldc.i4.0
IL_00DE: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00E3: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_00E8: conv.r4
IL_00E9: ldloc.1
IL_00EA: ldloc.3
IL_00EB: mul
IL_00EC: ldloc.s    4 (System.Single)
IL_00EE: mul
IL_00EF: ldarg.1
IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00F5: ldc.i4.0
IL_00F6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00FB: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0100: ldarg.1
IL_0101: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0106: ldc.i4.0
IL_0107: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_010C: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0111: sub
IL_0112: conv.r4
IL_0113: mul
IL_0114: add
IL_0115: Label8
IL_0115: stloc.s    7 (System.Single)
IL_0117: ldarg.1
IL_0118: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_011D: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0122: ldc.i4.1
IL_0123: bgt =>     Label9
IL_0128: ldc.r4     0
IL_012D: br =>      Label10
IL_0132: Label9
IL_0132: ldarg.1
IL_0133: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0138: ldc.i4.1
IL_0139: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_013E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0143: conv.r4
IL_0144: ldloc.1
IL_0145: ldloc.3
IL_0146: mul
IL_0147: ldloc.s    5 (System.Single)
IL_0149: mul
IL_014A: ldarg.1
IL_014B: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0150: ldc.i4.1
IL_0151: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0156: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_015B: ldarg.1
IL_015C: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0161: ldc.i4.1
IL_0162: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0167: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_016C: sub
IL_016D: conv.r4
IL_016E: mul
IL_016F: add
IL_0170: Label10
IL_0170: stloc.s    8 (System.Single)
IL_0172: ldarg.1
IL_0173: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0178: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_017D: ldc.i4.2
IL_017E: bgt =>     Label11
IL_0183: ldc.r4     0
IL_0188: br =>      Label12
IL_018D: Label11
IL_018D: ldarg.1
IL_018E: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0193: ldc.i4.2
IL_0194: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0199: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_019E: conv.r4
IL_019F: ldloc.1
IL_01A0: ldloc.3
IL_01A1: mul
IL_01A2: ldloc.s    6 (System.Single)
IL_01A4: mul
IL_01A5: ldarg.1
IL_01A6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01AB: ldc.i4.2
IL_01AC: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01B1: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_01B6: ldarg.1
IL_01B7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01BC: ldc.i4.2
IL_01BD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01C2: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_01C7: sub
IL_01C8: conv.r4
IL_01C9: mul
IL_01CA: add
IL_01CB: Label12
IL_01CB: stloc.s    9 (System.Single)
IL_01CD: ldarg.0
IL_01CE: ldarg.1
IL_01CF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01D4: ldc.i4.0
IL_01D5: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01DA: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_01DF: ldloc.s    7 (System.Single)
IL_01E1: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_01E6: ldc.i4.0
IL_01E7: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_01EC: pop
IL_01ED: ldarg.1
IL_01EE: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01F3: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_01F8: ldc.i4.1
IL_01F9: ble =>     Label13
IL_01FE: ldarg.0
IL_01FF: ldarg.1
IL_0200: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0205: ldc.i4.1
IL_0206: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_020B: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0210: ldloc.s    8 (System.Single)
IL_0212: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0217: ldc.i4.0
IL_0218: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_021D: pop
IL_021E: Label13
IL_021E: ldarg.1
IL_021F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0224: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0229: ldc.i4.2
IL_022A: ble =>     Label14
IL_022F: ldarg.0
IL_0230: ldarg.1
IL_0231: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0236: ldc.i4.2
IL_0237: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_023C: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0241: ldloc.s    9 (System.Single)
IL_0243: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0248: ldc.i4.0
IL_0249: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_024E: pop
IL_024F: br =>      Label39
IL_0254: Label2
IL_0254: ldarg.2
IL_0255: ldc.i4.0
IL_0256: bge =>     Label15
IL_025B: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0260: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_0265: stloc.s    10 (System.Single)
IL_0267: ldc.i4.0
IL_0268: stloc.s    11 (System.Int32)
IL_026A: br =>      Label16
IL_026F: Label17
IL_026F: ldloc.s    10 (System.Single)
IL_0271: ldarg.1
IL_0272: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0277: ldloc.s    11 (System.Int32)
IL_0279: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_027E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0283: ldarg.1
IL_0284: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0289: ldloc.s    11 (System.Int32)
IL_028B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0290: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0295: sub
IL_0296: conv.r4
IL_0297: mul
IL_0298: conv.i4
IL_0299: ldarg.1
IL_029A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_029F: ldloc.s    11 (System.Int32)
IL_02A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02A6: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_02AB: add
IL_02AC: stloc.s    12 (System.Int32)
IL_02AE: ldarg.1
IL_02AF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02B4: ldloc.s    11 (System.Int32)
IL_02B6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02BB: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_02C0: stloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C2: ldarg.0
IL_02C3: ldloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C5: ldloc.s    12 (System.Int32)
IL_02C7: ldc.i4.0
IL_02C8: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_02CD: pop
IL_02CE: ldloc.s    11 (System.Int32)
IL_02D0: ldc.i4.1
IL_02D1: add
IL_02D2: stloc.s    11 (System.Int32)
IL_02D4: Label16
IL_02D4: ldloc.s    11 (System.Int32)
IL_02D6: ldarg.1
IL_02D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02DC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_02E1: blt =>     Label17
IL_02E6: br =>      Label40
IL_02EB: Label15
IL_02EB: ldc.i4.0
IL_02EC: stloc.s    14 (System.Int32)
IL_02EE: br =>      Label18
IL_02F3: Label38
IL_02F3: ldc.i4.m1
IL_02F4: stloc.s    15 (System.Int32)
IL_02F6: ldc.r4     0
IL_02FB: stloc.s    16 (System.Single)
IL_02FD: ldc.i4.0
IL_02FE: stloc.s    19 (System.Int32)
IL_0300: br =>      Label19
IL_0305: Label26
IL_0305: ldloc.s    16 (System.Single)
IL_0307: ldarg.0
IL_0308: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_030D: brfalse => Label20
IL_0312: ldarg.1
IL_0313: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0318: ldloc.s    19 (System.Int32)
IL_031A: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_031F: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0324: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_0329: brtrue =>  Label21
IL_032E: Label20
IL_032E: ldarg.0
IL_032F: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_0334: brfalse => Label22
IL_0339: ldarg.1
IL_033A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_033F: ldloc.s    19 (System.Int32)
IL_0341: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0346: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_034B: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0350: brfalse => Label23
IL_0355: Label22
IL_0355: ldc.r4     1
IL_035A: br =>      Label24
IL_035F: Label23
IL_035F: ldc.r4     2
IL_0364: br =>      Label25
IL_0369: Label21
IL_0369: ldc.r4     6
IL_036E: Label24
IL_036E: Label25
IL_036E: ldarg.1
IL_036F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0374: ldloc.s    19 (System.Int32)
IL_0376: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_037B: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0380: ldarg.1
IL_0381: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0386: ldloc.s    19 (System.Int32)
IL_0388: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_038D: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0392: add
IL_0393: conv.r4
IL_0394: ldc.r4     2
IL_0399: div
IL_039A: mul
IL_039B: add
IL_039C: stloc.s    16 (System.Single)
IL_039E: ldloc.s    19 (System.Int32)
IL_03A0: ldc.i4.1
IL_03A1: add
IL_03A2: stloc.s    19 (System.Int32)
IL_03A4: Label19
IL_03A4: ldloc.s    19 (System.Int32)
IL_03A6: ldarg.1
IL_03A7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03AC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_03B1: blt =>     Label26
IL_03B6: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_03BB: ldloc.s    16 (System.Single)
IL_03BD: mul
IL_03BE: stloc.s    17 (System.Single)
IL_03C0: ldc.i4.0
IL_03C1: stloc.s    20 (System.Int32)
IL_03C3: br =>      Label27
IL_03C8: Label36
IL_03C8: ldloc.s    17 (System.Single)
IL_03CA: ldarg.0
IL_03CB: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03D0: brfalse => Label28
IL_03D5: ldarg.1
IL_03D6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03DB: ldloc.s    20 (System.Int32)
IL_03DD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_03E2: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_03E7: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_03EC: brtrue =>  Label29
IL_03F1: Label28
IL_03F1: ldarg.0
IL_03F2: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03F7: brfalse => Label30
IL_03FC: ldarg.1
IL_03FD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0402: ldloc.s    20 (System.Int32)
IL_0404: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0409: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_040E: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0413: brfalse => Label31
IL_0418: Label30
IL_0418: ldc.r4     1
IL_041D: br =>      Label32
IL_0422: Label31
IL_0422: ldc.r4     2
IL_0427: br =>      Label33
IL_042C: Label29
IL_042C: ldc.r4     6
IL_0431: Label32
IL_0431: Label33
IL_0431: ldarg.1
IL_0432: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0437: ldloc.s    20 (System.Int32)
IL_0439: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_043E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0443: ldarg.1
IL_0444: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0449: ldloc.s    20 (System.Int32)
IL_044B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0450: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0455: add
IL_0456: conv.r4
IL_0457: ldc.r4     2
IL_045C: div
IL_045D: mul
IL_045E: sub
IL_045F: stloc.s    17 (System.Single)
IL_0461: ldloc.s    17 (System.Single)
IL_0463: ldc.r4     0
IL_0468: bge.un =>  Label34
IL_046D: ldloc.s    20 (System.Int32)
IL_046F: stloc.s    15 (System.Int32)
IL_0471: br =>      Label35
IL_0476: Label34
IL_0476: ldloc.s    20 (System.Int32)
IL_0478: ldc.i4.1
IL_0479: add
IL_047A: stloc.s    20 (System.Int32)
IL_047C: Label27
IL_047C: ldloc.s    20 (System.Int32)
IL_047E: ldarg.1
IL_047F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0484: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0489: blt =>     Label36
IL_048E: Label35
IL_048E: ldloc.s    15 (System.Int32)
IL_0490: ldc.i4.0
IL_0491: bge =>     Label37
IL_0496: ldc.i4.0
IL_0497: stloc.s    15 (System.Int32)
IL_0499: Label37
IL_0499: ldarg.1
IL_049A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_049F: ldloc.s    15 (System.Int32)
IL_04A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_04A6: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_04AB: stloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04AD: ldarg.0
IL_04AE: ldloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04B0: ldc.i4.1
IL_04B1: ldc.i4.0
IL_04B2: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_04B7: pop
IL_04B8: ldloc.s    14 (System.Int32)
IL_04BA: ldc.i4.1
IL_04BB: add
IL_04BC: stloc.s    14 (System.Int32)
IL_04BE: Label18
IL_04BE: ldloc.s    14 (System.Int32)
IL_04C0: ldarg.2
IL_04C1: blt =>     Label38
IL_04C6: ldarg.0
IL_04C7: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_04CC: pop
IL_04CD: // end original
IL_04CD: Label14
IL_04CD: Label39
IL_04CD: Label40
IL_04CD: Label0
IL_04CD: ret
DONE

### Patch: System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_player_can_open_courtship_on_condition()
### Replacement: static System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_player_can_open_courtship_on_condition_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: System.Boolean
IL_0000: Local var 1: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4     0
IL_000E: stloc      1 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      1 (System.Boolean)
IL_0017: ldloc      1 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     0 (System.Boolean)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix1(System.Boolean& __result)
IL_0029: stloc      1 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      1 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0046: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_004B: dup
IL_004C: brtrue =>  Label3
IL_0051: pop
IL_0052: ldc.i4.0
IL_0053: br =>      Label4
IL_0058: Label3
IL_0058: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsMinorFaction()
IL_005D: Label4
IL_005D: brtrue =>  Label5
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0067: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsPrisoner()
IL_006C: brfalse => Label6
IL_0071: Label2
IL_0071: Label5
IL_0071: ldc.i4.0
IL_0072: br =>      Label15
IL_0077: Label6
IL_0077: ldarg.0
IL_0078: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007D: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0082: call       System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::MarriageCourtshipPossibility(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0087: brfalse => Label7
IL_008C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_009B: brtrue =>  Label8
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_00AA: brfalse => Label9
IL_00AF: ldstr      "FLIRTATION_LINE"
IL_00B4: ldstr      "{=bjJs0eeB}My lord, I note that you have not yet taken a wife."
IL_00B9: ldc.i4.0
IL_00BA: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00BF: br =>      Label10
IL_00C4: Label9
IL_00C4: ldstr      "FLIRTATION_LINE"
IL_00C9: ldstr      "{=v1hC6Aem}My lady, I wish to profess myself your most ardent admirer."
IL_00CE: ldc.i4.0
IL_00CF: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00D4: Label10
IL_00D4: ldc.i4.1
IL_00D5: br =>      Label16
IL_00DA: Label7
IL_00DA: Label8
IL_00DA: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00DF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00E4: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00E9: ldc.i4.1
IL_00EA: beq =>     Label11
IL_00EF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00F9: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00FE: ldc.i4.2
IL_00FF: bne.un =>  Label12
IL_0104: Label11
IL_0104: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0109: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_010E: brfalse => Label13
IL_0113: ldstr      "FLIRTATION_LINE"
IL_0118: ldstr      "{=2WnhUBMM}My lord, may you give me another chance to prove myself?"
IL_011D: ldc.i4.0
IL_011E: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0123: br =>      Label14
IL_0128: Label13
IL_0128: ldstr      "FLIRTATION_LINE"
IL_012D: ldstr      "{=4iTaEZKg}My lady, may you give me another chance to prove myself?"
IL_0132: ldc.i4.0
IL_0133: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0138: Label14
IL_0138: ldc.i4.1
IL_0139: br =>      Label17
IL_013E: Label12
IL_013E: ldc.i4.0
IL_013F: // end original
IL_013F: Label15
IL_013F: Label16
IL_013F: Label17
IL_013F: stloc      0 (System.Boolean)
IL_0143: Label0
IL_0143: ldloc      0 (System.Boolean)
IL_0147: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_start_courtship_persuasion_pt1_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_start_courtship_persuasion_pt1_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix2(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_005C: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0061: ldc.i4.3
IL_0062: bne.un =>  Label2
IL_0067: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: ldc.i4.4
IL_0072: call       static System.Void TaleWorlds.CampaignSystem.Actions.ChangeRomanticStateAction::Apply(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2, TaleWorlds.CampaignSystem.RomanceLevelEnum toWhat)
IL_0077: Label2
IL_0077: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0081: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0086: stloc.0
IL_0087: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_008C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_009B: bne.un =>  Label3
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: stloc.0
IL_00A6: Label3
IL_00A6: ldarg.0
IL_00A7: ldarg.0
IL_00A8: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00AD: ldloc.0
IL_00AE: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage1(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_00B3: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B8: ldarg.0
IL_00B9: ldarg.0
IL_00BA: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00BF: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_00C4: conv.r4
IL_00C5: ldc.r4     1
IL_00CA: mul
IL_00CB: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00D0: ldc.r4     0
IL_00D5: stloc.1
IL_00D6: ldarg.0
IL_00D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00DC: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00E1: stloc.2
.try
{
	IL_00E2: br =>      Label4
	IL_00E7: Label17
	IL_00E7: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00E9: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00EE: stloc.3
	IL_00EF: ldarg.0
	IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00F5: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00FA: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00FC: br =>      Label5
		IL_0101: Label15
		IL_0101: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0103: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_0108: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010A: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_0111: ldloc.3
		IL_0112: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_0117: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_011C: brfalse => Label6
		IL_0121: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_0123: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0128: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012A: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012C: switch =>  Labels7,8,9,10
		IL_0141: br =>      Label11
		IL_0146: Label9
		IL_0146: ldloc.1
		IL_0147: ldarg.0
		IL_0148: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_014D: add
		IL_014E: stloc.1
		IL_014F: br =>      Label12
		IL_0154: Label10
		IL_0154: ldloc.1
		IL_0155: ldarg.0
		IL_0156: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_015B: add
		IL_015C: stloc.1
		IL_015D: br =>      Label13
		IL_0162: Label7
		IL_0162: ldloc.1
		IL_0163: ldarg.0
		IL_0164: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0169: sub
		IL_016A: stloc.1
		IL_016B: br =>      Label14
		IL_0170: Label8
		IL_0170: ldloc.1
		IL_0171: ldc.r4     0
		IL_0176: sub
		IL_0177: stloc.1
		IL_0178: Label5
		IL_0178: Label6
		IL_0178: Label11
		IL_0178: Label12
		IL_0178: Label13
		IL_0178: Label14
		IL_0178: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_017F: brtrue =>  Label15
		IL_0184: leave =>   Label16
		IL_0189: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_018E: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_019B: endfinally
		IL_019C: leave =>   (autogenerated)
	} // end handler
	IL_019D: Label4
	IL_019D: Label16
	IL_019D: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_019F: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_01A4: brtrue =>  Label17
	IL_01A9: leave =>   Label18
	IL_01AE: leave =>   (autogenerated)
} // end try
.finally
{
	IL_01B3: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_01B5: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_01BB: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_01C0: endfinally
	IL_01C1: leave =>   (autogenerated)
} // end handler
IL_01C2: Label18
IL_01C2: ldarg.0
IL_01C3: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01C8: ldarg.0
IL_01C9: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01CE: ldarg.0
IL_01CF: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01D4: ldarg.0
IL_01D5: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01DA: ldarg.0
IL_01DB: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01E0: ldarg.0
IL_01E1: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01E6: ldloc.1
IL_01E7: ldc.i4.3
IL_01E8: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01ED: // end original
IL_01ED: Label0
IL_01ED: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_continue_courtship_stage_2_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_continue_courtship_stage_2_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix3(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_005C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0061: stloc.0
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0067: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0076: bne.un =>  Label2
IL_007B: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0080: stloc.0
IL_0081: Label2
IL_0081: ldarg.0
IL_0082: ldarg.0
IL_0083: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0088: ldloc.0
IL_0089: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage2(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_008E: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0093: ldarg.0
IL_0094: ldarg.0
IL_0095: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_009A: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_009F: conv.r4
IL_00A0: ldc.r4     1
IL_00A5: mul
IL_00A6: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00AB: ldc.r4     0
IL_00B0: stloc.1
IL_00B1: ldarg.0
IL_00B2: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B7: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00BC: stloc.2
.try
{
	IL_00BD: br =>      Label3
	IL_00C2: Label16
	IL_00C2: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00C4: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00C9: stloc.3
	IL_00CA: ldarg.0
	IL_00CB: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00D0: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00D5: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00D7: br =>      Label4
		IL_00DC: Label14
		IL_00DC: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_00DE: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_00E3: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E5: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E7: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_00EC: ldloc.3
		IL_00ED: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_00F2: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_00F7: brfalse => Label5
		IL_00FC: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00FE: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0103: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0105: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0107: switch =>  Labels6,7,8,9
		IL_011C: br =>      Label10
		IL_0121: Label8
		IL_0121: ldloc.1
		IL_0122: ldarg.0
		IL_0123: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_0128: add
		IL_0129: stloc.1
		IL_012A: br =>      Label11
		IL_012F: Label9
		IL_012F: ldloc.1
		IL_0130: ldarg.0
		IL_0131: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_0136: add
		IL_0137: stloc.1
		IL_0138: br =>      Label12
		IL_013D: Label6
		IL_013D: ldloc.1
		IL_013E: ldarg.0
		IL_013F: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0144: sub
		IL_0145: stloc.1
		IL_0146: br =>      Label13
		IL_014B: Label7
		IL_014B: ldloc.1
		IL_014C: ldc.r4     0
		IL_0151: sub
		IL_0152: stloc.1
		IL_0153: Label4
		IL_0153: Label5
		IL_0153: Label10
		IL_0153: Label11
		IL_0153: Label12
		IL_0153: Label13
		IL_0153: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0155: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_015A: brtrue =>  Label14
		IL_015F: leave =>   Label15
		IL_0164: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_0169: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_016B: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0171: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_0176: endfinally
		IL_0177: leave =>   (autogenerated)
	} // end handler
	IL_0178: Label3
	IL_0178: Label15
	IL_0178: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_017F: brtrue =>  Label16
	IL_0184: leave =>   Label17
	IL_0189: leave =>   (autogenerated)
} // end try
.finally
{
	IL_018E: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_019B: endfinally
	IL_019C: leave =>   (autogenerated)
} // end handler
IL_019D: Label17
IL_019D: ldarg.0
IL_019E: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01A3: ldarg.0
IL_01A4: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01A9: ldarg.0
IL_01AA: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01AF: ldarg.0
IL_01B0: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01B5: ldarg.0
IL_01B6: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01BB: ldarg.0
IL_01BC: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01C1: ldloc.1
IL_01C2: ldc.i4.3
IL_01C3: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01C8: // end original
IL_01C8: Label0
IL_01C8: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Hero::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Hero::TaleWorlds.CampaignSystem.Hero.AddSkillXp_Patch1(TaleWorlds.CampaignSystem.Hero this, TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
IL_0000: Local var 0: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      0 (System.Boolean)
IL_000E: ldloc      0 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarg.0
IL_0018: ldarg      1
IL_001C: ldarga     2
IL_0020: call       static System.Void KaosesTweaks.Patches.Patches::Prefix(TaleWorlds.CampaignSystem.Hero __instance, TaleWorlds.Core.SkillObject skill, System.Single& xpAmount)
IL_0025: Label1
IL_0025: nop
IL_0026: ldloc      0 (System.Boolean)
IL_002A: brfalse => Label0
IL_002F: // start original
IL_002F: ldarg.0
IL_0030: ldfld      TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper TaleWorlds.CampaignSystem.Hero::_heroDeveloper
IL_0035: dup
IL_0036: brtrue =>  Label2
IL_003B: pop
IL_003C: br =>      Label3
IL_0041: Label2
IL_0041: ldarg.1
IL_0042: ldarg.2
IL_0043: ldc.i4.1
IL_0044: ldc.i4.1
IL_0045: callvirt   abstract virtual System.Void TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single rawXp, System.Boolean isAffectedByFocusFactor, System.Boolean shouldNotify)
IL_004A: // end original
IL_004A: Label3
IL_004A: Label0
IL_004A: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
### Replacement: static System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM..ctor_Patch1(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM this, TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
IL_0000: Local var 0: TaleWorlds.Core.EquipmentElement
IL_0000: Local var 1: System.Nullable`1<TaleWorlds.Core.EquipmentIndex>
IL_0000: Local var 2: TaleWorlds.Core.EquipmentIndex
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldc.i4.s   -5
IL_0003: stfld      System.Int32 TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_profitType
IL_0008: ldarg.0
IL_0009: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::.ctor()
IL_000E: ldarga.s   5
IL_0010: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0015: stloc.0
IL_0016: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0018: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_001D: brtrue =>  Label0
IL_0022: br =>      Label16
IL_0027: Label0
IL_0027: ldarg.0
IL_0028: ldarg.s    7
IL_002A: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_fiveStackShortcutKeyText
IL_002F: ldarg.0
IL_0030: ldarg.s    8
IL_0032: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_entireStackShortcutKeyText
IL_0037: ldarg.0
IL_0038: ldarg.s    4
IL_003A: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryMode TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_usageType
IL_003F: ldarg.0
IL_0040: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0045: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_004A: dup
IL_004B: brtrue =>  Label1
IL_0050: pop
IL_0051: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0056: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_0(TaleWorlds.CampaignSystem.Concept c)
IL_005C: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0061: dup
IL_0062: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_0067: Label1
IL_0067: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_006C: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_tradeGoodConceptObj
IL_0071: ldarg.0
IL_0072: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0077: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_007C: dup
IL_007D: brtrue =>  Label2
IL_0082: pop
IL_0083: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0088: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_1(TaleWorlds.CampaignSystem.Concept c)
IL_008E: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0093: dup
IL_0094: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_0099: Label2
IL_0099: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_009E: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_itemConceptObj
IL_00A3: ldarg.0
IL_00A4: ldarg.1
IL_00A5: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_00AA: ldarg.0
IL_00AB: ldarga.s   5
IL_00AD: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00B2: ldarga.s   5
IL_00B4: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00B9: newobj     System.Void TaleWorlds.Core.ItemRosterElement::.ctor(TaleWorlds.Core.EquipmentElement equipmentElement, System.Int32 amount)
IL_00BE: stfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_00C3: ldarg.0
IL_00C4: ldarg.s    9
IL_00C6: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemCost(System.Int32 value)
IL_00CB: ldarg.0
IL_00CC: ldarga.s   5
IL_00CE: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00D3: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemCount(System.Int32 value)
IL_00D8: ldarg.0
IL_00D9: ldc.i4.1
IL_00DA: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TransactionCount(System.Int32 value)
IL_00DF: ldarg.0
IL_00E0: ldarga.s   5
IL_00E2: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00E7: stloc.0
IL_00E8: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_00EA: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_00EF: callvirt   System.Int32 TaleWorlds.Core.ItemObject::get_Difficulty()
IL_00F4: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemLevel(System.Int32 value)
IL_00F9: ldarg.0
IL_00FA: ldarg.s    6
IL_00FC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_InventorySide(TaleWorlds.CampaignSystem.Inventory.InventorySide value)
IL_0101: ldarga.s   10
IL_0103: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0108: brfalse => Label3
IL_010D: ldarg.s    10
IL_010F: stloc.1
IL_0110: ldc.i4.m1
IL_0111: stloc.2
IL_0112: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_0114: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::GetValueOrDefault()
IL_0119: ldloc.2
IL_011A: ceq
IL_011C: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_011E: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0123: and
IL_0124: brtrue =>  Label4
IL_0129: ldarg.0
IL_012A: ldarga.s   10
IL_012C: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_Value()
IL_0131: stfld      TaleWorlds.Core.EquipmentIndex TaleWorlds.Core.ViewModelCollection.ItemVM::_itemType
IL_0136: Label3
IL_0136: Label4
IL_0136: ldarg.0
IL_0137: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::SetItemTypeId()
IL_013C: ldarg.0
IL_013D: ldarga.s   5
IL_013F: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0144: stloc.0
IL_0145: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0147: call       TaleWorlds.Localization.TextObject TaleWorlds.Core.EquipmentElement::GetModifiedItemName()
IL_014C: callvirt   virtual System.String System.Object::ToString()
IL_0151: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemDescription(System.String value)
IL_0156: ldarg.0
IL_0157: ldarga.s   5
IL_0159: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_015E: call       static System.String TaleWorlds.CampaignSystem.ViewModelCollection.CampaignUIHelper::GetItemLockStringID(TaleWorlds.Core.EquipmentElement equipmentElement)
IL_0163: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_StringId(System.String value)
IL_0168: ldarg.0
IL_0169: ldarga.s   5
IL_016B: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0170: stloc.0
IL_0171: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0173: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0178: call       static TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Clan::get_PlayerClan()
IL_017D: dup
IL_017E: brtrue =>  Label5
IL_0183: pop
IL_0184: ldnull
IL_0185: br =>      Label6
IL_018A: Label5
IL_018A: call       virtual TaleWorlds.Core.Banner TaleWorlds.CampaignSystem.Clan::get_Banner()
IL_018F: callvirt   System.String TaleWorlds.Core.Banner::Serialize()
IL_0194: Label6
IL_0194: newobj     System.Void TaleWorlds.Core.ImageIdentifierVM::.ctor(TaleWorlds.Core.ItemObject itemObject, System.String bannerCode)
IL_0199: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ImageIdentifier(TaleWorlds.Core.ImageIdentifierVM value)
IL_019E: ldarg.0
IL_019F: ldarga.s   5
IL_01A1: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01A6: stloc.0
IL_01A7: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01A9: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01AE: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01B3: ldc.i4     4194304
IL_01B8: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01BD: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsCivilianItem(System.Boolean value)
IL_01C2: ldarg.0
IL_01C3: ldarg.2
IL_01C4: brfalse => Label7
IL_01C9: ldarg.0
IL_01CA: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01CF: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01D4: stloc.0
IL_01D5: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01D7: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01DC: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01E1: ldc.i4     1024
IL_01E6: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01EB: brtrue =>  Label8
IL_01F0: Label7
IL_01F0: ldarg.2
IL_01F1: brtrue =>  Label9
IL_01F6: ldarg.0
IL_01F7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01FC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0201: stloc.0
IL_0202: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0204: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0209: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_020E: ldc.i4     2048
IL_0213: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_0218: br =>      Label10
IL_021D: Label9
IL_021D: ldc.i4.0
IL_021E: br =>      Label11
IL_0223: Label8
IL_0223: ldc.i4.1
IL_0224: Label10
IL_0224: Label11
IL_0224: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsGenderDifferent(System.Boolean value)
IL_0229: ldarg.0
IL_022A: ldarg.3
IL_022B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanCharacterUseItem(System.Boolean value)
IL_0230: ldarg.0
IL_0231: ldarga.s   5
IL_0233: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0238: stloc.0
IL_0239: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_023B: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0240: callvirt   System.Boolean TaleWorlds.Core.ItemObject::get_IsUniqueItem()
IL_0245: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsArtifact(System.Boolean value)
IL_024A: ldarg.0
IL_024B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateCanBeSlaughtered()
IL_0250: ldarg.0
IL_0251: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateHintTexts()
IL_0256: ldarg.0
IL_0257: ldarg.0
IL_0258: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_025D: dup
IL_025E: brtrue =>  Label12
IL_0263: pop
IL_0264: ldc.i4.0
IL_0265: br =>      Label13
IL_026A: Label12
IL_026A: ldarg.0
IL_026B: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_0270: ldarg.0
IL_0271: call       TaleWorlds.CampaignSystem.Inventory.InventorySide TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_InventorySide()
IL_0276: call       System.Boolean TaleWorlds.CampaignSystem.Inventory.InventoryLogic::CanDonateItem(TaleWorlds.Core.ItemRosterElement element, TaleWorlds.CampaignSystem.Inventory.InventorySide sideOfItem)
IL_027B: Label13
IL_027B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanBeDonated(System.Boolean value)
IL_0280: ldarg.0
IL_0281: ldarg.0
IL_0282: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_0287: ldarg.0
IL_0288: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_028D: ldarg.s    6
IL_028F: ldarg.0
IL_0290: ldftn      System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::OnTradeApplyTransaction(System.Int32 amount, System.Boolean isBuying)
IL_0296: newobj     System.Void System.Action`2<System.Int32, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_029B: newobj     System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, TaleWorlds.Core.ItemRosterElement itemRoster, TaleWorlds.CampaignSystem.Inventory.InventorySide side, System.Action`2<System.Int32, System.Boolean> onApplyTransaction)
IL_02A0: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TradeData(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM value)
IL_02A5: ldarg.0
IL_02A6: ldarg.0
IL_02A7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_02AC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02B1: stloc.0
IL_02B2: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02B4: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_02B9: ldc.i4.0
IL_02BA: ceq
IL_02BC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsTransferable(System.Boolean value)
IL_02C1: ldarg.0
IL_02C2: call       TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_TradeData()
IL_02C7: ldarg.0
IL_02C8: call       System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_IsTransferable()
IL_02CD: callvirt   System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::set_IsTradeable(System.Boolean value)
IL_02D2: ldarg.0
IL_02D3: ldarga.s   5
IL_02D5: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02DA: stloc.0
IL_02DB: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02DD: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_02E2: call       static TaleWorlds.CampaignSystem.Inventory.InventoryItemType TaleWorlds.CampaignSystem.Inventory.InventoryManager::GetInventoryItemTypeOfItem(TaleWorlds.Core.ItemObject item)
IL_02E7: ldc.i4     2303
IL_02EC: or
IL_02ED: ldc.i4     2303
IL_02F2: bne.un =>  Label14
IL_02F7: ldarga.s   5
IL_02F9: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02FE: stloc.0
IL_02FF: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0301: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_0306: ldc.i4.0
IL_0307: ceq
IL_0309: br =>      Label15
IL_030E: Label14
IL_030E: ldc.i4.0
IL_030F: Label15
IL_030F: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsEquipableItem(System.Boolean value)
IL_0314: ldarg.0
IL_0315: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateIsNew()
IL_031A: ldarg.0
IL_031B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateProfitType()
IL_0320: // end original
IL_0320: Label16
IL_0320: ldarg.0
IL_0321: call       static System.Void KaosesTweaks.Patches.SPItemVMPatch::Postfix(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM __instance)
IL_0326: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch3(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ldarg.0
IL_000D: call       static System.Void Bannerlord.Harmony.SubModule::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0012: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch2(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ret
DONE

### Harmony id=KaosesTweaks.harmony, version=2.2.2.0, location=C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.Harmony\bin\Win64_Shipping_Client\0Harmony.dll, env/clr=4.0.30319.42000, platform=Win32NT, ptrsize:runtime/env=8/Bits64, Windows
### Started from virtual System.Void KaosesTweaks.SubModule::OnBeforeInitialModuleScreenSetAsRoot(), location C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\KaosesTweaks\bin\Win64_Shipping_Client\KaosesTweaks.dll
### At 2022-07-27 06.28.49
### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::GetUnitValueForFaction(TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable.GetUnitValueForFaction_Patch1(TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable this, TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Int32
IL_0000: ldc.i4     0
IL_0005: stloc      3 (System.Int32)
IL_0009: // start original
IL_0009: ldc.r4     -1000000
IL_000E: stloc.0
IL_000F: ldarg.1
IL_0010: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0015: brtrue =>  Label0
IL_001A: ldarg.1
IL_001B: castclass  TaleWorlds.CampaignSystem.Clan
IL_0020: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_0025: pop
IL_0026: Label0
IL_0026: ldarg.0
IL_0027: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_002C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0031: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0036: pop
IL_0037: ldarg.0
IL_0038: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_003D: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::get_IsKingdomFaction()
IL_0042: brfalse => Label1
IL_0047: ldarg.1
IL_0048: ldarg.0
IL_0049: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_004E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0053: bne.un =>  Label2
IL_0058: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_005D: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0062: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0067: ldarg.0
IL_0068: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_006D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0072: ldarg.0
IL_0073: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0078: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfClanToJoinKingdom(TaleWorlds.CampaignSystem.Clan clan, TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_007D: stloc.0
IL_007E: ldarg.0
IL_007F: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0084: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0089: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_008E: brfalse => Label3
IL_0093: ldarg.0
IL_0094: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0099: ldarg.0
IL_009A: call       TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalParty()
IL_009F: newobj     System.Void TaleWorlds.CampaignSystem.BarterSystem.Barterables.LeaveKingdomAsClanBarterable::.ctor(TaleWorlds.CampaignSystem.Hero owner, TaleWorlds.CampaignSystem.Party.PartyBase ownerParty)
IL_00A4: ldarg.1
IL_00A5: call       System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::GetValueForFaction(TaleWorlds.CampaignSystem.IFaction faction)
IL_00AA: stloc.1
IL_00AB: ldc.r4     0
IL_00B0: stloc.2
IL_00B1: ldarg.0
IL_00B2: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00B7: ldarg.0
IL_00B8: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00BD: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00C2: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00C7: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::IsAtWarWith(TaleWorlds.CampaignSystem.IFaction other)
IL_00CC: brtrue =>  Label4
IL_00D1: ldarg.0
IL_00D2: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00D7: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00DC: ldarg.0
IL_00DD: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00E2: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00E7: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00EC: callvirt   System.Single TaleWorlds.CampaignSystem.Clan::CalculateTotalSettlementValueForFaction(TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_00F1: stloc.2
IL_00F2: ldloc.0
IL_00F3: ldloc.2
IL_00F4: ldarg.0
IL_00F5: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00FA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Kingdom::get_Leader()
IL_00FF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0104: beq =>     Label5
IL_0109: ldc.r4     1
IL_010E: br =>      Label6
IL_0113: Label5
IL_0113: ldc.r4     0.5
IL_0118: Label6
IL_0118: mul
IL_0119: sub
IL_011A: stloc.0
IL_011B: Label4
IL_011B: ldloc.0
IL_011C: ldloc.1
IL_011D: conv.r4
IL_011E: add
IL_011F: stloc.0
IL_0120: br =>      Label7
IL_0125: Label2
IL_0125: ldarg.1
IL_0126: callvirt   abstract virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.IFaction::get_MapFaction()
IL_012B: ldarg.0
IL_012C: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0131: bne.un =>  Label8
IL_0136: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_013B: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0140: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0145: ldarg.0
IL_0146: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_014B: ldarg.0
IL_014C: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0151: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0156: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfKingdomToGetClan(TaleWorlds.CampaignSystem.Kingdom kingdom, TaleWorlds.CampaignSystem.Clan clan)
IL_015B: stloc.0
IL_015C: Label1
IL_015C: Label3
IL_015C: Label7
IL_015C: Label8
IL_015C: ldloc.0
IL_015D: conv.i4
IL_015E: // end original
IL_015E: stloc      3 (System.Int32)
IL_0162: ldloca     3 (System.Int32)
IL_0166: ldarg      1
IL_016A: ldarg.0
IL_016B: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0170: call       static System.Void KaosesTweaks.Patches.BTBarterablePatches::Postfix(System.Int32& __result, TaleWorlds.CampaignSystem.IFaction factionForEvaluation, TaleWorlds.CampaignSystem.Kingdom ___TargetKingdom)
IL_0175: ldloc      3 (System.Int32)
IL_0179: ret
DONE

### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::GetPlayerMaximumTroopCountForHideoutMission(TaleWorlds.CampaignSystem.Party.MobileParty party)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel.GetPlayerMaximumTroopCountForHideoutMission_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel this, TaleWorlds.CampaignSystem.Party.MobileParty party)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      1 (System.Int32)
IL_0009: ldc.i4     0
IL_000E: stloc      2 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      2 (System.Boolean)
IL_0017: ldloc      2 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     1 (System.Int32)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.BTTroopCountForHidoutMission::Prefix(System.Int32& __result)
IL_0029: stloc      2 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      2 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: ldc.r4     10
IL_003C: stloc.0
IL_003D: ldarg.1
IL_003E: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0043: ldc.i4.0
IL_0044: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::HasPerk(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk, System.Boolean checkSecondaryRole)
IL_0049: brfalse => Label2
IL_004E: ldloc.0
IL_004F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0054: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0059: add
IL_005A: stloc.0
IL_005B: Label2
IL_005B: ldloc.0
IL_005C: call       static System.Int32 TaleWorlds.Library.MathF::Round(System.Single f)
IL_0061: // end original
IL_0061: stloc      1 (System.Int32)
IL_0065: Label0
IL_0065: ldloc      1 (System.Int32)
IL_0069: ret
DONE

### Patch: TaleWorlds.CampaignSystem.ExplainedNumber TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::CalculateMobilePartyMemberSizeLimit(TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
### Note: A buffer for the returned struct is used. That requires an extra IntPtr argument before the first real argument
### Replacement: static System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel.CalculateMobilePartyMemberSizeLimit_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel this, System.IntPtr retbuf, TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: Local var 1: System.Nullable`1<System.Boolean>
IL_0000: Local var 2: System.Boolean
IL_0000: Local var 3: System.Nullable`1<System.Boolean>
IL_0000: Local var 4: System.Int32
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>
IL_0000: Local var 7: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0004: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_000A: // start original
IL_000A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_000C: ldc.r4     20
IL_0011: ldarg.3
IL_0012: ldarg.0
IL_0013: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_baseSizeText
IL_0018: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::.ctor(System.Single baseNumber, System.Boolean includeDescriptions, TaleWorlds.Localization.TextObject baseText)
IL_001D: ldarg.2
IL_001E: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0023: brfalse => Label0
IL_0028: ldarg.2
IL_0029: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_002E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0033: brfalse => Label1
IL_0038: ldarg.2
IL_0039: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_003E: brtrue =>  Label2
IL_0043: ldarg.2
IL_0044: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0049: brfalse => Label3
IL_004E: ldarg.2
IL_004F: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0054: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0059: brfalse => Label4
IL_005E: ldarg.2
IL_005F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0064: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0069: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_006E: ldarg.2
IL_006F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0074: bne.un =>  Label5
IL_0079: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_007B: ldc.r4     20
IL_0080: ldarg.0
IL_0081: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_factionLeaderText
IL_0086: ldnull
IL_0087: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_008C: Label3
IL_008C: Label4
IL_008C: Label5
IL_008C: ldarg.2
IL_008D: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0092: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_0097: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_009C: brfalse => Label6
IL_00A1: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00A3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00A8: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00AD: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00B2: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00B7: ldnull
IL_00B8: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00BD: Label6
IL_00BD: ldarg.2
IL_00BE: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00C3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00C8: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00CD: brfalse => Label7
IL_00D2: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00D4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00D9: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00DE: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00E3: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00E8: ldnull
IL_00E9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00EE: Label7
IL_00EE: ldarg.2
IL_00EF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_00F9: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00FE: brfalse => Label8
IL_0103: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0105: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_010A: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_010F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_0114: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0119: ldnull
IL_011A: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_011F: Label8
IL_011F: ldarg.2
IL_0120: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0125: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_012A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_012F: brfalse => Label9
IL_0134: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0136: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_013B: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0140: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_0145: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_014A: ldnull
IL_014B: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0150: Label9
IL_0150: ldarg.2
IL_0151: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0156: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_015B: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0160: brfalse => Label10
IL_0165: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0167: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_016C: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0171: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_0176: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_017B: ldnull
IL_017C: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0181: Label10
IL_0181: ldarg.2
IL_0182: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0187: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_018C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0191: brfalse => Label11
IL_0196: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0198: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_019D: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01A2: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_01A7: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01AC: ldnull
IL_01AD: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01B2: Label11
IL_01B2: ldarg.2
IL_01B3: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_01B8: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01BD: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_01C2: brfalse => Label12
IL_01C7: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_01C9: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01CE: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01D3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01D8: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01DD: ldnull
IL_01DE: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01E3: Label12
IL_01E3: ldarg.2
IL_01E4: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_01E9: dup
IL_01EA: brtrue =>  Label13
IL_01EF: pop
IL_01F0: ldc.i4.0
IL_01F1: br =>      Label14
IL_01F6: Label13
IL_01F6: call       virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_01FB: dup
IL_01FC: brtrue =>  Label15
IL_0201: pop
IL_0202: ldloca.s   3 (System.Nullable`1[System.Boolean])
IL_0204: initobj    System.Nullable`1[System.Boolean]
IL_020A: ldloc.3
IL_020B: br =>      Label16
IL_0210: Label15
IL_0210: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0215: call       System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_021A: newobj     System.Void System.Nullable`1<System.Boolean>::.ctor(System.Boolean value)
IL_021F: Label16
IL_021F: stloc.1
IL_0220: ldc.i4.1
IL_0221: stloc.2
IL_0222: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_0224: call       System.Boolean System.Nullable`1<System.Boolean>::GetValueOrDefault()
IL_0229: ldloc.2
IL_022A: ceq
IL_022C: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_022E: call       System.Boolean System.Nullable`1<System.Boolean>::get_HasValue()
IL_0233: and
IL_0234: Label14
IL_0234: brfalse => Label17
IL_0239: ldc.i4.0
IL_023A: stloc.s    4 (System.Int32)
IL_023C: ldarg.2
IL_023D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_0242: callvirt   virtual TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.CampaignSystem.Clan::get_Settlements()
IL_0247: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement>::GetEnumerator()
IL_024C: stloc.s    6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
.try
{
	IL_024E: br =>      Label18
	IL_0253: Label20
	IL_0253: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0255: call       virtual TaleWorlds.CampaignSystem.Settlements.Settlement System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::get_Current()
	IL_025A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Settlements.Settlement::get_IsTown()
	IL_025F: brfalse => Label19
	IL_0264: ldloc.s    4 (System.Int32)
	IL_0266: ldc.i4.1
	IL_0267: add
	IL_0268: stloc.s    4 (System.Int32)
	IL_026A: Label18
	IL_026A: Label19
	IL_026A: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_026C: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::MoveNext()
	IL_0271: brtrue =>  Label20
	IL_0276: leave =>   Label21
	IL_027B: leave =>   (autogenerated)
} // end try
.finally
{
	IL_0280: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0282: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement]
	IL_0288: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_028D: endfinally
	IL_028E: leave =>   (autogenerated)
} // end handler
IL_028F: Label21
IL_028F: ldloc.s    4 (System.Int32)
IL_0291: conv.r4
IL_0292: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0297: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_029C: mul
IL_029D: stloc.s    5 (System.Single)
IL_029F: ldloc.s    5 (System.Single)
IL_02A1: ldc.r4     0
IL_02A6: ble.un =>  Label22
IL_02AB: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_02AD: ldloc.s    5 (System.Single)
IL_02AF: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_02B4: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_02B9: ldnull
IL_02BA: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_02BF: Label17
IL_02BF: Label22
IL_02BF: ldarg.2
IL_02C0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02C5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02CA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_02CF: ldarg.2
IL_02D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02D5: bne.un =>  Label23
IL_02DA: ldarg.2
IL_02DB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02E0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02E5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_02EA: ldc.i4.5
IL_02EB: blt =>     Label24
IL_02F0: ldarg.2
IL_02F1: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_02F6: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_02FB: brfalse => Label25
IL_0300: ldarg.2
IL_0301: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0306: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_030B: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_0310: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_0315: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_031A: brfalse => Label26
IL_031F: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0321: ldc.r4     40
IL_0326: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_032B: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0330: ldnull
IL_0331: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0336: Label24
IL_0336: Label25
IL_0336: Label26
IL_0336: ldarg.2
IL_0337: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_033C: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0341: brfalse => Label27
IL_0346: ldarg.2
IL_0347: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_034C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0351: ldarg.2
IL_0352: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0357: bne.un =>  Label28
IL_035C: ldarg.2
IL_035D: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0362: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_0367: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_036C: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0371: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_0376: brfalse => Label29
IL_037B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_037D: ldc.r4     60
IL_0382: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0387: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_038C: ldnull
IL_038D: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0392: Label27
IL_0392: Label28
IL_0392: Label29
IL_0392: ldarg.2
IL_0393: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0398: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_039D: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03A2: ldc.i4.0
IL_03A3: ble =>     Label30
IL_03A8: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03AA: ldarg.2
IL_03AB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03B0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03B5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03BA: ldc.i4.s   25
IL_03BC: mul
IL_03BD: conv.r4
IL_03BE: ldarg.0
IL_03BF: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_03C4: ldnull
IL_03C5: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_03CA: br =>      Label31
IL_03CF: Label23
IL_03CF: ldarg.2
IL_03D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03D5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03DA: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03DF: ldc.i4.0
IL_03E0: ble =>     Label32
IL_03E5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03E7: ldarg.2
IL_03E8: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03ED: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03F2: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03F7: ldc.i4.s   15
IL_03F9: mul
IL_03FA: conv.r4
IL_03FB: ldarg.0
IL_03FC: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_0401: ldnull
IL_0402: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0407: Label30
IL_0407: Label31
IL_0407: Label32
IL_0407: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0409: ldarg.2
IL_040A: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_EffectiveQuartermaster()
IL_040F: call       static TaleWorlds.Core.SkillObject TaleWorlds.Core.DefaultSkills::get_Steward()
IL_0414: callvirt   System.Int32 TaleWorlds.CampaignSystem.Hero::GetSkillValue(TaleWorlds.Core.SkillObject skill)
IL_0419: ldc.i4.4
IL_041A: div
IL_041B: conv.r4
IL_041C: ldarg.0
IL_041D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_quarterMasterText
IL_0422: ldnull
IL_0423: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0428: ldarg.0
IL_0429: ldarg.2
IL_042A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_042C: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddMobilePartyLeaderPartySizePerkEffects(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_0431: ldarg.0
IL_0432: ldarg.2
IL_0433: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0435: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddUltimateLeaderPerkEffectForPartySize(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_043A: ldsfld     System.Boolean TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_addAdditionalPartySizeAsCheat
IL_043F: brfalse => Label33
IL_0444: ldarg.2
IL_0445: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsMainParty()
IL_044A: brfalse => Label34
IL_044F: call       static TaleWorlds.Core.Game TaleWorlds.Core.Game::get_Current()
IL_0454: callvirt   System.Boolean TaleWorlds.Core.Game::get_CheatMode()
IL_0459: brfalse => Label35
IL_045E: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0460: ldc.r4     5000
IL_0465: ldstr      "{=!}Additional size from extra party cheat"
IL_046A: ldnull
IL_046B: newobj     System.Void TaleWorlds.Localization.TextObject::.ctor(System.String value, System.Collections.Generic.Dictionary`2<System.String, System.Object> attributes)
IL_0470: ldnull
IL_0471: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0476: br =>      Label36
IL_047B: Label0
IL_047B: Label1
IL_047B: Label2
IL_047B: ldarg.2
IL_047C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_0481: brfalse => Label37
IL_0486: ldarg.2
IL_0487: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_048C: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_0491: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0496: bne.un =>  Label38
IL_049B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_049D: ldc.r4     10
IL_04A2: ldarg.0
IL_04A3: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_04A8: ldnull
IL_04A9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_04AE: br =>      Label39
IL_04B3: Label38
IL_04B3: ldarg.2
IL_04B4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04B9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04BE: dup
IL_04BF: brtrue =>  Label40
IL_04C4: pop
IL_04C5: ldc.i4.0
IL_04C6: br =>      Label41
IL_04CB: Label40
IL_04CB: call       System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsNotable()
IL_04D0: Label41
IL_04D0: brfalse => Label42
IL_04D5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_04D7: ldc.i4.s   10
IL_04D9: ldarg.2
IL_04DA: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04DF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04E4: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_04E9: ldc.r4     100
IL_04EE: blt =>     Label43
IL_04F3: ldarg.2
IL_04F4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04F9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04FE: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_0503: ldc.r4     200
IL_0508: blt =>     Label44
IL_050D: ldc.i4.3
IL_050E: br =>      Label45
IL_0513: Label44
IL_0513: ldc.i4.2
IL_0514: br =>      Label46
IL_0519: Label43
IL_0519: ldc.i4.1
IL_051A: Label45
IL_051A: Label46
IL_051A: mul
IL_051B: conv.r4
IL_051C: ldarg.0
IL_051D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0522: ldnull
IL_0523: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0528: br =>      Label47
IL_052D: Label37
IL_052D: ldarg.2
IL_052E: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_0533: brfalse => Label48
IL_0538: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_053A: ldc.r4     40
IL_053F: ldarg.0
IL_0540: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0545: ldnull
IL_0546: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_054B: Label33
IL_054B: Label34
IL_054B: Label35
IL_054B: Label36
IL_054B: Label39
IL_054B: Label42
IL_054B: Label47
IL_054B: Label48
IL_054B: ldloc.0
IL_054C: // end original
IL_054C: stloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0550: ldarg      2
IL_0554: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0558: call       static System.Void KaosesTweaks.Patches.DefaultPartySizeLimitModelPatch::Postfix(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& __result)
IL_055D: ldloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0561: ldloca     8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0565: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_056B: stloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_056F: ldarg.1
IL_0570: ldloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0574: stobj      TaleWorlds.CampaignSystem.ExplainedNumber
IL_0579: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Party.MobileParty::FillPartyStacks(TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Party.MobileParty::TaleWorlds.CampaignSystem.Party.MobileParty.FillPartyStacks_Patch1(TaleWorlds.CampaignSystem.Party.MobileParty this, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Single
IL_0000: Local var 4: System.Single
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Single
IL_0000: Local var 7: System.Single
IL_0000: Local var 8: System.Single
IL_0000: Local var 9: System.Single
IL_0000: Local var 10: System.Single
IL_0000: Local var 11: System.Int32
IL_0000: Local var 12: System.Int32
IL_0000: Local var 13: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 14: System.Int32
IL_0000: Local var 15: System.Int32
IL_0000: Local var 16: System.Single
IL_0000: Local var 17: System.Single
IL_0000: Local var 18: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 19: System.Int32
IL_0000: Local var 20: System.Int32
IL_0000: Local var 21: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      21 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      21 (System.Boolean)
IL_000E: ldloc      21 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg      1
IL_001F: ldarg      2
IL_0023: call       static System.Boolean KaosesTweaks.Patches.TitanFillPartyStacksPatch::Prefix(TaleWorlds.CampaignSystem.Party.MobileParty& __instance, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0028: stloc      21 (System.Boolean)
IL_002C: Label1
IL_002C: nop
IL_002D: ldloc      21 (System.Boolean)
IL_0031: brfalse => Label0
IL_0036: // start original
IL_0036: ldarg.0
IL_0037: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsBandit()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0046: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_004B: stloc.0
IL_004C: ldc.r4     0.4
IL_0051: ldc.r4     0.8
IL_0056: ldloc.0
IL_0057: mul
IL_0058: add
IL_0059: stloc.1
IL_005A: ldc.i4.2
IL_005B: call       static System.Int32 TaleWorlds.Core.MBRandom::RandomInt(System.Int32 maxValue)
IL_0060: dup
IL_0061: brfalse => Label3
IL_0066: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_006B: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0070: mul
IL_0071: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0076: mul
IL_0077: ldc.r4     4
IL_007C: mul
IL_007D: br =>      Label4
IL_0082: Label3
IL_0082: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0087: Label4
IL_0087: stloc.2
IL_0088: brfalse => Label5
IL_008D: ldc.r4     1
IL_0092: ldloc.2
IL_0093: add
IL_0094: br =>      Label6
IL_0099: Label5
IL_0099: ldloc.2
IL_009A: ldc.r4     0.8
IL_009F: mul
IL_00A0: ldc.r4     0.2
IL_00A5: add
IL_00A6: Label6
IL_00A6: stloc.3
IL_00A7: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00AC: stloc.s    4 (System.Single)
IL_00AE: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00B3: stloc.s    5 (System.Single)
IL_00B5: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00BA: stloc.s    6 (System.Single)
IL_00BC: ldarg.1
IL_00BD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00C2: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_00C7: ldc.i4.0
IL_00C8: bgt =>     Label7
IL_00CD: ldc.r4     0
IL_00D2: br =>      Label8
IL_00D7: Label7
IL_00D7: ldarg.1
IL_00D8: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00DD: ldc.i4.0
IL_00DE: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00E3: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_00E8: conv.r4
IL_00E9: ldloc.1
IL_00EA: ldloc.3
IL_00EB: mul
IL_00EC: ldloc.s    4 (System.Single)
IL_00EE: mul
IL_00EF: ldarg.1
IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00F5: ldc.i4.0
IL_00F6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00FB: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0100: ldarg.1
IL_0101: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0106: ldc.i4.0
IL_0107: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_010C: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0111: sub
IL_0112: conv.r4
IL_0113: mul
IL_0114: add
IL_0115: Label8
IL_0115: stloc.s    7 (System.Single)
IL_0117: ldarg.1
IL_0118: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_011D: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0122: ldc.i4.1
IL_0123: bgt =>     Label9
IL_0128: ldc.r4     0
IL_012D: br =>      Label10
IL_0132: Label9
IL_0132: ldarg.1
IL_0133: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0138: ldc.i4.1
IL_0139: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_013E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0143: conv.r4
IL_0144: ldloc.1
IL_0145: ldloc.3
IL_0146: mul
IL_0147: ldloc.s    5 (System.Single)
IL_0149: mul
IL_014A: ldarg.1
IL_014B: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0150: ldc.i4.1
IL_0151: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0156: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_015B: ldarg.1
IL_015C: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0161: ldc.i4.1
IL_0162: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0167: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_016C: sub
IL_016D: conv.r4
IL_016E: mul
IL_016F: add
IL_0170: Label10
IL_0170: stloc.s    8 (System.Single)
IL_0172: ldarg.1
IL_0173: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0178: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_017D: ldc.i4.2
IL_017E: bgt =>     Label11
IL_0183: ldc.r4     0
IL_0188: br =>      Label12
IL_018D: Label11
IL_018D: ldarg.1
IL_018E: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0193: ldc.i4.2
IL_0194: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0199: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_019E: conv.r4
IL_019F: ldloc.1
IL_01A0: ldloc.3
IL_01A1: mul
IL_01A2: ldloc.s    6 (System.Single)
IL_01A4: mul
IL_01A5: ldarg.1
IL_01A6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01AB: ldc.i4.2
IL_01AC: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01B1: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_01B6: ldarg.1
IL_01B7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01BC: ldc.i4.2
IL_01BD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01C2: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_01C7: sub
IL_01C8: conv.r4
IL_01C9: mul
IL_01CA: add
IL_01CB: Label12
IL_01CB: stloc.s    9 (System.Single)
IL_01CD: ldarg.0
IL_01CE: ldarg.1
IL_01CF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01D4: ldc.i4.0
IL_01D5: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01DA: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_01DF: ldloc.s    7 (System.Single)
IL_01E1: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_01E6: ldc.i4.0
IL_01E7: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_01EC: pop
IL_01ED: ldarg.1
IL_01EE: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01F3: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_01F8: ldc.i4.1
IL_01F9: ble =>     Label13
IL_01FE: ldarg.0
IL_01FF: ldarg.1
IL_0200: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0205: ldc.i4.1
IL_0206: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_020B: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0210: ldloc.s    8 (System.Single)
IL_0212: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0217: ldc.i4.0
IL_0218: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_021D: pop
IL_021E: Label13
IL_021E: ldarg.1
IL_021F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0224: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0229: ldc.i4.2
IL_022A: ble =>     Label14
IL_022F: ldarg.0
IL_0230: ldarg.1
IL_0231: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0236: ldc.i4.2
IL_0237: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_023C: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0241: ldloc.s    9 (System.Single)
IL_0243: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0248: ldc.i4.0
IL_0249: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_024E: pop
IL_024F: br =>      Label39
IL_0254: Label2
IL_0254: ldarg.2
IL_0255: ldc.i4.0
IL_0256: bge =>     Label15
IL_025B: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0260: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_0265: stloc.s    10 (System.Single)
IL_0267: ldc.i4.0
IL_0268: stloc.s    11 (System.Int32)
IL_026A: br =>      Label16
IL_026F: Label17
IL_026F: ldloc.s    10 (System.Single)
IL_0271: ldarg.1
IL_0272: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0277: ldloc.s    11 (System.Int32)
IL_0279: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_027E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0283: ldarg.1
IL_0284: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0289: ldloc.s    11 (System.Int32)
IL_028B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0290: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0295: sub
IL_0296: conv.r4
IL_0297: mul
IL_0298: conv.i4
IL_0299: ldarg.1
IL_029A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_029F: ldloc.s    11 (System.Int32)
IL_02A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02A6: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_02AB: add
IL_02AC: stloc.s    12 (System.Int32)
IL_02AE: ldarg.1
IL_02AF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02B4: ldloc.s    11 (System.Int32)
IL_02B6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02BB: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_02C0: stloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C2: ldarg.0
IL_02C3: ldloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C5: ldloc.s    12 (System.Int32)
IL_02C7: ldc.i4.0
IL_02C8: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_02CD: pop
IL_02CE: ldloc.s    11 (System.Int32)
IL_02D0: ldc.i4.1
IL_02D1: add
IL_02D2: stloc.s    11 (System.Int32)
IL_02D4: Label16
IL_02D4: ldloc.s    11 (System.Int32)
IL_02D6: ldarg.1
IL_02D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02DC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_02E1: blt =>     Label17
IL_02E6: br =>      Label40
IL_02EB: Label15
IL_02EB: ldc.i4.0
IL_02EC: stloc.s    14 (System.Int32)
IL_02EE: br =>      Label18
IL_02F3: Label38
IL_02F3: ldc.i4.m1
IL_02F4: stloc.s    15 (System.Int32)
IL_02F6: ldc.r4     0
IL_02FB: stloc.s    16 (System.Single)
IL_02FD: ldc.i4.0
IL_02FE: stloc.s    19 (System.Int32)
IL_0300: br =>      Label19
IL_0305: Label26
IL_0305: ldloc.s    16 (System.Single)
IL_0307: ldarg.0
IL_0308: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_030D: brfalse => Label20
IL_0312: ldarg.1
IL_0313: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0318: ldloc.s    19 (System.Int32)
IL_031A: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_031F: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0324: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_0329: brtrue =>  Label21
IL_032E: Label20
IL_032E: ldarg.0
IL_032F: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_0334: brfalse => Label22
IL_0339: ldarg.1
IL_033A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_033F: ldloc.s    19 (System.Int32)
IL_0341: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0346: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_034B: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0350: brfalse => Label23
IL_0355: Label22
IL_0355: ldc.r4     1
IL_035A: br =>      Label24
IL_035F: Label23
IL_035F: ldc.r4     2
IL_0364: br =>      Label25
IL_0369: Label21
IL_0369: ldc.r4     6
IL_036E: Label24
IL_036E: Label25
IL_036E: ldarg.1
IL_036F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0374: ldloc.s    19 (System.Int32)
IL_0376: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_037B: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0380: ldarg.1
IL_0381: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0386: ldloc.s    19 (System.Int32)
IL_0388: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_038D: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0392: add
IL_0393: conv.r4
IL_0394: ldc.r4     2
IL_0399: div
IL_039A: mul
IL_039B: add
IL_039C: stloc.s    16 (System.Single)
IL_039E: ldloc.s    19 (System.Int32)
IL_03A0: ldc.i4.1
IL_03A1: add
IL_03A2: stloc.s    19 (System.Int32)
IL_03A4: Label19
IL_03A4: ldloc.s    19 (System.Int32)
IL_03A6: ldarg.1
IL_03A7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03AC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_03B1: blt =>     Label26
IL_03B6: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_03BB: ldloc.s    16 (System.Single)
IL_03BD: mul
IL_03BE: stloc.s    17 (System.Single)
IL_03C0: ldc.i4.0
IL_03C1: stloc.s    20 (System.Int32)
IL_03C3: br =>      Label27
IL_03C8: Label36
IL_03C8: ldloc.s    17 (System.Single)
IL_03CA: ldarg.0
IL_03CB: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03D0: brfalse => Label28
IL_03D5: ldarg.1
IL_03D6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03DB: ldloc.s    20 (System.Int32)
IL_03DD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_03E2: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_03E7: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_03EC: brtrue =>  Label29
IL_03F1: Label28
IL_03F1: ldarg.0
IL_03F2: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03F7: brfalse => Label30
IL_03FC: ldarg.1
IL_03FD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0402: ldloc.s    20 (System.Int32)
IL_0404: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0409: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_040E: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0413: brfalse => Label31
IL_0418: Label30
IL_0418: ldc.r4     1
IL_041D: br =>      Label32
IL_0422: Label31
IL_0422: ldc.r4     2
IL_0427: br =>      Label33
IL_042C: Label29
IL_042C: ldc.r4     6
IL_0431: Label32
IL_0431: Label33
IL_0431: ldarg.1
IL_0432: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0437: ldloc.s    20 (System.Int32)
IL_0439: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_043E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0443: ldarg.1
IL_0444: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0449: ldloc.s    20 (System.Int32)
IL_044B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0450: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0455: add
IL_0456: conv.r4
IL_0457: ldc.r4     2
IL_045C: div
IL_045D: mul
IL_045E: sub
IL_045F: stloc.s    17 (System.Single)
IL_0461: ldloc.s    17 (System.Single)
IL_0463: ldc.r4     0
IL_0468: bge.un =>  Label34
IL_046D: ldloc.s    20 (System.Int32)
IL_046F: stloc.s    15 (System.Int32)
IL_0471: br =>      Label35
IL_0476: Label34
IL_0476: ldloc.s    20 (System.Int32)
IL_0478: ldc.i4.1
IL_0479: add
IL_047A: stloc.s    20 (System.Int32)
IL_047C: Label27
IL_047C: ldloc.s    20 (System.Int32)
IL_047E: ldarg.1
IL_047F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0484: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0489: blt =>     Label36
IL_048E: Label35
IL_048E: ldloc.s    15 (System.Int32)
IL_0490: ldc.i4.0
IL_0491: bge =>     Label37
IL_0496: ldc.i4.0
IL_0497: stloc.s    15 (System.Int32)
IL_0499: Label37
IL_0499: ldarg.1
IL_049A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_049F: ldloc.s    15 (System.Int32)
IL_04A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_04A6: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_04AB: stloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04AD: ldarg.0
IL_04AE: ldloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04B0: ldc.i4.1
IL_04B1: ldc.i4.0
IL_04B2: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_04B7: pop
IL_04B8: ldloc.s    14 (System.Int32)
IL_04BA: ldc.i4.1
IL_04BB: add
IL_04BC: stloc.s    14 (System.Int32)
IL_04BE: Label18
IL_04BE: ldloc.s    14 (System.Int32)
IL_04C0: ldarg.2
IL_04C1: blt =>     Label38
IL_04C6: ldarg.0
IL_04C7: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_04CC: pop
IL_04CD: // end original
IL_04CD: Label14
IL_04CD: Label39
IL_04CD: Label40
IL_04CD: Label0
IL_04CD: ret
DONE

### Patch: System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_player_can_open_courtship_on_condition()
### Replacement: static System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_player_can_open_courtship_on_condition_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: System.Boolean
IL_0000: Local var 1: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4     0
IL_000E: stloc      1 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      1 (System.Boolean)
IL_0017: ldloc      1 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     0 (System.Boolean)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix1(System.Boolean& __result)
IL_0029: stloc      1 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      1 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0046: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_004B: dup
IL_004C: brtrue =>  Label3
IL_0051: pop
IL_0052: ldc.i4.0
IL_0053: br =>      Label4
IL_0058: Label3
IL_0058: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsMinorFaction()
IL_005D: Label4
IL_005D: brtrue =>  Label5
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0067: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsPrisoner()
IL_006C: brfalse => Label6
IL_0071: Label2
IL_0071: Label5
IL_0071: ldc.i4.0
IL_0072: br =>      Label15
IL_0077: Label6
IL_0077: ldarg.0
IL_0078: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007D: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0082: call       System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::MarriageCourtshipPossibility(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0087: brfalse => Label7
IL_008C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_009B: brtrue =>  Label8
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_00AA: brfalse => Label9
IL_00AF: ldstr      "FLIRTATION_LINE"
IL_00B4: ldstr      "{=bjJs0eeB}My lord, I note that you have not yet taken a wife."
IL_00B9: ldc.i4.0
IL_00BA: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00BF: br =>      Label10
IL_00C4: Label9
IL_00C4: ldstr      "FLIRTATION_LINE"
IL_00C9: ldstr      "{=v1hC6Aem}My lady, I wish to profess myself your most ardent admirer."
IL_00CE: ldc.i4.0
IL_00CF: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00D4: Label10
IL_00D4: ldc.i4.1
IL_00D5: br =>      Label16
IL_00DA: Label7
IL_00DA: Label8
IL_00DA: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00DF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00E4: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00E9: ldc.i4.1
IL_00EA: beq =>     Label11
IL_00EF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00F9: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00FE: ldc.i4.2
IL_00FF: bne.un =>  Label12
IL_0104: Label11
IL_0104: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0109: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_010E: brfalse => Label13
IL_0113: ldstr      "FLIRTATION_LINE"
IL_0118: ldstr      "{=2WnhUBMM}My lord, may you give me another chance to prove myself?"
IL_011D: ldc.i4.0
IL_011E: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0123: br =>      Label14
IL_0128: Label13
IL_0128: ldstr      "FLIRTATION_LINE"
IL_012D: ldstr      "{=4iTaEZKg}My lady, may you give me another chance to prove myself?"
IL_0132: ldc.i4.0
IL_0133: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0138: Label14
IL_0138: ldc.i4.1
IL_0139: br =>      Label17
IL_013E: Label12
IL_013E: ldc.i4.0
IL_013F: // end original
IL_013F: Label15
IL_013F: Label16
IL_013F: Label17
IL_013F: stloc      0 (System.Boolean)
IL_0143: Label0
IL_0143: ldloc      0 (System.Boolean)
IL_0147: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_start_courtship_persuasion_pt1_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_start_courtship_persuasion_pt1_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix2(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_005C: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0061: ldc.i4.3
IL_0062: bne.un =>  Label2
IL_0067: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: ldc.i4.4
IL_0072: call       static System.Void TaleWorlds.CampaignSystem.Actions.ChangeRomanticStateAction::Apply(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2, TaleWorlds.CampaignSystem.RomanceLevelEnum toWhat)
IL_0077: Label2
IL_0077: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0081: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0086: stloc.0
IL_0087: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_008C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_009B: bne.un =>  Label3
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: stloc.0
IL_00A6: Label3
IL_00A6: ldarg.0
IL_00A7: ldarg.0
IL_00A8: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00AD: ldloc.0
IL_00AE: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage1(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_00B3: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B8: ldarg.0
IL_00B9: ldarg.0
IL_00BA: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00BF: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_00C4: conv.r4
IL_00C5: ldc.r4     1
IL_00CA: mul
IL_00CB: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00D0: ldc.r4     0
IL_00D5: stloc.1
IL_00D6: ldarg.0
IL_00D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00DC: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00E1: stloc.2
.try
{
	IL_00E2: br =>      Label4
	IL_00E7: Label17
	IL_00E7: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00E9: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00EE: stloc.3
	IL_00EF: ldarg.0
	IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00F5: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00FA: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00FC: br =>      Label5
		IL_0101: Label15
		IL_0101: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0103: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_0108: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010A: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_0111: ldloc.3
		IL_0112: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_0117: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_011C: brfalse => Label6
		IL_0121: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_0123: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0128: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012A: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012C: switch =>  Labels7,8,9,10
		IL_0141: br =>      Label11
		IL_0146: Label9
		IL_0146: ldloc.1
		IL_0147: ldarg.0
		IL_0148: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_014D: add
		IL_014E: stloc.1
		IL_014F: br =>      Label12
		IL_0154: Label10
		IL_0154: ldloc.1
		IL_0155: ldarg.0
		IL_0156: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_015B: add
		IL_015C: stloc.1
		IL_015D: br =>      Label13
		IL_0162: Label7
		IL_0162: ldloc.1
		IL_0163: ldarg.0
		IL_0164: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0169: sub
		IL_016A: stloc.1
		IL_016B: br =>      Label14
		IL_0170: Label8
		IL_0170: ldloc.1
		IL_0171: ldc.r4     0
		IL_0176: sub
		IL_0177: stloc.1
		IL_0178: Label5
		IL_0178: Label6
		IL_0178: Label11
		IL_0178: Label12
		IL_0178: Label13
		IL_0178: Label14
		IL_0178: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_017F: brtrue =>  Label15
		IL_0184: leave =>   Label16
		IL_0189: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_018E: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_019B: endfinally
		IL_019C: leave =>   (autogenerated)
	} // end handler
	IL_019D: Label4
	IL_019D: Label16
	IL_019D: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_019F: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_01A4: brtrue =>  Label17
	IL_01A9: leave =>   Label18
	IL_01AE: leave =>   (autogenerated)
} // end try
.finally
{
	IL_01B3: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_01B5: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_01BB: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_01C0: endfinally
	IL_01C1: leave =>   (autogenerated)
} // end handler
IL_01C2: Label18
IL_01C2: ldarg.0
IL_01C3: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01C8: ldarg.0
IL_01C9: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01CE: ldarg.0
IL_01CF: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01D4: ldarg.0
IL_01D5: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01DA: ldarg.0
IL_01DB: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01E0: ldarg.0
IL_01E1: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01E6: ldloc.1
IL_01E7: ldc.i4.3
IL_01E8: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01ED: // end original
IL_01ED: Label0
IL_01ED: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_continue_courtship_stage_2_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_continue_courtship_stage_2_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix3(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_005C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0061: stloc.0
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0067: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0076: bne.un =>  Label2
IL_007B: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0080: stloc.0
IL_0081: Label2
IL_0081: ldarg.0
IL_0082: ldarg.0
IL_0083: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0088: ldloc.0
IL_0089: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage2(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_008E: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0093: ldarg.0
IL_0094: ldarg.0
IL_0095: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_009A: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_009F: conv.r4
IL_00A0: ldc.r4     1
IL_00A5: mul
IL_00A6: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00AB: ldc.r4     0
IL_00B0: stloc.1
IL_00B1: ldarg.0
IL_00B2: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B7: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00BC: stloc.2
.try
{
	IL_00BD: br =>      Label3
	IL_00C2: Label16
	IL_00C2: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00C4: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00C9: stloc.3
	IL_00CA: ldarg.0
	IL_00CB: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00D0: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00D5: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00D7: br =>      Label4
		IL_00DC: Label14
		IL_00DC: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_00DE: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_00E3: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E5: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E7: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_00EC: ldloc.3
		IL_00ED: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_00F2: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_00F7: brfalse => Label5
		IL_00FC: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00FE: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0103: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0105: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0107: switch =>  Labels6,7,8,9
		IL_011C: br =>      Label10
		IL_0121: Label8
		IL_0121: ldloc.1
		IL_0122: ldarg.0
		IL_0123: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_0128: add
		IL_0129: stloc.1
		IL_012A: br =>      Label11
		IL_012F: Label9
		IL_012F: ldloc.1
		IL_0130: ldarg.0
		IL_0131: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_0136: add
		IL_0137: stloc.1
		IL_0138: br =>      Label12
		IL_013D: Label6
		IL_013D: ldloc.1
		IL_013E: ldarg.0
		IL_013F: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0144: sub
		IL_0145: stloc.1
		IL_0146: br =>      Label13
		IL_014B: Label7
		IL_014B: ldloc.1
		IL_014C: ldc.r4     0
		IL_0151: sub
		IL_0152: stloc.1
		IL_0153: Label4
		IL_0153: Label5
		IL_0153: Label10
		IL_0153: Label11
		IL_0153: Label12
		IL_0153: Label13
		IL_0153: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0155: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_015A: brtrue =>  Label14
		IL_015F: leave =>   Label15
		IL_0164: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_0169: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_016B: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0171: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_0176: endfinally
		IL_0177: leave =>   (autogenerated)
	} // end handler
	IL_0178: Label3
	IL_0178: Label15
	IL_0178: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_017F: brtrue =>  Label16
	IL_0184: leave =>   Label17
	IL_0189: leave =>   (autogenerated)
} // end try
.finally
{
	IL_018E: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_019B: endfinally
	IL_019C: leave =>   (autogenerated)
} // end handler
IL_019D: Label17
IL_019D: ldarg.0
IL_019E: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01A3: ldarg.0
IL_01A4: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01A9: ldarg.0
IL_01AA: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01AF: ldarg.0
IL_01B0: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01B5: ldarg.0
IL_01B6: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01BB: ldarg.0
IL_01BC: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01C1: ldloc.1
IL_01C2: ldc.i4.3
IL_01C3: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01C8: // end original
IL_01C8: Label0
IL_01C8: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Hero::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Hero::TaleWorlds.CampaignSystem.Hero.AddSkillXp_Patch1(TaleWorlds.CampaignSystem.Hero this, TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
IL_0000: Local var 0: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      0 (System.Boolean)
IL_000E: ldloc      0 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarg.0
IL_0018: ldarg      1
IL_001C: ldarga     2
IL_0020: call       static System.Void KaosesTweaks.Patches.Patches::Prefix(TaleWorlds.CampaignSystem.Hero __instance, TaleWorlds.Core.SkillObject skill, System.Single& xpAmount)
IL_0025: Label1
IL_0025: nop
IL_0026: ldloc      0 (System.Boolean)
IL_002A: brfalse => Label0
IL_002F: // start original
IL_002F: ldarg.0
IL_0030: ldfld      TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper TaleWorlds.CampaignSystem.Hero::_heroDeveloper
IL_0035: dup
IL_0036: brtrue =>  Label2
IL_003B: pop
IL_003C: br =>      Label3
IL_0041: Label2
IL_0041: ldarg.1
IL_0042: ldarg.2
IL_0043: ldc.i4.1
IL_0044: ldc.i4.1
IL_0045: callvirt   abstract virtual System.Void TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single rawXp, System.Boolean isAffectedByFocusFactor, System.Boolean shouldNotify)
IL_004A: // end original
IL_004A: Label3
IL_004A: Label0
IL_004A: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
### Replacement: static System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM..ctor_Patch1(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM this, TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
IL_0000: Local var 0: TaleWorlds.Core.EquipmentElement
IL_0000: Local var 1: System.Nullable`1<TaleWorlds.Core.EquipmentIndex>
IL_0000: Local var 2: TaleWorlds.Core.EquipmentIndex
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldc.i4.s   -5
IL_0003: stfld      System.Int32 TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_profitType
IL_0008: ldarg.0
IL_0009: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::.ctor()
IL_000E: ldarga.s   5
IL_0010: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0015: stloc.0
IL_0016: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0018: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_001D: brtrue =>  Label0
IL_0022: br =>      Label16
IL_0027: Label0
IL_0027: ldarg.0
IL_0028: ldarg.s    7
IL_002A: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_fiveStackShortcutKeyText
IL_002F: ldarg.0
IL_0030: ldarg.s    8
IL_0032: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_entireStackShortcutKeyText
IL_0037: ldarg.0
IL_0038: ldarg.s    4
IL_003A: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryMode TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_usageType
IL_003F: ldarg.0
IL_0040: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0045: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_004A: dup
IL_004B: brtrue =>  Label1
IL_0050: pop
IL_0051: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0056: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_0(TaleWorlds.CampaignSystem.Concept c)
IL_005C: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0061: dup
IL_0062: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_0067: Label1
IL_0067: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_006C: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_tradeGoodConceptObj
IL_0071: ldarg.0
IL_0072: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0077: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_007C: dup
IL_007D: brtrue =>  Label2
IL_0082: pop
IL_0083: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0088: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_1(TaleWorlds.CampaignSystem.Concept c)
IL_008E: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0093: dup
IL_0094: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_0099: Label2
IL_0099: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_009E: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_itemConceptObj
IL_00A3: ldarg.0
IL_00A4: ldarg.1
IL_00A5: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_00AA: ldarg.0
IL_00AB: ldarga.s   5
IL_00AD: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00B2: ldarga.s   5
IL_00B4: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00B9: newobj     System.Void TaleWorlds.Core.ItemRosterElement::.ctor(TaleWorlds.Core.EquipmentElement equipmentElement, System.Int32 amount)
IL_00BE: stfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_00C3: ldarg.0
IL_00C4: ldarg.s    9
IL_00C6: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemCost(System.Int32 value)
IL_00CB: ldarg.0
IL_00CC: ldarga.s   5
IL_00CE: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00D3: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemCount(System.Int32 value)
IL_00D8: ldarg.0
IL_00D9: ldc.i4.1
IL_00DA: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TransactionCount(System.Int32 value)
IL_00DF: ldarg.0
IL_00E0: ldarga.s   5
IL_00E2: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00E7: stloc.0
IL_00E8: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_00EA: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_00EF: callvirt   System.Int32 TaleWorlds.Core.ItemObject::get_Difficulty()
IL_00F4: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemLevel(System.Int32 value)
IL_00F9: ldarg.0
IL_00FA: ldarg.s    6
IL_00FC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_InventorySide(TaleWorlds.CampaignSystem.Inventory.InventorySide value)
IL_0101: ldarga.s   10
IL_0103: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0108: brfalse => Label3
IL_010D: ldarg.s    10
IL_010F: stloc.1
IL_0110: ldc.i4.m1
IL_0111: stloc.2
IL_0112: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_0114: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::GetValueOrDefault()
IL_0119: ldloc.2
IL_011A: ceq
IL_011C: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_011E: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0123: and
IL_0124: brtrue =>  Label4
IL_0129: ldarg.0
IL_012A: ldarga.s   10
IL_012C: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_Value()
IL_0131: stfld      TaleWorlds.Core.EquipmentIndex TaleWorlds.Core.ViewModelCollection.ItemVM::_itemType
IL_0136: Label3
IL_0136: Label4
IL_0136: ldarg.0
IL_0137: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::SetItemTypeId()
IL_013C: ldarg.0
IL_013D: ldarga.s   5
IL_013F: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0144: stloc.0
IL_0145: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0147: call       TaleWorlds.Localization.TextObject TaleWorlds.Core.EquipmentElement::GetModifiedItemName()
IL_014C: callvirt   virtual System.String System.Object::ToString()
IL_0151: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemDescription(System.String value)
IL_0156: ldarg.0
IL_0157: ldarga.s   5
IL_0159: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_015E: call       static System.String TaleWorlds.CampaignSystem.ViewModelCollection.CampaignUIHelper::GetItemLockStringID(TaleWorlds.Core.EquipmentElement equipmentElement)
IL_0163: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_StringId(System.String value)
IL_0168: ldarg.0
IL_0169: ldarga.s   5
IL_016B: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0170: stloc.0
IL_0171: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0173: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0178: call       static TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Clan::get_PlayerClan()
IL_017D: dup
IL_017E: brtrue =>  Label5
IL_0183: pop
IL_0184: ldnull
IL_0185: br =>      Label6
IL_018A: Label5
IL_018A: call       virtual TaleWorlds.Core.Banner TaleWorlds.CampaignSystem.Clan::get_Banner()
IL_018F: callvirt   System.String TaleWorlds.Core.Banner::Serialize()
IL_0194: Label6
IL_0194: newobj     System.Void TaleWorlds.Core.ImageIdentifierVM::.ctor(TaleWorlds.Core.ItemObject itemObject, System.String bannerCode)
IL_0199: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ImageIdentifier(TaleWorlds.Core.ImageIdentifierVM value)
IL_019E: ldarg.0
IL_019F: ldarga.s   5
IL_01A1: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01A6: stloc.0
IL_01A7: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01A9: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01AE: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01B3: ldc.i4     4194304
IL_01B8: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01BD: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsCivilianItem(System.Boolean value)
IL_01C2: ldarg.0
IL_01C3: ldarg.2
IL_01C4: brfalse => Label7
IL_01C9: ldarg.0
IL_01CA: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01CF: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01D4: stloc.0
IL_01D5: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01D7: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01DC: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01E1: ldc.i4     1024
IL_01E6: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01EB: brtrue =>  Label8
IL_01F0: Label7
IL_01F0: ldarg.2
IL_01F1: brtrue =>  Label9
IL_01F6: ldarg.0
IL_01F7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01FC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0201: stloc.0
IL_0202: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0204: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0209: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_020E: ldc.i4     2048
IL_0213: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_0218: br =>      Label10
IL_021D: Label9
IL_021D: ldc.i4.0
IL_021E: br =>      Label11
IL_0223: Label8
IL_0223: ldc.i4.1
IL_0224: Label10
IL_0224: Label11
IL_0224: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsGenderDifferent(System.Boolean value)
IL_0229: ldarg.0
IL_022A: ldarg.3
IL_022B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanCharacterUseItem(System.Boolean value)
IL_0230: ldarg.0
IL_0231: ldarga.s   5
IL_0233: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0238: stloc.0
IL_0239: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_023B: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0240: callvirt   System.Boolean TaleWorlds.Core.ItemObject::get_IsUniqueItem()
IL_0245: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsArtifact(System.Boolean value)
IL_024A: ldarg.0
IL_024B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateCanBeSlaughtered()
IL_0250: ldarg.0
IL_0251: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateHintTexts()
IL_0256: ldarg.0
IL_0257: ldarg.0
IL_0258: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_025D: dup
IL_025E: brtrue =>  Label12
IL_0263: pop
IL_0264: ldc.i4.0
IL_0265: br =>      Label13
IL_026A: Label12
IL_026A: ldarg.0
IL_026B: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_0270: ldarg.0
IL_0271: call       TaleWorlds.CampaignSystem.Inventory.InventorySide TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_InventorySide()
IL_0276: call       System.Boolean TaleWorlds.CampaignSystem.Inventory.InventoryLogic::CanDonateItem(TaleWorlds.Core.ItemRosterElement element, TaleWorlds.CampaignSystem.Inventory.InventorySide sideOfItem)
IL_027B: Label13
IL_027B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanBeDonated(System.Boolean value)
IL_0280: ldarg.0
IL_0281: ldarg.0
IL_0282: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_0287: ldarg.0
IL_0288: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_028D: ldarg.s    6
IL_028F: ldarg.0
IL_0290: ldftn      System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::OnTradeApplyTransaction(System.Int32 amount, System.Boolean isBuying)
IL_0296: newobj     System.Void System.Action`2<System.Int32, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_029B: newobj     System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, TaleWorlds.Core.ItemRosterElement itemRoster, TaleWorlds.CampaignSystem.Inventory.InventorySide side, System.Action`2<System.Int32, System.Boolean> onApplyTransaction)
IL_02A0: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TradeData(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM value)
IL_02A5: ldarg.0
IL_02A6: ldarg.0
IL_02A7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_02AC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02B1: stloc.0
IL_02B2: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02B4: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_02B9: ldc.i4.0
IL_02BA: ceq
IL_02BC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsTransferable(System.Boolean value)
IL_02C1: ldarg.0
IL_02C2: call       TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_TradeData()
IL_02C7: ldarg.0
IL_02C8: call       System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_IsTransferable()
IL_02CD: callvirt   System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::set_IsTradeable(System.Boolean value)
IL_02D2: ldarg.0
IL_02D3: ldarga.s   5
IL_02D5: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02DA: stloc.0
IL_02DB: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02DD: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_02E2: call       static TaleWorlds.CampaignSystem.Inventory.InventoryItemType TaleWorlds.CampaignSystem.Inventory.InventoryManager::GetInventoryItemTypeOfItem(TaleWorlds.Core.ItemObject item)
IL_02E7: ldc.i4     2303
IL_02EC: or
IL_02ED: ldc.i4     2303
IL_02F2: bne.un =>  Label14
IL_02F7: ldarga.s   5
IL_02F9: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02FE: stloc.0
IL_02FF: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0301: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_0306: ldc.i4.0
IL_0307: ceq
IL_0309: br =>      Label15
IL_030E: Label14
IL_030E: ldc.i4.0
IL_030F: Label15
IL_030F: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsEquipableItem(System.Boolean value)
IL_0314: ldarg.0
IL_0315: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateIsNew()
IL_031A: ldarg.0
IL_031B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateProfitType()
IL_0320: // end original
IL_0320: Label16
IL_0320: ldarg.0
IL_0321: call       static System.Void KaosesTweaks.Patches.SPItemVMPatch::Postfix(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM __instance)
IL_0326: ret
DONE

### Harmony id=bannerlord.mcm.ui.optionsvm, version=2.2.2.0, location=C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.Harmony\bin\Win64_Shipping_Client\0Harmony.dll, env/clr=4.0.30319.42000, platform=Win32NT, ptrsize:runtime/env=8/Bits64, Windows
### Started from static System.Void MCM.UI.UIExtenderEx.OptionsVMMixin::.cctor(), location C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.MBOptionScreen\bin\Win64_Shipping_Client\MCMv4.UI.dll
### At 2022-07-27 06.50.53
### Patch: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::get_VideoOptions()
### Replacement: static TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM.get_VideoOptions_Patch1(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM this)
IL_0000: Local var 0: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM
IL_0000: ldnull
IL_0001: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_0005: // start original
IL_0005: ldarg.0
IL_0006: ldfld      TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::_videoOptionCategory
IL_000B: // end original
IL_000B: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_000F: ldarg.0
IL_0010: call       static System.Void MCM.UI.UIExtenderEx.OptionsVMMixin::OptionsPostfix(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM __instance)
IL_0015: ldloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_0019: ret
DONE

### Patch: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::get_AudioOptions()
### Replacement: static TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM.get_AudioOptions_Patch1(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM this)
IL_0000: Local var 0: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM
IL_0000: ldnull
IL_0001: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_0005: // start original
IL_0005: ldarg.0
IL_0006: ldfld      TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::_audioOptionCategory
IL_000B: // end original
IL_000B: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_000F: ldarg.0
IL_0010: call       static System.Void MCM.UI.UIExtenderEx.OptionsVMMixin::OptionsPostfix(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM __instance)
IL_0015: ldloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_0019: ret
DONE

### Patch: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GameKeys.GameKeyOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::get_GameKeyOptionGroups()
### Replacement: static TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GameKeys.GameKeyOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM.get_GameKeyOptionGroups_Patch1(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM this)
IL_0000: Local var 0: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GameKeys.GameKeyOptionCategoryVM
IL_0000: ldnull
IL_0001: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GameKeys.GameKeyOptionCategoryVM)
IL_0005: // start original
IL_0005: ldarg.0
IL_0006: ldfld      TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GameKeys.GameKeyOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::_gameKeyCategory
IL_000B: // end original
IL_000B: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GameKeys.GameKeyOptionCategoryVM)
IL_000F: ldarg.0
IL_0010: call       static System.Void MCM.UI.UIExtenderEx.OptionsVMMixin::OptionsPostfix(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM __instance)
IL_0015: ldloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GameKeys.GameKeyOptionCategoryVM)
IL_0019: ret
DONE

### Patch: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GamepadOptions.GamepadOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::get_GamepadOptions()
### Replacement: static TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GamepadOptions.GamepadOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM.get_GamepadOptions_Patch1(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM this)
IL_0000: Local var 0: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GamepadOptions.GamepadOptionCategoryVM
IL_0000: ldnull
IL_0001: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GamepadOptions.GamepadOptionCategoryVM)
IL_0005: // start original
IL_0005: ldarg.0
IL_0006: ldfld      TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GamepadOptions.GamepadOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::_gamepadCategory
IL_000B: // end original
IL_000B: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GamepadOptions.GamepadOptionCategoryVM)
IL_000F: ldarg.0
IL_0010: call       static System.Void MCM.UI.UIExtenderEx.OptionsVMMixin::OptionsPostfix(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM __instance)
IL_0015: ldloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GamepadOptions.GamepadOptionCategoryVM)
IL_0019: ret
DONE

### Patch: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::get_GameplayOptions()
### Replacement: static TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM.get_GameplayOptions_Patch1(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM this)
IL_0000: Local var 0: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM
IL_0000: ldnull
IL_0001: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_0005: // start original
IL_0005: ldarg.0
IL_0006: ldfld      TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::_gameplayOptionCategory
IL_000B: // end original
IL_000B: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_000F: ldarg.0
IL_0010: call       static System.Void MCM.UI.UIExtenderEx.OptionsVMMixin::OptionsPostfix(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM __instance)
IL_0015: ldloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_0019: ret
DONE

### Patch: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::get_PerformanceOptions()
### Replacement: static TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM.get_PerformanceOptions_Patch1(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM this)
IL_0000: Local var 0: TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM
IL_0000: ldnull
IL_0001: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_0005: // start original
IL_0005: ldarg.0
IL_0006: ldfld      TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::_performanceOptionCategory
IL_000B: // end original
IL_000B: stloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_000F: ldarg.0
IL_0010: call       static System.Void MCM.UI.UIExtenderEx.OptionsVMMixin::OptionsPostfix(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM __instance)
IL_0015: ldloc      0 (TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.GroupedOptionCategoryVM)
IL_0019: ret
DONE

### Patch: static System.Void MCM.UI.UIExtenderEx.OptionsVMMixin::OriginalExecuteCloseOptions(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM instance)
### Replacement: static System.Void MCM.UI.UIExtenderEx.OptionsVMMixin::MCM.UI.UIExtenderEx.OptionsVMMixin.OriginalExecuteCloseOptions_Patch0(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM instance)
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldfld      System.Action TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::_onClose
IL_0006: brfalse => Label0
IL_000B: ldarg.0
IL_000C: ldfld      System.Action TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::_onClose
IL_0011: callvirt   virtual System.Void System.Action::Invoke()
IL_0016: // end original
IL_0016: Label0
IL_0016: ret
DONE

### Patch: System.Void TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::ExecuteCloseOptions()
### Replacement: static System.Void TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM.ExecuteCloseOptions_Patch1(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM this)
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldfld      System.Action TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::_onClose
IL_0006: brfalse => Label0
IL_000B: ldarg.0
IL_000C: ldfld      System.Action TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM::_onClose
IL_0011: callvirt   virtual System.Void System.Action::Invoke()
IL_0016: // end original
IL_0016: Label0
IL_0016: ldarg.0
IL_0017: call       static System.Void MCM.UI.UIExtenderEx.OptionsVMMixin::ExecuteCloseOptionsPostfix(TaleWorlds.MountAndBlade.ViewModelCollection.GameOptions.OptionsVM __instance)
IL_001C: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch3(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ldarg.0
IL_000D: call       static System.Void Bannerlord.Harmony.SubModule::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0012: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch2(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ret
DONE

### Harmony id=KaosesTweaks.harmony, version=2.2.2.0, location=C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.Harmony\bin\Win64_Shipping_Client\0Harmony.dll, env/clr=4.0.30319.42000, platform=Win32NT, ptrsize:runtime/env=8/Bits64, Windows
### Started from virtual System.Void KaosesTweaks.SubModule::OnBeforeInitialModuleScreenSetAsRoot(), location C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\KaosesTweaks\bin\Win64_Shipping_Client\KaosesTweaks.dll
### At 2022-07-28 07.08.54
### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::GetUnitValueForFaction(TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable.GetUnitValueForFaction_Patch1(TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable this, TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Int32
IL_0000: ldc.i4     0
IL_0005: stloc      3 (System.Int32)
IL_0009: // start original
IL_0009: ldc.r4     -1000000
IL_000E: stloc.0
IL_000F: ldarg.1
IL_0010: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0015: brtrue =>  Label0
IL_001A: ldarg.1
IL_001B: castclass  TaleWorlds.CampaignSystem.Clan
IL_0020: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_0025: pop
IL_0026: Label0
IL_0026: ldarg.0
IL_0027: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_002C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0031: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0036: pop
IL_0037: ldarg.0
IL_0038: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_003D: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::get_IsKingdomFaction()
IL_0042: brfalse => Label1
IL_0047: ldarg.1
IL_0048: ldarg.0
IL_0049: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_004E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0053: bne.un =>  Label2
IL_0058: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_005D: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0062: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0067: ldarg.0
IL_0068: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_006D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0072: ldarg.0
IL_0073: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0078: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfClanToJoinKingdom(TaleWorlds.CampaignSystem.Clan clan, TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_007D: stloc.0
IL_007E: ldarg.0
IL_007F: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0084: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0089: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_008E: brfalse => Label3
IL_0093: ldarg.0
IL_0094: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0099: ldarg.0
IL_009A: call       TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalParty()
IL_009F: newobj     System.Void TaleWorlds.CampaignSystem.BarterSystem.Barterables.LeaveKingdomAsClanBarterable::.ctor(TaleWorlds.CampaignSystem.Hero owner, TaleWorlds.CampaignSystem.Party.PartyBase ownerParty)
IL_00A4: ldarg.1
IL_00A5: call       System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::GetValueForFaction(TaleWorlds.CampaignSystem.IFaction faction)
IL_00AA: stloc.1
IL_00AB: ldc.r4     0
IL_00B0: stloc.2
IL_00B1: ldarg.0
IL_00B2: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00B7: ldarg.0
IL_00B8: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00BD: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00C2: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00C7: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::IsAtWarWith(TaleWorlds.CampaignSystem.IFaction other)
IL_00CC: brtrue =>  Label4
IL_00D1: ldarg.0
IL_00D2: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00D7: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00DC: ldarg.0
IL_00DD: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00E2: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00E7: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00EC: callvirt   System.Single TaleWorlds.CampaignSystem.Clan::CalculateTotalSettlementValueForFaction(TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_00F1: stloc.2
IL_00F2: ldloc.0
IL_00F3: ldloc.2
IL_00F4: ldarg.0
IL_00F5: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00FA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Kingdom::get_Leader()
IL_00FF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0104: beq =>     Label5
IL_0109: ldc.r4     1
IL_010E: br =>      Label6
IL_0113: Label5
IL_0113: ldc.r4     0.5
IL_0118: Label6
IL_0118: mul
IL_0119: sub
IL_011A: stloc.0
IL_011B: Label4
IL_011B: ldloc.0
IL_011C: ldloc.1
IL_011D: conv.r4
IL_011E: add
IL_011F: stloc.0
IL_0120: br =>      Label7
IL_0125: Label2
IL_0125: ldarg.1
IL_0126: callvirt   abstract virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.IFaction::get_MapFaction()
IL_012B: ldarg.0
IL_012C: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0131: bne.un =>  Label8
IL_0136: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_013B: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0140: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0145: ldarg.0
IL_0146: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_014B: ldarg.0
IL_014C: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0151: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0156: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfKingdomToGetClan(TaleWorlds.CampaignSystem.Kingdom kingdom, TaleWorlds.CampaignSystem.Clan clan)
IL_015B: stloc.0
IL_015C: Label1
IL_015C: Label3
IL_015C: Label7
IL_015C: Label8
IL_015C: ldloc.0
IL_015D: conv.i4
IL_015E: // end original
IL_015E: stloc      3 (System.Int32)
IL_0162: ldloca     3 (System.Int32)
IL_0166: ldarg      1
IL_016A: ldarg.0
IL_016B: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0170: call       static System.Void KaosesTweaks.Patches.BTBarterablePatches::Postfix(System.Int32& __result, TaleWorlds.CampaignSystem.IFaction factionForEvaluation, TaleWorlds.CampaignSystem.Kingdom ___TargetKingdom)
IL_0175: ldloc      3 (System.Int32)
IL_0179: ret
DONE

### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::GetPlayerMaximumTroopCountForHideoutMission(TaleWorlds.CampaignSystem.Party.MobileParty party)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel.GetPlayerMaximumTroopCountForHideoutMission_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel this, TaleWorlds.CampaignSystem.Party.MobileParty party)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      1 (System.Int32)
IL_0009: ldc.i4     0
IL_000E: stloc      2 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      2 (System.Boolean)
IL_0017: ldloc      2 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     1 (System.Int32)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.BTTroopCountForHidoutMission::Prefix(System.Int32& __result)
IL_0029: stloc      2 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      2 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: ldc.r4     10
IL_003C: stloc.0
IL_003D: ldarg.1
IL_003E: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0043: ldc.i4.0
IL_0044: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::HasPerk(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk, System.Boolean checkSecondaryRole)
IL_0049: brfalse => Label2
IL_004E: ldloc.0
IL_004F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0054: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0059: add
IL_005A: stloc.0
IL_005B: Label2
IL_005B: ldloc.0
IL_005C: call       static System.Int32 TaleWorlds.Library.MathF::Round(System.Single f)
IL_0061: // end original
IL_0061: stloc      1 (System.Int32)
IL_0065: Label0
IL_0065: ldloc      1 (System.Int32)
IL_0069: ret
DONE

### Patch: TaleWorlds.CampaignSystem.ExplainedNumber TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::CalculateMobilePartyMemberSizeLimit(TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
### Note: A buffer for the returned struct is used. That requires an extra IntPtr argument before the first real argument
### Replacement: static System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel.CalculateMobilePartyMemberSizeLimit_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel this, System.IntPtr retbuf, TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: Local var 1: System.Nullable`1<System.Boolean>
IL_0000: Local var 2: System.Boolean
IL_0000: Local var 3: System.Nullable`1<System.Boolean>
IL_0000: Local var 4: System.Int32
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>
IL_0000: Local var 7: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0004: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_000A: // start original
IL_000A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_000C: ldc.r4     20
IL_0011: ldarg.3
IL_0012: ldarg.0
IL_0013: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_baseSizeText
IL_0018: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::.ctor(System.Single baseNumber, System.Boolean includeDescriptions, TaleWorlds.Localization.TextObject baseText)
IL_001D: ldarg.2
IL_001E: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0023: brfalse => Label0
IL_0028: ldarg.2
IL_0029: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_002E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0033: brfalse => Label1
IL_0038: ldarg.2
IL_0039: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_003E: brtrue =>  Label2
IL_0043: ldarg.2
IL_0044: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0049: brfalse => Label3
IL_004E: ldarg.2
IL_004F: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0054: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0059: brfalse => Label4
IL_005E: ldarg.2
IL_005F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0064: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0069: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_006E: ldarg.2
IL_006F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0074: bne.un =>  Label5
IL_0079: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_007B: ldc.r4     20
IL_0080: ldarg.0
IL_0081: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_factionLeaderText
IL_0086: ldnull
IL_0087: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_008C: Label3
IL_008C: Label4
IL_008C: Label5
IL_008C: ldarg.2
IL_008D: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0092: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_0097: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_009C: brfalse => Label6
IL_00A1: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00A3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00A8: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00AD: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00B2: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00B7: ldnull
IL_00B8: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00BD: Label6
IL_00BD: ldarg.2
IL_00BE: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00C3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00C8: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00CD: brfalse => Label7
IL_00D2: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00D4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00D9: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00DE: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00E3: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00E8: ldnull
IL_00E9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00EE: Label7
IL_00EE: ldarg.2
IL_00EF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_00F9: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00FE: brfalse => Label8
IL_0103: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0105: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_010A: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_010F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_0114: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0119: ldnull
IL_011A: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_011F: Label8
IL_011F: ldarg.2
IL_0120: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0125: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_012A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_012F: brfalse => Label9
IL_0134: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0136: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_013B: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0140: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_0145: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_014A: ldnull
IL_014B: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0150: Label9
IL_0150: ldarg.2
IL_0151: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0156: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_015B: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0160: brfalse => Label10
IL_0165: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0167: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_016C: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0171: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_0176: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_017B: ldnull
IL_017C: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0181: Label10
IL_0181: ldarg.2
IL_0182: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0187: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_018C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0191: brfalse => Label11
IL_0196: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0198: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_019D: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01A2: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_01A7: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01AC: ldnull
IL_01AD: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01B2: Label11
IL_01B2: ldarg.2
IL_01B3: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_01B8: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01BD: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_01C2: brfalse => Label12
IL_01C7: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_01C9: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01CE: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01D3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01D8: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01DD: ldnull
IL_01DE: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01E3: Label12
IL_01E3: ldarg.2
IL_01E4: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_01E9: dup
IL_01EA: brtrue =>  Label13
IL_01EF: pop
IL_01F0: ldc.i4.0
IL_01F1: br =>      Label14
IL_01F6: Label13
IL_01F6: call       virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_01FB: dup
IL_01FC: brtrue =>  Label15
IL_0201: pop
IL_0202: ldloca.s   3 (System.Nullable`1[System.Boolean])
IL_0204: initobj    System.Nullable`1[System.Boolean]
IL_020A: ldloc.3
IL_020B: br =>      Label16
IL_0210: Label15
IL_0210: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0215: call       System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_021A: newobj     System.Void System.Nullable`1<System.Boolean>::.ctor(System.Boolean value)
IL_021F: Label16
IL_021F: stloc.1
IL_0220: ldc.i4.1
IL_0221: stloc.2
IL_0222: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_0224: call       System.Boolean System.Nullable`1<System.Boolean>::GetValueOrDefault()
IL_0229: ldloc.2
IL_022A: ceq
IL_022C: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_022E: call       System.Boolean System.Nullable`1<System.Boolean>::get_HasValue()
IL_0233: and
IL_0234: Label14
IL_0234: brfalse => Label17
IL_0239: ldc.i4.0
IL_023A: stloc.s    4 (System.Int32)
IL_023C: ldarg.2
IL_023D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_0242: callvirt   virtual TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.CampaignSystem.Clan::get_Settlements()
IL_0247: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement>::GetEnumerator()
IL_024C: stloc.s    6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
.try
{
	IL_024E: br =>      Label18
	IL_0253: Label20
	IL_0253: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0255: call       virtual TaleWorlds.CampaignSystem.Settlements.Settlement System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::get_Current()
	IL_025A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Settlements.Settlement::get_IsTown()
	IL_025F: brfalse => Label19
	IL_0264: ldloc.s    4 (System.Int32)
	IL_0266: ldc.i4.1
	IL_0267: add
	IL_0268: stloc.s    4 (System.Int32)
	IL_026A: Label18
	IL_026A: Label19
	IL_026A: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_026C: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::MoveNext()
	IL_0271: brtrue =>  Label20
	IL_0276: leave =>   Label21
	IL_027B: leave =>   (autogenerated)
} // end try
.finally
{
	IL_0280: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0282: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement]
	IL_0288: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_028D: endfinally
	IL_028E: leave =>   (autogenerated)
} // end handler
IL_028F: Label21
IL_028F: ldloc.s    4 (System.Int32)
IL_0291: conv.r4
IL_0292: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0297: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_029C: mul
IL_029D: stloc.s    5 (System.Single)
IL_029F: ldloc.s    5 (System.Single)
IL_02A1: ldc.r4     0
IL_02A6: ble.un =>  Label22
IL_02AB: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_02AD: ldloc.s    5 (System.Single)
IL_02AF: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_02B4: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_02B9: ldnull
IL_02BA: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_02BF: Label17
IL_02BF: Label22
IL_02BF: ldarg.2
IL_02C0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02C5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02CA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_02CF: ldarg.2
IL_02D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02D5: bne.un =>  Label23
IL_02DA: ldarg.2
IL_02DB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02E0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02E5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_02EA: ldc.i4.5
IL_02EB: blt =>     Label24
IL_02F0: ldarg.2
IL_02F1: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_02F6: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_02FB: brfalse => Label25
IL_0300: ldarg.2
IL_0301: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0306: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_030B: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_0310: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_0315: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_031A: brfalse => Label26
IL_031F: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0321: ldc.r4     40
IL_0326: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_032B: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0330: ldnull
IL_0331: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0336: Label24
IL_0336: Label25
IL_0336: Label26
IL_0336: ldarg.2
IL_0337: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_033C: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0341: brfalse => Label27
IL_0346: ldarg.2
IL_0347: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_034C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0351: ldarg.2
IL_0352: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0357: bne.un =>  Label28
IL_035C: ldarg.2
IL_035D: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0362: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_0367: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_036C: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0371: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_0376: brfalse => Label29
IL_037B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_037D: ldc.r4     60
IL_0382: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0387: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_038C: ldnull
IL_038D: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0392: Label27
IL_0392: Label28
IL_0392: Label29
IL_0392: ldarg.2
IL_0393: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0398: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_039D: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03A2: ldc.i4.0
IL_03A3: ble =>     Label30
IL_03A8: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03AA: ldarg.2
IL_03AB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03B0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03B5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03BA: ldc.i4.s   25
IL_03BC: mul
IL_03BD: conv.r4
IL_03BE: ldarg.0
IL_03BF: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_03C4: ldnull
IL_03C5: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_03CA: br =>      Label31
IL_03CF: Label23
IL_03CF: ldarg.2
IL_03D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03D5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03DA: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03DF: ldc.i4.0
IL_03E0: ble =>     Label32
IL_03E5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03E7: ldarg.2
IL_03E8: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03ED: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03F2: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03F7: ldc.i4.s   15
IL_03F9: mul
IL_03FA: conv.r4
IL_03FB: ldarg.0
IL_03FC: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_0401: ldnull
IL_0402: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0407: Label30
IL_0407: Label31
IL_0407: Label32
IL_0407: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0409: ldarg.2
IL_040A: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_EffectiveQuartermaster()
IL_040F: call       static TaleWorlds.Core.SkillObject TaleWorlds.Core.DefaultSkills::get_Steward()
IL_0414: callvirt   System.Int32 TaleWorlds.CampaignSystem.Hero::GetSkillValue(TaleWorlds.Core.SkillObject skill)
IL_0419: ldc.i4.4
IL_041A: div
IL_041B: conv.r4
IL_041C: ldarg.0
IL_041D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_quarterMasterText
IL_0422: ldnull
IL_0423: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0428: ldarg.0
IL_0429: ldarg.2
IL_042A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_042C: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddMobilePartyLeaderPartySizePerkEffects(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_0431: ldarg.0
IL_0432: ldarg.2
IL_0433: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0435: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddUltimateLeaderPerkEffectForPartySize(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_043A: ldsfld     System.Boolean TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_addAdditionalPartySizeAsCheat
IL_043F: brfalse => Label33
IL_0444: ldarg.2
IL_0445: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsMainParty()
IL_044A: brfalse => Label34
IL_044F: call       static TaleWorlds.Core.Game TaleWorlds.Core.Game::get_Current()
IL_0454: callvirt   System.Boolean TaleWorlds.Core.Game::get_CheatMode()
IL_0459: brfalse => Label35
IL_045E: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0460: ldc.r4     5000
IL_0465: ldstr      "{=!}Additional size from extra party cheat"
IL_046A: ldnull
IL_046B: newobj     System.Void TaleWorlds.Localization.TextObject::.ctor(System.String value, System.Collections.Generic.Dictionary`2<System.String, System.Object> attributes)
IL_0470: ldnull
IL_0471: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0476: br =>      Label36
IL_047B: Label0
IL_047B: Label1
IL_047B: Label2
IL_047B: ldarg.2
IL_047C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_0481: brfalse => Label37
IL_0486: ldarg.2
IL_0487: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_048C: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_0491: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0496: bne.un =>  Label38
IL_049B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_049D: ldc.r4     10
IL_04A2: ldarg.0
IL_04A3: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_04A8: ldnull
IL_04A9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_04AE: br =>      Label39
IL_04B3: Label38
IL_04B3: ldarg.2
IL_04B4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04B9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04BE: dup
IL_04BF: brtrue =>  Label40
IL_04C4: pop
IL_04C5: ldc.i4.0
IL_04C6: br =>      Label41
IL_04CB: Label40
IL_04CB: call       System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsNotable()
IL_04D0: Label41
IL_04D0: brfalse => Label42
IL_04D5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_04D7: ldc.i4.s   10
IL_04D9: ldarg.2
IL_04DA: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04DF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04E4: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_04E9: ldc.r4     100
IL_04EE: blt =>     Label43
IL_04F3: ldarg.2
IL_04F4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04F9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04FE: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_0503: ldc.r4     200
IL_0508: blt =>     Label44
IL_050D: ldc.i4.3
IL_050E: br =>      Label45
IL_0513: Label44
IL_0513: ldc.i4.2
IL_0514: br =>      Label46
IL_0519: Label43
IL_0519: ldc.i4.1
IL_051A: Label45
IL_051A: Label46
IL_051A: mul
IL_051B: conv.r4
IL_051C: ldarg.0
IL_051D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0522: ldnull
IL_0523: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0528: br =>      Label47
IL_052D: Label37
IL_052D: ldarg.2
IL_052E: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_0533: brfalse => Label48
IL_0538: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_053A: ldc.r4     40
IL_053F: ldarg.0
IL_0540: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0545: ldnull
IL_0546: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_054B: Label33
IL_054B: Label34
IL_054B: Label35
IL_054B: Label36
IL_054B: Label39
IL_054B: Label42
IL_054B: Label47
IL_054B: Label48
IL_054B: ldloc.0
IL_054C: // end original
IL_054C: stloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0550: ldarg      2
IL_0554: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0558: call       static System.Void KaosesTweaks.Patches.DefaultPartySizeLimitModelPatch::Postfix(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& __result)
IL_055D: ldloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0561: ldloca     8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0565: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_056B: stloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_056F: ldarg.1
IL_0570: ldloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0574: stobj      TaleWorlds.CampaignSystem.ExplainedNumber
IL_0579: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Party.MobileParty::FillPartyStacks(TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Party.MobileParty::TaleWorlds.CampaignSystem.Party.MobileParty.FillPartyStacks_Patch1(TaleWorlds.CampaignSystem.Party.MobileParty this, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Single
IL_0000: Local var 4: System.Single
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Single
IL_0000: Local var 7: System.Single
IL_0000: Local var 8: System.Single
IL_0000: Local var 9: System.Single
IL_0000: Local var 10: System.Single
IL_0000: Local var 11: System.Int32
IL_0000: Local var 12: System.Int32
IL_0000: Local var 13: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 14: System.Int32
IL_0000: Local var 15: System.Int32
IL_0000: Local var 16: System.Single
IL_0000: Local var 17: System.Single
IL_0000: Local var 18: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 19: System.Int32
IL_0000: Local var 20: System.Int32
IL_0000: Local var 21: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      21 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      21 (System.Boolean)
IL_000E: ldloc      21 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg      1
IL_001F: ldarg      2
IL_0023: call       static System.Boolean KaosesTweaks.Patches.TitanFillPartyStacksPatch::Prefix(TaleWorlds.CampaignSystem.Party.MobileParty& __instance, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0028: stloc      21 (System.Boolean)
IL_002C: Label1
IL_002C: nop
IL_002D: ldloc      21 (System.Boolean)
IL_0031: brfalse => Label0
IL_0036: // start original
IL_0036: ldarg.0
IL_0037: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsBandit()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0046: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_004B: stloc.0
IL_004C: ldc.r4     0.4
IL_0051: ldc.r4     0.8
IL_0056: ldloc.0
IL_0057: mul
IL_0058: add
IL_0059: stloc.1
IL_005A: ldc.i4.2
IL_005B: call       static System.Int32 TaleWorlds.Core.MBRandom::RandomInt(System.Int32 maxValue)
IL_0060: dup
IL_0061: brfalse => Label3
IL_0066: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_006B: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0070: mul
IL_0071: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0076: mul
IL_0077: ldc.r4     4
IL_007C: mul
IL_007D: br =>      Label4
IL_0082: Label3
IL_0082: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0087: Label4
IL_0087: stloc.2
IL_0088: brfalse => Label5
IL_008D: ldc.r4     1
IL_0092: ldloc.2
IL_0093: add
IL_0094: br =>      Label6
IL_0099: Label5
IL_0099: ldloc.2
IL_009A: ldc.r4     0.8
IL_009F: mul
IL_00A0: ldc.r4     0.2
IL_00A5: add
IL_00A6: Label6
IL_00A6: stloc.3
IL_00A7: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00AC: stloc.s    4 (System.Single)
IL_00AE: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00B3: stloc.s    5 (System.Single)
IL_00B5: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00BA: stloc.s    6 (System.Single)
IL_00BC: ldarg.1
IL_00BD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00C2: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_00C7: ldc.i4.0
IL_00C8: bgt =>     Label7
IL_00CD: ldc.r4     0
IL_00D2: br =>      Label8
IL_00D7: Label7
IL_00D7: ldarg.1
IL_00D8: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00DD: ldc.i4.0
IL_00DE: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00E3: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_00E8: conv.r4
IL_00E9: ldloc.1
IL_00EA: ldloc.3
IL_00EB: mul
IL_00EC: ldloc.s    4 (System.Single)
IL_00EE: mul
IL_00EF: ldarg.1
IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00F5: ldc.i4.0
IL_00F6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00FB: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0100: ldarg.1
IL_0101: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0106: ldc.i4.0
IL_0107: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_010C: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0111: sub
IL_0112: conv.r4
IL_0113: mul
IL_0114: add
IL_0115: Label8
IL_0115: stloc.s    7 (System.Single)
IL_0117: ldarg.1
IL_0118: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_011D: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0122: ldc.i4.1
IL_0123: bgt =>     Label9
IL_0128: ldc.r4     0
IL_012D: br =>      Label10
IL_0132: Label9
IL_0132: ldarg.1
IL_0133: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0138: ldc.i4.1
IL_0139: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_013E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0143: conv.r4
IL_0144: ldloc.1
IL_0145: ldloc.3
IL_0146: mul
IL_0147: ldloc.s    5 (System.Single)
IL_0149: mul
IL_014A: ldarg.1
IL_014B: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0150: ldc.i4.1
IL_0151: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0156: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_015B: ldarg.1
IL_015C: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0161: ldc.i4.1
IL_0162: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0167: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_016C: sub
IL_016D: conv.r4
IL_016E: mul
IL_016F: add
IL_0170: Label10
IL_0170: stloc.s    8 (System.Single)
IL_0172: ldarg.1
IL_0173: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0178: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_017D: ldc.i4.2
IL_017E: bgt =>     Label11
IL_0183: ldc.r4     0
IL_0188: br =>      Label12
IL_018D: Label11
IL_018D: ldarg.1
IL_018E: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0193: ldc.i4.2
IL_0194: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0199: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_019E: conv.r4
IL_019F: ldloc.1
IL_01A0: ldloc.3
IL_01A1: mul
IL_01A2: ldloc.s    6 (System.Single)
IL_01A4: mul
IL_01A5: ldarg.1
IL_01A6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01AB: ldc.i4.2
IL_01AC: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01B1: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_01B6: ldarg.1
IL_01B7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01BC: ldc.i4.2
IL_01BD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01C2: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_01C7: sub
IL_01C8: conv.r4
IL_01C9: mul
IL_01CA: add
IL_01CB: Label12
IL_01CB: stloc.s    9 (System.Single)
IL_01CD: ldarg.0
IL_01CE: ldarg.1
IL_01CF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01D4: ldc.i4.0
IL_01D5: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01DA: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_01DF: ldloc.s    7 (System.Single)
IL_01E1: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_01E6: ldc.i4.0
IL_01E7: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_01EC: pop
IL_01ED: ldarg.1
IL_01EE: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01F3: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_01F8: ldc.i4.1
IL_01F9: ble =>     Label13
IL_01FE: ldarg.0
IL_01FF: ldarg.1
IL_0200: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0205: ldc.i4.1
IL_0206: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_020B: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0210: ldloc.s    8 (System.Single)
IL_0212: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0217: ldc.i4.0
IL_0218: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_021D: pop
IL_021E: Label13
IL_021E: ldarg.1
IL_021F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0224: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0229: ldc.i4.2
IL_022A: ble =>     Label14
IL_022F: ldarg.0
IL_0230: ldarg.1
IL_0231: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0236: ldc.i4.2
IL_0237: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_023C: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0241: ldloc.s    9 (System.Single)
IL_0243: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0248: ldc.i4.0
IL_0249: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_024E: pop
IL_024F: br =>      Label39
IL_0254: Label2
IL_0254: ldarg.2
IL_0255: ldc.i4.0
IL_0256: bge =>     Label15
IL_025B: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0260: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_0265: stloc.s    10 (System.Single)
IL_0267: ldc.i4.0
IL_0268: stloc.s    11 (System.Int32)
IL_026A: br =>      Label16
IL_026F: Label17
IL_026F: ldloc.s    10 (System.Single)
IL_0271: ldarg.1
IL_0272: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0277: ldloc.s    11 (System.Int32)
IL_0279: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_027E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0283: ldarg.1
IL_0284: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0289: ldloc.s    11 (System.Int32)
IL_028B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0290: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0295: sub
IL_0296: conv.r4
IL_0297: mul
IL_0298: conv.i4
IL_0299: ldarg.1
IL_029A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_029F: ldloc.s    11 (System.Int32)
IL_02A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02A6: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_02AB: add
IL_02AC: stloc.s    12 (System.Int32)
IL_02AE: ldarg.1
IL_02AF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02B4: ldloc.s    11 (System.Int32)
IL_02B6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02BB: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_02C0: stloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C2: ldarg.0
IL_02C3: ldloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C5: ldloc.s    12 (System.Int32)
IL_02C7: ldc.i4.0
IL_02C8: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_02CD: pop
IL_02CE: ldloc.s    11 (System.Int32)
IL_02D0: ldc.i4.1
IL_02D1: add
IL_02D2: stloc.s    11 (System.Int32)
IL_02D4: Label16
IL_02D4: ldloc.s    11 (System.Int32)
IL_02D6: ldarg.1
IL_02D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02DC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_02E1: blt =>     Label17
IL_02E6: br =>      Label40
IL_02EB: Label15
IL_02EB: ldc.i4.0
IL_02EC: stloc.s    14 (System.Int32)
IL_02EE: br =>      Label18
IL_02F3: Label38
IL_02F3: ldc.i4.m1
IL_02F4: stloc.s    15 (System.Int32)
IL_02F6: ldc.r4     0
IL_02FB: stloc.s    16 (System.Single)
IL_02FD: ldc.i4.0
IL_02FE: stloc.s    19 (System.Int32)
IL_0300: br =>      Label19
IL_0305: Label26
IL_0305: ldloc.s    16 (System.Single)
IL_0307: ldarg.0
IL_0308: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_030D: brfalse => Label20
IL_0312: ldarg.1
IL_0313: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0318: ldloc.s    19 (System.Int32)
IL_031A: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_031F: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0324: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_0329: brtrue =>  Label21
IL_032E: Label20
IL_032E: ldarg.0
IL_032F: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_0334: brfalse => Label22
IL_0339: ldarg.1
IL_033A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_033F: ldloc.s    19 (System.Int32)
IL_0341: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0346: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_034B: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0350: brfalse => Label23
IL_0355: Label22
IL_0355: ldc.r4     1
IL_035A: br =>      Label24
IL_035F: Label23
IL_035F: ldc.r4     2
IL_0364: br =>      Label25
IL_0369: Label21
IL_0369: ldc.r4     6
IL_036E: Label24
IL_036E: Label25
IL_036E: ldarg.1
IL_036F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0374: ldloc.s    19 (System.Int32)
IL_0376: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_037B: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0380: ldarg.1
IL_0381: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0386: ldloc.s    19 (System.Int32)
IL_0388: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_038D: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0392: add
IL_0393: conv.r4
IL_0394: ldc.r4     2
IL_0399: div
IL_039A: mul
IL_039B: add
IL_039C: stloc.s    16 (System.Single)
IL_039E: ldloc.s    19 (System.Int32)
IL_03A0: ldc.i4.1
IL_03A1: add
IL_03A2: stloc.s    19 (System.Int32)
IL_03A4: Label19
IL_03A4: ldloc.s    19 (System.Int32)
IL_03A6: ldarg.1
IL_03A7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03AC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_03B1: blt =>     Label26
IL_03B6: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_03BB: ldloc.s    16 (System.Single)
IL_03BD: mul
IL_03BE: stloc.s    17 (System.Single)
IL_03C0: ldc.i4.0
IL_03C1: stloc.s    20 (System.Int32)
IL_03C3: br =>      Label27
IL_03C8: Label36
IL_03C8: ldloc.s    17 (System.Single)
IL_03CA: ldarg.0
IL_03CB: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03D0: brfalse => Label28
IL_03D5: ldarg.1
IL_03D6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03DB: ldloc.s    20 (System.Int32)
IL_03DD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_03E2: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_03E7: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_03EC: brtrue =>  Label29
IL_03F1: Label28
IL_03F1: ldarg.0
IL_03F2: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03F7: brfalse => Label30
IL_03FC: ldarg.1
IL_03FD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0402: ldloc.s    20 (System.Int32)
IL_0404: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0409: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_040E: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0413: brfalse => Label31
IL_0418: Label30
IL_0418: ldc.r4     1
IL_041D: br =>      Label32
IL_0422: Label31
IL_0422: ldc.r4     2
IL_0427: br =>      Label33
IL_042C: Label29
IL_042C: ldc.r4     6
IL_0431: Label32
IL_0431: Label33
IL_0431: ldarg.1
IL_0432: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0437: ldloc.s    20 (System.Int32)
IL_0439: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_043E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0443: ldarg.1
IL_0444: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0449: ldloc.s    20 (System.Int32)
IL_044B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0450: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0455: add
IL_0456: conv.r4
IL_0457: ldc.r4     2
IL_045C: div
IL_045D: mul
IL_045E: sub
IL_045F: stloc.s    17 (System.Single)
IL_0461: ldloc.s    17 (System.Single)
IL_0463: ldc.r4     0
IL_0468: bge.un =>  Label34
IL_046D: ldloc.s    20 (System.Int32)
IL_046F: stloc.s    15 (System.Int32)
IL_0471: br =>      Label35
IL_0476: Label34
IL_0476: ldloc.s    20 (System.Int32)
IL_0478: ldc.i4.1
IL_0479: add
IL_047A: stloc.s    20 (System.Int32)
IL_047C: Label27
IL_047C: ldloc.s    20 (System.Int32)
IL_047E: ldarg.1
IL_047F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0484: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0489: blt =>     Label36
IL_048E: Label35
IL_048E: ldloc.s    15 (System.Int32)
IL_0490: ldc.i4.0
IL_0491: bge =>     Label37
IL_0496: ldc.i4.0
IL_0497: stloc.s    15 (System.Int32)
IL_0499: Label37
IL_0499: ldarg.1
IL_049A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_049F: ldloc.s    15 (System.Int32)
IL_04A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_04A6: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_04AB: stloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04AD: ldarg.0
IL_04AE: ldloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04B0: ldc.i4.1
IL_04B1: ldc.i4.0
IL_04B2: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_04B7: pop
IL_04B8: ldloc.s    14 (System.Int32)
IL_04BA: ldc.i4.1
IL_04BB: add
IL_04BC: stloc.s    14 (System.Int32)
IL_04BE: Label18
IL_04BE: ldloc.s    14 (System.Int32)
IL_04C0: ldarg.2
IL_04C1: blt =>     Label38
IL_04C6: ldarg.0
IL_04C7: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_04CC: pop
IL_04CD: // end original
IL_04CD: Label14
IL_04CD: Label39
IL_04CD: Label40
IL_04CD: Label0
IL_04CD: ret
DONE

### Patch: System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_player_can_open_courtship_on_condition()
### Replacement: static System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_player_can_open_courtship_on_condition_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: System.Boolean
IL_0000: Local var 1: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4     0
IL_000E: stloc      1 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      1 (System.Boolean)
IL_0017: ldloc      1 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     0 (System.Boolean)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix1(System.Boolean& __result)
IL_0029: stloc      1 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      1 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0046: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_004B: dup
IL_004C: brtrue =>  Label3
IL_0051: pop
IL_0052: ldc.i4.0
IL_0053: br =>      Label4
IL_0058: Label3
IL_0058: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsMinorFaction()
IL_005D: Label4
IL_005D: brtrue =>  Label5
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0067: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsPrisoner()
IL_006C: brfalse => Label6
IL_0071: Label2
IL_0071: Label5
IL_0071: ldc.i4.0
IL_0072: br =>      Label15
IL_0077: Label6
IL_0077: ldarg.0
IL_0078: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007D: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0082: call       System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::MarriageCourtshipPossibility(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0087: brfalse => Label7
IL_008C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_009B: brtrue =>  Label8
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_00AA: brfalse => Label9
IL_00AF: ldstr      "FLIRTATION_LINE"
IL_00B4: ldstr      "{=bjJs0eeB}My lord, I note that you have not yet taken a wife."
IL_00B9: ldc.i4.0
IL_00BA: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00BF: br =>      Label10
IL_00C4: Label9
IL_00C4: ldstr      "FLIRTATION_LINE"
IL_00C9: ldstr      "{=v1hC6Aem}My lady, I wish to profess myself your most ardent admirer."
IL_00CE: ldc.i4.0
IL_00CF: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00D4: Label10
IL_00D4: ldc.i4.1
IL_00D5: br =>      Label16
IL_00DA: Label7
IL_00DA: Label8
IL_00DA: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00DF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00E4: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00E9: ldc.i4.1
IL_00EA: beq =>     Label11
IL_00EF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00F9: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00FE: ldc.i4.2
IL_00FF: bne.un =>  Label12
IL_0104: Label11
IL_0104: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0109: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_010E: brfalse => Label13
IL_0113: ldstr      "FLIRTATION_LINE"
IL_0118: ldstr      "{=2WnhUBMM}My lord, may you give me another chance to prove myself?"
IL_011D: ldc.i4.0
IL_011E: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0123: br =>      Label14
IL_0128: Label13
IL_0128: ldstr      "FLIRTATION_LINE"
IL_012D: ldstr      "{=4iTaEZKg}My lady, may you give me another chance to prove myself?"
IL_0132: ldc.i4.0
IL_0133: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0138: Label14
IL_0138: ldc.i4.1
IL_0139: br =>      Label17
IL_013E: Label12
IL_013E: ldc.i4.0
IL_013F: // end original
IL_013F: Label15
IL_013F: Label16
IL_013F: Label17
IL_013F: stloc      0 (System.Boolean)
IL_0143: Label0
IL_0143: ldloc      0 (System.Boolean)
IL_0147: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_start_courtship_persuasion_pt1_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_start_courtship_persuasion_pt1_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix2(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_005C: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0061: ldc.i4.3
IL_0062: bne.un =>  Label2
IL_0067: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: ldc.i4.4
IL_0072: call       static System.Void TaleWorlds.CampaignSystem.Actions.ChangeRomanticStateAction::Apply(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2, TaleWorlds.CampaignSystem.RomanceLevelEnum toWhat)
IL_0077: Label2
IL_0077: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0081: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0086: stloc.0
IL_0087: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_008C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_009B: bne.un =>  Label3
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: stloc.0
IL_00A6: Label3
IL_00A6: ldarg.0
IL_00A7: ldarg.0
IL_00A8: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00AD: ldloc.0
IL_00AE: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage1(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_00B3: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B8: ldarg.0
IL_00B9: ldarg.0
IL_00BA: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00BF: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_00C4: conv.r4
IL_00C5: ldc.r4     1
IL_00CA: mul
IL_00CB: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00D0: ldc.r4     0
IL_00D5: stloc.1
IL_00D6: ldarg.0
IL_00D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00DC: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00E1: stloc.2
.try
{
	IL_00E2: br =>      Label4
	IL_00E7: Label17
	IL_00E7: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00E9: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00EE: stloc.3
	IL_00EF: ldarg.0
	IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00F5: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00FA: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00FC: br =>      Label5
		IL_0101: Label15
		IL_0101: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0103: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_0108: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010A: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_0111: ldloc.3
		IL_0112: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_0117: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_011C: brfalse => Label6
		IL_0121: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_0123: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0128: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012A: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012C: switch =>  Labels7,8,9,10
		IL_0141: br =>      Label11
		IL_0146: Label9
		IL_0146: ldloc.1
		IL_0147: ldarg.0
		IL_0148: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_014D: add
		IL_014E: stloc.1
		IL_014F: br =>      Label12
		IL_0154: Label10
		IL_0154: ldloc.1
		IL_0155: ldarg.0
		IL_0156: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_015B: add
		IL_015C: stloc.1
		IL_015D: br =>      Label13
		IL_0162: Label7
		IL_0162: ldloc.1
		IL_0163: ldarg.0
		IL_0164: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0169: sub
		IL_016A: stloc.1
		IL_016B: br =>      Label14
		IL_0170: Label8
		IL_0170: ldloc.1
		IL_0171: ldc.r4     0
		IL_0176: sub
		IL_0177: stloc.1
		IL_0178: Label5
		IL_0178: Label6
		IL_0178: Label11
		IL_0178: Label12
		IL_0178: Label13
		IL_0178: Label14
		IL_0178: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_017F: brtrue =>  Label15
		IL_0184: leave =>   Label16
		IL_0189: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_018E: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_019B: endfinally
		IL_019C: leave =>   (autogenerated)
	} // end handler
	IL_019D: Label4
	IL_019D: Label16
	IL_019D: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_019F: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_01A4: brtrue =>  Label17
	IL_01A9: leave =>   Label18
	IL_01AE: leave =>   (autogenerated)
} // end try
.finally
{
	IL_01B3: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_01B5: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_01BB: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_01C0: endfinally
	IL_01C1: leave =>   (autogenerated)
} // end handler
IL_01C2: Label18
IL_01C2: ldarg.0
IL_01C3: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01C8: ldarg.0
IL_01C9: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01CE: ldarg.0
IL_01CF: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01D4: ldarg.0
IL_01D5: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01DA: ldarg.0
IL_01DB: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01E0: ldarg.0
IL_01E1: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01E6: ldloc.1
IL_01E7: ldc.i4.3
IL_01E8: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01ED: // end original
IL_01ED: Label0
IL_01ED: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_continue_courtship_stage_2_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_continue_courtship_stage_2_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix3(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_005C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0061: stloc.0
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0067: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0076: bne.un =>  Label2
IL_007B: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0080: stloc.0
IL_0081: Label2
IL_0081: ldarg.0
IL_0082: ldarg.0
IL_0083: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0088: ldloc.0
IL_0089: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage2(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_008E: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0093: ldarg.0
IL_0094: ldarg.0
IL_0095: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_009A: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_009F: conv.r4
IL_00A0: ldc.r4     1
IL_00A5: mul
IL_00A6: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00AB: ldc.r4     0
IL_00B0: stloc.1
IL_00B1: ldarg.0
IL_00B2: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B7: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00BC: stloc.2
.try
{
	IL_00BD: br =>      Label3
	IL_00C2: Label16
	IL_00C2: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00C4: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00C9: stloc.3
	IL_00CA: ldarg.0
	IL_00CB: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00D0: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00D5: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00D7: br =>      Label4
		IL_00DC: Label14
		IL_00DC: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_00DE: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_00E3: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E5: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E7: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_00EC: ldloc.3
		IL_00ED: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_00F2: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_00F7: brfalse => Label5
		IL_00FC: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00FE: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0103: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0105: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0107: switch =>  Labels6,7,8,9
		IL_011C: br =>      Label10
		IL_0121: Label8
		IL_0121: ldloc.1
		IL_0122: ldarg.0
		IL_0123: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_0128: add
		IL_0129: stloc.1
		IL_012A: br =>      Label11
		IL_012F: Label9
		IL_012F: ldloc.1
		IL_0130: ldarg.0
		IL_0131: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_0136: add
		IL_0137: stloc.1
		IL_0138: br =>      Label12
		IL_013D: Label6
		IL_013D: ldloc.1
		IL_013E: ldarg.0
		IL_013F: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0144: sub
		IL_0145: stloc.1
		IL_0146: br =>      Label13
		IL_014B: Label7
		IL_014B: ldloc.1
		IL_014C: ldc.r4     0
		IL_0151: sub
		IL_0152: stloc.1
		IL_0153: Label4
		IL_0153: Label5
		IL_0153: Label10
		IL_0153: Label11
		IL_0153: Label12
		IL_0153: Label13
		IL_0153: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0155: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_015A: brtrue =>  Label14
		IL_015F: leave =>   Label15
		IL_0164: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_0169: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_016B: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0171: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_0176: endfinally
		IL_0177: leave =>   (autogenerated)
	} // end handler
	IL_0178: Label3
	IL_0178: Label15
	IL_0178: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_017F: brtrue =>  Label16
	IL_0184: leave =>   Label17
	IL_0189: leave =>   (autogenerated)
} // end try
.finally
{
	IL_018E: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_019B: endfinally
	IL_019C: leave =>   (autogenerated)
} // end handler
IL_019D: Label17
IL_019D: ldarg.0
IL_019E: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01A3: ldarg.0
IL_01A4: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01A9: ldarg.0
IL_01AA: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01AF: ldarg.0
IL_01B0: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01B5: ldarg.0
IL_01B6: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01BB: ldarg.0
IL_01BC: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01C1: ldloc.1
IL_01C2: ldc.i4.3
IL_01C3: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01C8: // end original
IL_01C8: Label0
IL_01C8: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Hero::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Hero::TaleWorlds.CampaignSystem.Hero.AddSkillXp_Patch1(TaleWorlds.CampaignSystem.Hero this, TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
IL_0000: Local var 0: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      0 (System.Boolean)
IL_000E: ldloc      0 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarg.0
IL_0018: ldarg      1
IL_001C: ldarga     2
IL_0020: call       static System.Void KaosesTweaks.Patches.Patches::Prefix(TaleWorlds.CampaignSystem.Hero __instance, TaleWorlds.Core.SkillObject skill, System.Single& xpAmount)
IL_0025: Label1
IL_0025: nop
IL_0026: ldloc      0 (System.Boolean)
IL_002A: brfalse => Label0
IL_002F: // start original
IL_002F: ldarg.0
IL_0030: ldfld      TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper TaleWorlds.CampaignSystem.Hero::_heroDeveloper
IL_0035: dup
IL_0036: brtrue =>  Label2
IL_003B: pop
IL_003C: br =>      Label3
IL_0041: Label2
IL_0041: ldarg.1
IL_0042: ldarg.2
IL_0043: ldc.i4.1
IL_0044: ldc.i4.1
IL_0045: callvirt   abstract virtual System.Void TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single rawXp, System.Boolean isAffectedByFocusFactor, System.Boolean shouldNotify)
IL_004A: // end original
IL_004A: Label3
IL_004A: Label0
IL_004A: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
### Replacement: static System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM..ctor_Patch1(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM this, TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
IL_0000: Local var 0: TaleWorlds.Core.EquipmentElement
IL_0000: Local var 1: System.Nullable`1<TaleWorlds.Core.EquipmentIndex>
IL_0000: Local var 2: TaleWorlds.Core.EquipmentIndex
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldc.i4.s   -5
IL_0003: stfld      System.Int32 TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_profitType
IL_0008: ldarg.0
IL_0009: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::.ctor()
IL_000E: ldarga.s   5
IL_0010: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0015: stloc.0
IL_0016: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0018: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_001D: brtrue =>  Label0
IL_0022: br =>      Label16
IL_0027: Label0
IL_0027: ldarg.0
IL_0028: ldarg.s    7
IL_002A: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_fiveStackShortcutKeyText
IL_002F: ldarg.0
IL_0030: ldarg.s    8
IL_0032: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_entireStackShortcutKeyText
IL_0037: ldarg.0
IL_0038: ldarg.s    4
IL_003A: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryMode TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_usageType
IL_003F: ldarg.0
IL_0040: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0045: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_004A: dup
IL_004B: brtrue =>  Label1
IL_0050: pop
IL_0051: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0056: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_0(TaleWorlds.CampaignSystem.Concept c)
IL_005C: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0061: dup
IL_0062: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_0067: Label1
IL_0067: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_006C: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_tradeGoodConceptObj
IL_0071: ldarg.0
IL_0072: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0077: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_007C: dup
IL_007D: brtrue =>  Label2
IL_0082: pop
IL_0083: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0088: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_1(TaleWorlds.CampaignSystem.Concept c)
IL_008E: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0093: dup
IL_0094: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_0099: Label2
IL_0099: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_009E: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_itemConceptObj
IL_00A3: ldarg.0
IL_00A4: ldarg.1
IL_00A5: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_00AA: ldarg.0
IL_00AB: ldarga.s   5
IL_00AD: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00B2: ldarga.s   5
IL_00B4: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00B9: newobj     System.Void TaleWorlds.Core.ItemRosterElement::.ctor(TaleWorlds.Core.EquipmentElement equipmentElement, System.Int32 amount)
IL_00BE: stfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_00C3: ldarg.0
IL_00C4: ldarg.s    9
IL_00C6: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemCost(System.Int32 value)
IL_00CB: ldarg.0
IL_00CC: ldarga.s   5
IL_00CE: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00D3: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemCount(System.Int32 value)
IL_00D8: ldarg.0
IL_00D9: ldc.i4.1
IL_00DA: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TransactionCount(System.Int32 value)
IL_00DF: ldarg.0
IL_00E0: ldarga.s   5
IL_00E2: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00E7: stloc.0
IL_00E8: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_00EA: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_00EF: callvirt   System.Int32 TaleWorlds.Core.ItemObject::get_Difficulty()
IL_00F4: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemLevel(System.Int32 value)
IL_00F9: ldarg.0
IL_00FA: ldarg.s    6
IL_00FC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_InventorySide(TaleWorlds.CampaignSystem.Inventory.InventorySide value)
IL_0101: ldarga.s   10
IL_0103: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0108: brfalse => Label3
IL_010D: ldarg.s    10
IL_010F: stloc.1
IL_0110: ldc.i4.m1
IL_0111: stloc.2
IL_0112: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_0114: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::GetValueOrDefault()
IL_0119: ldloc.2
IL_011A: ceq
IL_011C: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_011E: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0123: and
IL_0124: brtrue =>  Label4
IL_0129: ldarg.0
IL_012A: ldarga.s   10
IL_012C: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_Value()
IL_0131: stfld      TaleWorlds.Core.EquipmentIndex TaleWorlds.Core.ViewModelCollection.ItemVM::_itemType
IL_0136: Label3
IL_0136: Label4
IL_0136: ldarg.0
IL_0137: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::SetItemTypeId()
IL_013C: ldarg.0
IL_013D: ldarga.s   5
IL_013F: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0144: stloc.0
IL_0145: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0147: call       TaleWorlds.Localization.TextObject TaleWorlds.Core.EquipmentElement::GetModifiedItemName()
IL_014C: callvirt   virtual System.String System.Object::ToString()
IL_0151: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemDescription(System.String value)
IL_0156: ldarg.0
IL_0157: ldarga.s   5
IL_0159: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_015E: call       static System.String TaleWorlds.CampaignSystem.ViewModelCollection.CampaignUIHelper::GetItemLockStringID(TaleWorlds.Core.EquipmentElement equipmentElement)
IL_0163: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_StringId(System.String value)
IL_0168: ldarg.0
IL_0169: ldarga.s   5
IL_016B: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0170: stloc.0
IL_0171: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0173: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0178: call       static TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Clan::get_PlayerClan()
IL_017D: dup
IL_017E: brtrue =>  Label5
IL_0183: pop
IL_0184: ldnull
IL_0185: br =>      Label6
IL_018A: Label5
IL_018A: call       virtual TaleWorlds.Core.Banner TaleWorlds.CampaignSystem.Clan::get_Banner()
IL_018F: callvirt   System.String TaleWorlds.Core.Banner::Serialize()
IL_0194: Label6
IL_0194: newobj     System.Void TaleWorlds.Core.ImageIdentifierVM::.ctor(TaleWorlds.Core.ItemObject itemObject, System.String bannerCode)
IL_0199: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ImageIdentifier(TaleWorlds.Core.ImageIdentifierVM value)
IL_019E: ldarg.0
IL_019F: ldarga.s   5
IL_01A1: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01A6: stloc.0
IL_01A7: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01A9: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01AE: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01B3: ldc.i4     4194304
IL_01B8: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01BD: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsCivilianItem(System.Boolean value)
IL_01C2: ldarg.0
IL_01C3: ldarg.2
IL_01C4: brfalse => Label7
IL_01C9: ldarg.0
IL_01CA: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01CF: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01D4: stloc.0
IL_01D5: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01D7: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01DC: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01E1: ldc.i4     1024
IL_01E6: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01EB: brtrue =>  Label8
IL_01F0: Label7
IL_01F0: ldarg.2
IL_01F1: brtrue =>  Label9
IL_01F6: ldarg.0
IL_01F7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01FC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0201: stloc.0
IL_0202: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0204: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0209: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_020E: ldc.i4     2048
IL_0213: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_0218: br =>      Label10
IL_021D: Label9
IL_021D: ldc.i4.0
IL_021E: br =>      Label11
IL_0223: Label8
IL_0223: ldc.i4.1
IL_0224: Label10
IL_0224: Label11
IL_0224: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsGenderDifferent(System.Boolean value)
IL_0229: ldarg.0
IL_022A: ldarg.3
IL_022B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanCharacterUseItem(System.Boolean value)
IL_0230: ldarg.0
IL_0231: ldarga.s   5
IL_0233: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0238: stloc.0
IL_0239: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_023B: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0240: callvirt   System.Boolean TaleWorlds.Core.ItemObject::get_IsUniqueItem()
IL_0245: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsArtifact(System.Boolean value)
IL_024A: ldarg.0
IL_024B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateCanBeSlaughtered()
IL_0250: ldarg.0
IL_0251: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateHintTexts()
IL_0256: ldarg.0
IL_0257: ldarg.0
IL_0258: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_025D: dup
IL_025E: brtrue =>  Label12
IL_0263: pop
IL_0264: ldc.i4.0
IL_0265: br =>      Label13
IL_026A: Label12
IL_026A: ldarg.0
IL_026B: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_0270: ldarg.0
IL_0271: call       TaleWorlds.CampaignSystem.Inventory.InventorySide TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_InventorySide()
IL_0276: call       System.Boolean TaleWorlds.CampaignSystem.Inventory.InventoryLogic::CanDonateItem(TaleWorlds.Core.ItemRosterElement element, TaleWorlds.CampaignSystem.Inventory.InventorySide sideOfItem)
IL_027B: Label13
IL_027B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanBeDonated(System.Boolean value)
IL_0280: ldarg.0
IL_0281: ldarg.0
IL_0282: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_0287: ldarg.0
IL_0288: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_028D: ldarg.s    6
IL_028F: ldarg.0
IL_0290: ldftn      System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::OnTradeApplyTransaction(System.Int32 amount, System.Boolean isBuying)
IL_0296: newobj     System.Void System.Action`2<System.Int32, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_029B: newobj     System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, TaleWorlds.Core.ItemRosterElement itemRoster, TaleWorlds.CampaignSystem.Inventory.InventorySide side, System.Action`2<System.Int32, System.Boolean> onApplyTransaction)
IL_02A0: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TradeData(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM value)
IL_02A5: ldarg.0
IL_02A6: ldarg.0
IL_02A7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_02AC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02B1: stloc.0
IL_02B2: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02B4: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_02B9: ldc.i4.0
IL_02BA: ceq
IL_02BC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsTransferable(System.Boolean value)
IL_02C1: ldarg.0
IL_02C2: call       TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_TradeData()
IL_02C7: ldarg.0
IL_02C8: call       System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_IsTransferable()
IL_02CD: callvirt   System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::set_IsTradeable(System.Boolean value)
IL_02D2: ldarg.0
IL_02D3: ldarga.s   5
IL_02D5: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02DA: stloc.0
IL_02DB: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02DD: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_02E2: call       static TaleWorlds.CampaignSystem.Inventory.InventoryItemType TaleWorlds.CampaignSystem.Inventory.InventoryManager::GetInventoryItemTypeOfItem(TaleWorlds.Core.ItemObject item)
IL_02E7: ldc.i4     2303
IL_02EC: or
IL_02ED: ldc.i4     2303
IL_02F2: bne.un =>  Label14
IL_02F7: ldarga.s   5
IL_02F9: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02FE: stloc.0
IL_02FF: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0301: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_0306: ldc.i4.0
IL_0307: ceq
IL_0309: br =>      Label15
IL_030E: Label14
IL_030E: ldc.i4.0
IL_030F: Label15
IL_030F: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsEquipableItem(System.Boolean value)
IL_0314: ldarg.0
IL_0315: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateIsNew()
IL_031A: ldarg.0
IL_031B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateProfitType()
IL_0320: // end original
IL_0320: Label16
IL_0320: ldarg.0
IL_0321: call       static System.Void KaosesTweaks.Patches.SPItemVMPatch::Postfix(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM __instance)
IL_0326: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch3(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ldarg.0
IL_000D: call       static System.Void Bannerlord.Harmony.SubModule::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0012: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch2(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ret
DONE

### Harmony id=KaosesTweaks.harmony, version=2.2.2.0, location=C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\Bannerlord.Harmony\bin\Win64_Shipping_Client\0Harmony.dll, env/clr=4.0.30319.42000, platform=Win32NT, ptrsize:runtime/env=8/Bits64, Windows
### Started from virtual System.Void KaosesTweaks.SubModule::OnBeforeInitialModuleScreenSetAsRoot(), location C:\Program Files (x86)\Steam\steamapps\common\Mount & Blade II Bannerlord\Modules\KaosesTweaks\bin\Win64_Shipping_Client\KaosesTweaks.dll
### At 2022-08-06 03.21.09
### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::GetUnitValueForFaction(TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable.GetUnitValueForFaction_Patch1(TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable this, TaleWorlds.CampaignSystem.IFaction factionForEvaluation)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Int32
IL_0000: ldc.i4     0
IL_0005: stloc      3 (System.Int32)
IL_0009: // start original
IL_0009: ldc.r4     -1000000
IL_000E: stloc.0
IL_000F: ldarg.1
IL_0010: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0015: brtrue =>  Label0
IL_001A: ldarg.1
IL_001B: castclass  TaleWorlds.CampaignSystem.Clan
IL_0020: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_0025: pop
IL_0026: Label0
IL_0026: ldarg.0
IL_0027: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_002C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0031: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0036: pop
IL_0037: ldarg.0
IL_0038: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_003D: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::get_IsKingdomFaction()
IL_0042: brfalse => Label1
IL_0047: ldarg.1
IL_0048: ldarg.0
IL_0049: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_004E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0053: bne.un =>  Label2
IL_0058: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_005D: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0062: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0067: ldarg.0
IL_0068: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_006D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0072: ldarg.0
IL_0073: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0078: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfClanToJoinKingdom(TaleWorlds.CampaignSystem.Clan clan, TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_007D: stloc.0
IL_007E: ldarg.0
IL_007F: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0084: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0089: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_008E: brfalse => Label3
IL_0093: ldarg.0
IL_0094: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0099: ldarg.0
IL_009A: call       TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalParty()
IL_009F: newobj     System.Void TaleWorlds.CampaignSystem.BarterSystem.Barterables.LeaveKingdomAsClanBarterable::.ctor(TaleWorlds.CampaignSystem.Hero owner, TaleWorlds.CampaignSystem.Party.PartyBase ownerParty)
IL_00A4: ldarg.1
IL_00A5: call       System.Int32 TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::GetValueForFaction(TaleWorlds.CampaignSystem.IFaction faction)
IL_00AA: stloc.1
IL_00AB: ldc.r4     0
IL_00B0: stloc.2
IL_00B1: ldarg.0
IL_00B2: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00B7: ldarg.0
IL_00B8: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00BD: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00C2: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00C7: callvirt   virtual System.Boolean TaleWorlds.CampaignSystem.Kingdom::IsAtWarWith(TaleWorlds.CampaignSystem.IFaction other)
IL_00CC: brtrue =>  Label4
IL_00D1: ldarg.0
IL_00D2: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00D7: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00DC: ldarg.0
IL_00DD: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_00E2: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_00E7: callvirt   TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.Clan::get_Kingdom()
IL_00EC: callvirt   System.Single TaleWorlds.CampaignSystem.Clan::CalculateTotalSettlementValueForFaction(TaleWorlds.CampaignSystem.Kingdom kingdom)
IL_00F1: stloc.2
IL_00F2: ldloc.0
IL_00F3: ldloc.2
IL_00F4: ldarg.0
IL_00F5: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_00FA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Kingdom::get_Leader()
IL_00FF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0104: beq =>     Label5
IL_0109: ldc.r4     1
IL_010E: br =>      Label6
IL_0113: Label5
IL_0113: ldc.r4     0.5
IL_0118: Label6
IL_0118: mul
IL_0119: sub
IL_011A: stloc.0
IL_011B: Label4
IL_011B: ldloc.0
IL_011C: ldloc.1
IL_011D: conv.r4
IL_011E: add
IL_011F: stloc.0
IL_0120: br =>      Label7
IL_0125: Label2
IL_0125: ldarg.1
IL_0126: callvirt   abstract virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.IFaction::get_MapFaction()
IL_012B: ldarg.0
IL_012C: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0131: bne.un =>  Label8
IL_0136: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_013B: callvirt   TaleWorlds.CampaignSystem.GameModels TaleWorlds.CampaignSystem.Campaign::get_Models()
IL_0140: callvirt   TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel TaleWorlds.CampaignSystem.GameModels::get_DiplomacyModel()
IL_0145: ldarg.0
IL_0146: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_014B: ldarg.0
IL_014C: call       TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.BarterSystem.Barterables.Barterable::get_OriginalOwner()
IL_0151: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0156: callvirt   abstract virtual System.Single TaleWorlds.CampaignSystem.ComponentInterfaces.DiplomacyModel::GetScoreOfKingdomToGetClan(TaleWorlds.CampaignSystem.Kingdom kingdom, TaleWorlds.CampaignSystem.Clan clan)
IL_015B: stloc.0
IL_015C: Label1
IL_015C: Label3
IL_015C: Label7
IL_015C: Label8
IL_015C: ldloc.0
IL_015D: conv.i4
IL_015E: // end original
IL_015E: stloc      3 (System.Int32)
IL_0162: ldloca     3 (System.Int32)
IL_0166: ldarg      1
IL_016A: ldarg.0
IL_016B: ldfld      TaleWorlds.CampaignSystem.Kingdom TaleWorlds.CampaignSystem.BarterSystem.Barterables.JoinKingdomAsClanBarterable::TargetKingdom
IL_0170: call       static System.Void KaosesTweaks.Patches.BTBarterablePatches::Postfix(System.Int32& __result, TaleWorlds.CampaignSystem.IFaction factionForEvaluation, TaleWorlds.CampaignSystem.Kingdom ___TargetKingdom)
IL_0175: ldloc      3 (System.Int32)
IL_0179: ret
DONE

### Patch: virtual System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::GetPlayerMaximumTroopCountForHideoutMission(TaleWorlds.CampaignSystem.Party.MobileParty party)
### Replacement: static System.Int32 TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel::TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel.GetPlayerMaximumTroopCountForHideoutMission_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultBanditDensityModel this, TaleWorlds.CampaignSystem.Party.MobileParty party)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Int32
IL_0000: Local var 2: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      1 (System.Int32)
IL_0009: ldc.i4     0
IL_000E: stloc      2 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      2 (System.Boolean)
IL_0017: ldloc      2 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     1 (System.Int32)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.BTTroopCountForHidoutMission::Prefix(System.Int32& __result)
IL_0029: stloc      2 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      2 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: ldc.r4     10
IL_003C: stloc.0
IL_003D: ldarg.1
IL_003E: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0043: ldc.i4.0
IL_0044: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::HasPerk(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk, System.Boolean checkSecondaryRole)
IL_0049: brfalse => Label2
IL_004E: ldloc.0
IL_004F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_SmallUnitTactics()
IL_0054: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0059: add
IL_005A: stloc.0
IL_005B: Label2
IL_005B: ldloc.0
IL_005C: call       static System.Int32 TaleWorlds.Library.MathF::Round(System.Single f)
IL_0061: // end original
IL_0061: stloc      1 (System.Int32)
IL_0065: Label0
IL_0065: ldloc      1 (System.Int32)
IL_0069: ret
DONE

### Patch: TaleWorlds.CampaignSystem.ExplainedNumber TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::CalculateMobilePartyMemberSizeLimit(TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
### Note: A buffer for the returned struct is used. That requires an extra IntPtr argument before the first real argument
### Replacement: static System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel.CalculateMobilePartyMemberSizeLimit_Patch1(TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel this, System.IntPtr retbuf, TaleWorlds.CampaignSystem.Party.MobileParty party, System.Boolean includeDescriptions)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: Local var 1: System.Nullable`1<System.Boolean>
IL_0000: Local var 2: System.Boolean
IL_0000: Local var 3: System.Nullable`1<System.Boolean>
IL_0000: Local var 4: System.Int32
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>
IL_0000: Local var 7: TaleWorlds.CampaignSystem.ExplainedNumber
IL_0000: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0004: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_000A: // start original
IL_000A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_000C: ldc.r4     20
IL_0011: ldarg.3
IL_0012: ldarg.0
IL_0013: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_baseSizeText
IL_0018: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::.ctor(System.Single baseNumber, System.Boolean includeDescriptions, TaleWorlds.Localization.TextObject baseText)
IL_001D: ldarg.2
IL_001E: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0023: brfalse => Label0
IL_0028: ldarg.2
IL_0029: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_002E: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_0033: brfalse => Label1
IL_0038: ldarg.2
IL_0039: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_003E: brtrue =>  Label2
IL_0043: ldarg.2
IL_0044: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0049: brfalse => Label3
IL_004E: ldarg.2
IL_004F: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0054: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0059: brfalse => Label4
IL_005E: ldarg.2
IL_005F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0064: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0069: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_006E: ldarg.2
IL_006F: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0074: bne.un =>  Label5
IL_0079: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_007B: ldc.r4     20
IL_0080: ldarg.0
IL_0081: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_factionLeaderText
IL_0086: ldnull
IL_0087: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_008C: Label3
IL_008C: Label4
IL_008C: Label5
IL_008C: ldarg.2
IL_008D: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0092: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_0097: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_009C: brfalse => Label6
IL_00A1: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00A3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00A8: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00AD: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.OneHanded::get_Prestige()
IL_00B2: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00B7: ldnull
IL_00B8: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00BD: Label6
IL_00BD: ldarg.2
IL_00BE: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00C3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00C8: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00CD: brfalse => Label7
IL_00D2: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_00D4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00D9: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_00DE: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.TwoHanded::get_Hope()
IL_00E3: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_00E8: ldnull
IL_00E9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_00EE: Label7
IL_00EE: ldarg.2
IL_00EF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_00F9: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_00FE: brfalse => Label8
IL_0103: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0105: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_010A: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_010F: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Athletics::get_HavingGoing()
IL_0114: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0119: ldnull
IL_011A: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_011F: Label8
IL_011F: ldarg.2
IL_0120: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0125: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_012A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_012F: brfalse => Label9
IL_0134: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0136: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_013B: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0140: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Bow::get_MerryMen()
IL_0145: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_014A: ldnull
IL_014B: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0150: Label9
IL_0150: ldarg.2
IL_0151: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0156: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_015B: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0160: brfalse => Label10
IL_0165: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0167: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_016C: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_0171: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Tactics::get_HordeLeader()
IL_0176: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_017B: ldnull
IL_017C: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0181: Label10
IL_0181: ldarg.2
IL_0182: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0187: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_018C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_0191: brfalse => Label11
IL_0196: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0198: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_019D: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01A2: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Scouting::get_MountedScouts()
IL_01A7: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01AC: ldnull
IL_01AD: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01B2: Label11
IL_01B2: ldarg.2
IL_01B3: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_01B8: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01BD: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_01C2: brfalse => Label12
IL_01C7: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_01C9: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01CE: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_SecondaryBonus()
IL_01D3: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_Authority()
IL_01D8: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_01DD: ldnull
IL_01DE: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_01E3: Label12
IL_01E3: ldarg.2
IL_01E4: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_01E9: dup
IL_01EA: brtrue =>  Label13
IL_01EF: pop
IL_01F0: ldc.i4.0
IL_01F1: br =>      Label14
IL_01F6: Label13
IL_01F6: call       virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_01FB: dup
IL_01FC: brtrue =>  Label15
IL_0201: pop
IL_0202: ldloca.s   3 (System.Nullable`1[System.Boolean])
IL_0204: initobj    System.Nullable`1[System.Boolean]
IL_020A: ldloc.3
IL_020B: br =>      Label16
IL_0210: Label15
IL_0210: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0215: call       System.Boolean TaleWorlds.CampaignSystem.Hero::GetPerkValue(TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject perk)
IL_021A: newobj     System.Void System.Nullable`1<System.Boolean>::.ctor(System.Boolean value)
IL_021F: Label16
IL_021F: stloc.1
IL_0220: ldc.i4.1
IL_0221: stloc.2
IL_0222: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_0224: call       System.Boolean System.Nullable`1<System.Boolean>::GetValueOrDefault()
IL_0229: ldloc.2
IL_022A: ceq
IL_022C: ldloca.s   1 (System.Nullable`1[System.Boolean])
IL_022E: call       System.Boolean System.Nullable`1<System.Boolean>::get_HasValue()
IL_0233: and
IL_0234: Label14
IL_0234: brfalse => Label17
IL_0239: ldc.i4.0
IL_023A: stloc.s    4 (System.Int32)
IL_023C: ldarg.2
IL_023D: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Party.MobileParty::get_ActualClan()
IL_0242: callvirt   virtual TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.CampaignSystem.Clan::get_Settlements()
IL_0247: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement> TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Settlements.Settlement>::GetEnumerator()
IL_024C: stloc.s    6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
.try
{
	IL_024E: br =>      Label18
	IL_0253: Label20
	IL_0253: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0255: call       virtual TaleWorlds.CampaignSystem.Settlements.Settlement System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::get_Current()
	IL_025A: callvirt   System.Boolean TaleWorlds.CampaignSystem.Settlements.Settlement::get_IsTown()
	IL_025F: brfalse => Label19
	IL_0264: ldloc.s    4 (System.Int32)
	IL_0266: ldc.i4.1
	IL_0267: add
	IL_0268: stloc.s    4 (System.Int32)
	IL_026A: Label18
	IL_026A: Label19
	IL_026A: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_026C: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Settlements.Settlement>::MoveNext()
	IL_0271: brtrue =>  Label20
	IL_0276: leave =>   Label21
	IL_027B: leave =>   (autogenerated)
} // end try
.finally
{
	IL_0280: ldloca.s   6 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement])
	IL_0282: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Settlements.Settlement]
	IL_0288: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_028D: endfinally
	IL_028E: leave =>   (autogenerated)
} // end handler
IL_028F: Label21
IL_028F: ldloc.s    4 (System.Int32)
IL_0291: conv.r4
IL_0292: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_0297: callvirt   System.Single TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject::get_PrimaryBonus()
IL_029C: mul
IL_029D: stloc.s    5 (System.Single)
IL_029F: ldloc.s    5 (System.Single)
IL_02A1: ldc.r4     0
IL_02A6: ble.un =>  Label22
IL_02AB: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_02AD: ldloc.s    5 (System.Single)
IL_02AF: call       static TaleWorlds.CampaignSystem.CharacterDevelopment.PerkObject TaleWorlds.CampaignSystem.CharacterDevelopment.Leadership::get_LeaderOfMasses()
IL_02B4: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_02B9: ldnull
IL_02BA: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_02BF: Label17
IL_02BF: Label22
IL_02BF: ldarg.2
IL_02C0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02C5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02CA: callvirt   virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Clan::get_Leader()
IL_02CF: ldarg.2
IL_02D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02D5: bne.un =>  Label23
IL_02DA: ldarg.2
IL_02DB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_02E0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_02E5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_02EA: ldc.i4.5
IL_02EB: blt =>     Label24
IL_02F0: ldarg.2
IL_02F1: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_02F6: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_02FB: brfalse => Label25
IL_0300: ldarg.2
IL_0301: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0306: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_030B: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_0310: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_0315: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_031A: brfalse => Label26
IL_031F: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0321: ldc.r4     40
IL_0326: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_NobleRetinues()
IL_032B: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_0330: ldnull
IL_0331: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0336: Label24
IL_0336: Label25
IL_0336: Label26
IL_0336: ldarg.2
IL_0337: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_033C: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsKingdomFaction()
IL_0341: brfalse => Label27
IL_0346: ldarg.2
IL_0347: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_034C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0351: ldarg.2
IL_0352: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0357: bne.un =>  Label28
IL_035C: ldarg.2
IL_035D: callvirt   virtual TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Party.MobileParty::get_MapFaction()
IL_0362: castclass  TaleWorlds.CampaignSystem.Kingdom
IL_0367: callvirt   System.Collections.Generic.IList`1<TaleWorlds.CampaignSystem.PolicyObject> TaleWorlds.CampaignSystem.Kingdom::get_ActivePolicies()
IL_036C: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0371: callvirt   abstract virtual System.Boolean System.Collections.Generic.ICollection`1<TaleWorlds.CampaignSystem.PolicyObject>::Contains(TaleWorlds.CampaignSystem.PolicyObject item)
IL_0376: brfalse => Label29
IL_037B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_037D: ldc.r4     60
IL_0382: call       static TaleWorlds.CampaignSystem.PolicyObject TaleWorlds.CampaignSystem.DefaultPolicies::get_RoyalGuard()
IL_0387: callvirt   TaleWorlds.Localization.TextObject TaleWorlds.Core.PropertyObject::get_Name()
IL_038C: ldnull
IL_038D: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0392: Label27
IL_0392: Label28
IL_0392: Label29
IL_0392: ldarg.2
IL_0393: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_0398: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_039D: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03A2: ldc.i4.0
IL_03A3: ble =>     Label30
IL_03A8: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03AA: ldarg.2
IL_03AB: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03B0: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03B5: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03BA: ldc.i4.s   25
IL_03BC: mul
IL_03BD: conv.r4
IL_03BE: ldarg.0
IL_03BF: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_03C4: ldnull
IL_03C5: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_03CA: br =>      Label31
IL_03CF: Label23
IL_03CF: ldarg.2
IL_03D0: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03D5: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03DA: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03DF: ldc.i4.0
IL_03E0: ble =>     Label32
IL_03E5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_03E7: ldarg.2
IL_03E8: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_LeaderHero()
IL_03ED: callvirt   TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Hero::get_Clan()
IL_03F2: callvirt   System.Int32 TaleWorlds.CampaignSystem.Clan::get_Tier()
IL_03F7: ldc.i4.s   15
IL_03F9: mul
IL_03FA: conv.r4
IL_03FB: ldarg.0
IL_03FC: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_clanTierText
IL_0401: ldnull
IL_0402: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0407: Label30
IL_0407: Label31
IL_0407: Label32
IL_0407: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0409: ldarg.2
IL_040A: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.MobileParty::get_EffectiveQuartermaster()
IL_040F: call       static TaleWorlds.Core.SkillObject TaleWorlds.Core.DefaultSkills::get_Steward()
IL_0414: callvirt   System.Int32 TaleWorlds.CampaignSystem.Hero::GetSkillValue(TaleWorlds.Core.SkillObject skill)
IL_0419: ldc.i4.4
IL_041A: div
IL_041B: conv.r4
IL_041C: ldarg.0
IL_041D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_quarterMasterText
IL_0422: ldnull
IL_0423: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0428: ldarg.0
IL_0429: ldarg.2
IL_042A: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_042C: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddMobilePartyLeaderPartySizePerkEffects(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_0431: ldarg.0
IL_0432: ldarg.2
IL_0433: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0435: call       System.Void TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::AddUltimateLeaderPerkEffectForPartySize(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& result)
IL_043A: ldsfld     System.Boolean TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_addAdditionalPartySizeAsCheat
IL_043F: brfalse => Label33
IL_0444: ldarg.2
IL_0445: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsMainParty()
IL_044A: brfalse => Label34
IL_044F: call       static TaleWorlds.Core.Game TaleWorlds.Core.Game::get_Current()
IL_0454: callvirt   System.Boolean TaleWorlds.Core.Game::get_CheatMode()
IL_0459: brfalse => Label35
IL_045E: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0460: ldc.r4     5000
IL_0465: ldstr      "{=!}Additional size from extra party cheat"
IL_046A: ldnull
IL_046B: newobj     System.Void TaleWorlds.Localization.TextObject::.ctor(System.String value, System.Collections.Generic.Dictionary`2<System.String, System.Object> attributes)
IL_0470: ldnull
IL_0471: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0476: br =>      Label36
IL_047B: Label0
IL_047B: Label1
IL_047B: Label2
IL_047B: ldarg.2
IL_047C: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsCaravan()
IL_0481: brfalse => Label37
IL_0486: ldarg.2
IL_0487: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_048C: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_0491: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0496: bne.un =>  Label38
IL_049B: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_049D: ldc.r4     10
IL_04A2: ldarg.0
IL_04A3: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_04A8: ldnull
IL_04A9: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_04AE: br =>      Label39
IL_04B3: Label38
IL_04B3: ldarg.2
IL_04B4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04B9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04BE: dup
IL_04BF: brtrue =>  Label40
IL_04C4: pop
IL_04C5: ldc.i4.0
IL_04C6: br =>      Label41
IL_04CB: Label40
IL_04CB: call       System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsNotable()
IL_04D0: Label41
IL_04D0: brfalse => Label42
IL_04D5: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_04D7: ldc.i4.s   10
IL_04D9: ldarg.2
IL_04DA: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04DF: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04E4: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_04E9: ldc.r4     100
IL_04EE: blt =>     Label43
IL_04F3: ldarg.2
IL_04F4: callvirt   TaleWorlds.CampaignSystem.Party.PartyBase TaleWorlds.CampaignSystem.Party.MobileParty::get_Party()
IL_04F9: callvirt   TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Party.PartyBase::get_Owner()
IL_04FE: callvirt   System.Single TaleWorlds.CampaignSystem.Hero::get_Power()
IL_0503: ldc.r4     200
IL_0508: blt =>     Label44
IL_050D: ldc.i4.3
IL_050E: br =>      Label45
IL_0513: Label44
IL_0513: ldc.i4.2
IL_0514: br =>      Label46
IL_0519: Label43
IL_0519: ldc.i4.1
IL_051A: Label45
IL_051A: Label46
IL_051A: mul
IL_051B: conv.r4
IL_051C: ldarg.0
IL_051D: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0522: ldnull
IL_0523: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_0528: br =>      Label47
IL_052D: Label37
IL_052D: ldarg.2
IL_052E: callvirt   System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_0533: brfalse => Label48
IL_0538: ldloca.s   0 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_053A: ldc.r4     40
IL_053F: ldarg.0
IL_0540: ldfld      TaleWorlds.Localization.TextObject TaleWorlds.CampaignSystem.GameComponents.DefaultPartySizeLimitModel::_randomSizeBonusTemporary
IL_0545: ldnull
IL_0546: call       System.Void TaleWorlds.CampaignSystem.ExplainedNumber::Add(System.Single value, TaleWorlds.Localization.TextObject description, TaleWorlds.Localization.TextObject variable)
IL_054B: Label33
IL_054B: Label34
IL_054B: Label35
IL_054B: Label36
IL_054B: Label39
IL_054B: Label42
IL_054B: Label47
IL_054B: Label48
IL_054B: ldloc.0
IL_054C: // end original
IL_054C: stloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0550: ldarg      2
IL_0554: ldloca     7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0558: call       static System.Void KaosesTweaks.Patches.DefaultPartySizeLimitModelPatch::Postfix(TaleWorlds.CampaignSystem.Party.MobileParty party, TaleWorlds.CampaignSystem.ExplainedNumber& __result)
IL_055D: ldloc      7 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0561: ldloca     8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0565: initobj    TaleWorlds.CampaignSystem.ExplainedNumber
IL_056B: stloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_056F: ldarg.1
IL_0570: ldloc      8 (TaleWorlds.CampaignSystem.ExplainedNumber)
IL_0574: stobj      TaleWorlds.CampaignSystem.ExplainedNumber
IL_0579: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Party.MobileParty::FillPartyStacks(TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Party.MobileParty::TaleWorlds.CampaignSystem.Party.MobileParty.FillPartyStacks_Patch1(TaleWorlds.CampaignSystem.Party.MobileParty this, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0000: Local var 0: System.Single
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Single
IL_0000: Local var 3: System.Single
IL_0000: Local var 4: System.Single
IL_0000: Local var 5: System.Single
IL_0000: Local var 6: System.Single
IL_0000: Local var 7: System.Single
IL_0000: Local var 8: System.Single
IL_0000: Local var 9: System.Single
IL_0000: Local var 10: System.Single
IL_0000: Local var 11: System.Int32
IL_0000: Local var 12: System.Int32
IL_0000: Local var 13: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 14: System.Int32
IL_0000: Local var 15: System.Int32
IL_0000: Local var 16: System.Single
IL_0000: Local var 17: System.Single
IL_0000: Local var 18: TaleWorlds.CampaignSystem.CharacterObject
IL_0000: Local var 19: System.Int32
IL_0000: Local var 20: System.Int32
IL_0000: Local var 21: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      21 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      21 (System.Boolean)
IL_000E: ldloc      21 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg      1
IL_001F: ldarg      2
IL_0023: call       static System.Boolean KaosesTweaks.Patches.TitanFillPartyStacksPatch::Prefix(TaleWorlds.CampaignSystem.Party.MobileParty& __instance, TaleWorlds.CampaignSystem.Party.PartyTemplateObject pt, System.Int32 troopNumberLimit)
IL_0028: stloc      21 (System.Boolean)
IL_002C: Label1
IL_002C: nop
IL_002D: ldloc      21 (System.Boolean)
IL_0031: brfalse => Label0
IL_0036: // start original
IL_0036: ldarg.0
IL_0037: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsBandit()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0046: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_004B: stloc.0
IL_004C: ldc.r4     0.4
IL_0051: ldc.r4     0.8
IL_0056: ldloc.0
IL_0057: mul
IL_0058: add
IL_0059: stloc.1
IL_005A: ldc.i4.2
IL_005B: call       static System.Int32 TaleWorlds.Core.MBRandom::RandomInt(System.Int32 maxValue)
IL_0060: dup
IL_0061: brfalse => Label3
IL_0066: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_006B: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0070: mul
IL_0071: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0076: mul
IL_0077: ldc.r4     4
IL_007C: mul
IL_007D: br =>      Label4
IL_0082: Label3
IL_0082: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_0087: Label4
IL_0087: stloc.2
IL_0088: brfalse => Label5
IL_008D: ldc.r4     1
IL_0092: ldloc.2
IL_0093: add
IL_0094: br =>      Label6
IL_0099: Label5
IL_0099: ldloc.2
IL_009A: ldc.r4     0.8
IL_009F: mul
IL_00A0: ldc.r4     0.2
IL_00A5: add
IL_00A6: Label6
IL_00A6: stloc.3
IL_00A7: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00AC: stloc.s    4 (System.Single)
IL_00AE: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00B3: stloc.s    5 (System.Single)
IL_00B5: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_00BA: stloc.s    6 (System.Single)
IL_00BC: ldarg.1
IL_00BD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00C2: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_00C7: ldc.i4.0
IL_00C8: bgt =>     Label7
IL_00CD: ldc.r4     0
IL_00D2: br =>      Label8
IL_00D7: Label7
IL_00D7: ldarg.1
IL_00D8: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00DD: ldc.i4.0
IL_00DE: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00E3: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_00E8: conv.r4
IL_00E9: ldloc.1
IL_00EA: ldloc.3
IL_00EB: mul
IL_00EC: ldloc.s    4 (System.Single)
IL_00EE: mul
IL_00EF: ldarg.1
IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_00F5: ldc.i4.0
IL_00F6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_00FB: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0100: ldarg.1
IL_0101: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0106: ldc.i4.0
IL_0107: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_010C: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0111: sub
IL_0112: conv.r4
IL_0113: mul
IL_0114: add
IL_0115: Label8
IL_0115: stloc.s    7 (System.Single)
IL_0117: ldarg.1
IL_0118: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_011D: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0122: ldc.i4.1
IL_0123: bgt =>     Label9
IL_0128: ldc.r4     0
IL_012D: br =>      Label10
IL_0132: Label9
IL_0132: ldarg.1
IL_0133: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0138: ldc.i4.1
IL_0139: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_013E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0143: conv.r4
IL_0144: ldloc.1
IL_0145: ldloc.3
IL_0146: mul
IL_0147: ldloc.s    5 (System.Single)
IL_0149: mul
IL_014A: ldarg.1
IL_014B: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0150: ldc.i4.1
IL_0151: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0156: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_015B: ldarg.1
IL_015C: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0161: ldc.i4.1
IL_0162: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0167: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_016C: sub
IL_016D: conv.r4
IL_016E: mul
IL_016F: add
IL_0170: Label10
IL_0170: stloc.s    8 (System.Single)
IL_0172: ldarg.1
IL_0173: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0178: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_017D: ldc.i4.2
IL_017E: bgt =>     Label11
IL_0183: ldc.r4     0
IL_0188: br =>      Label12
IL_018D: Label11
IL_018D: ldarg.1
IL_018E: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0193: ldc.i4.2
IL_0194: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0199: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_019E: conv.r4
IL_019F: ldloc.1
IL_01A0: ldloc.3
IL_01A1: mul
IL_01A2: ldloc.s    6 (System.Single)
IL_01A4: mul
IL_01A5: ldarg.1
IL_01A6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01AB: ldc.i4.2
IL_01AC: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01B1: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_01B6: ldarg.1
IL_01B7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01BC: ldc.i4.2
IL_01BD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01C2: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_01C7: sub
IL_01C8: conv.r4
IL_01C9: mul
IL_01CA: add
IL_01CB: Label12
IL_01CB: stloc.s    9 (System.Single)
IL_01CD: ldarg.0
IL_01CE: ldarg.1
IL_01CF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01D4: ldc.i4.0
IL_01D5: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_01DA: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_01DF: ldloc.s    7 (System.Single)
IL_01E1: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_01E6: ldc.i4.0
IL_01E7: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_01EC: pop
IL_01ED: ldarg.1
IL_01EE: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_01F3: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_01F8: ldc.i4.1
IL_01F9: ble =>     Label13
IL_01FE: ldarg.0
IL_01FF: ldarg.1
IL_0200: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0205: ldc.i4.1
IL_0206: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_020B: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0210: ldloc.s    8 (System.Single)
IL_0212: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0217: ldc.i4.0
IL_0218: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_021D: pop
IL_021E: Label13
IL_021E: ldarg.1
IL_021F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0224: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0229: ldc.i4.2
IL_022A: ble =>     Label14
IL_022F: ldarg.0
IL_0230: ldarg.1
IL_0231: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0236: ldc.i4.2
IL_0237: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_023C: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0241: ldloc.s    9 (System.Single)
IL_0243: call       static System.Int32 TaleWorlds.Core.MBRandom::RoundRandomized(System.Single f)
IL_0248: ldc.i4.0
IL_0249: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_024E: pop
IL_024F: br =>      Label39
IL_0254: Label2
IL_0254: ldarg.2
IL_0255: ldc.i4.0
IL_0256: bge =>     Label15
IL_025B: call       static TaleWorlds.CampaignSystem.Campaign TaleWorlds.CampaignSystem.Campaign::get_Current()
IL_0260: callvirt   System.Single TaleWorlds.CampaignSystem.Campaign::get_PlayerProgress()
IL_0265: stloc.s    10 (System.Single)
IL_0267: ldc.i4.0
IL_0268: stloc.s    11 (System.Int32)
IL_026A: br =>      Label16
IL_026F: Label17
IL_026F: ldloc.s    10 (System.Single)
IL_0271: ldarg.1
IL_0272: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0277: ldloc.s    11 (System.Int32)
IL_0279: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_027E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0283: ldarg.1
IL_0284: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0289: ldloc.s    11 (System.Int32)
IL_028B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0290: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0295: sub
IL_0296: conv.r4
IL_0297: mul
IL_0298: conv.i4
IL_0299: ldarg.1
IL_029A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_029F: ldloc.s    11 (System.Int32)
IL_02A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02A6: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_02AB: add
IL_02AC: stloc.s    12 (System.Int32)
IL_02AE: ldarg.1
IL_02AF: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02B4: ldloc.s    11 (System.Int32)
IL_02B6: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_02BB: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_02C0: stloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C2: ldarg.0
IL_02C3: ldloc.s    13 (TaleWorlds.CampaignSystem.CharacterObject)
IL_02C5: ldloc.s    12 (System.Int32)
IL_02C7: ldc.i4.0
IL_02C8: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_02CD: pop
IL_02CE: ldloc.s    11 (System.Int32)
IL_02D0: ldc.i4.1
IL_02D1: add
IL_02D2: stloc.s    11 (System.Int32)
IL_02D4: Label16
IL_02D4: ldloc.s    11 (System.Int32)
IL_02D6: ldarg.1
IL_02D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_02DC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_02E1: blt =>     Label17
IL_02E6: br =>      Label40
IL_02EB: Label15
IL_02EB: ldc.i4.0
IL_02EC: stloc.s    14 (System.Int32)
IL_02EE: br =>      Label18
IL_02F3: Label38
IL_02F3: ldc.i4.m1
IL_02F4: stloc.s    15 (System.Int32)
IL_02F6: ldc.r4     0
IL_02FB: stloc.s    16 (System.Single)
IL_02FD: ldc.i4.0
IL_02FE: stloc.s    19 (System.Int32)
IL_0300: br =>      Label19
IL_0305: Label26
IL_0305: ldloc.s    16 (System.Single)
IL_0307: ldarg.0
IL_0308: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_030D: brfalse => Label20
IL_0312: ldarg.1
IL_0313: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0318: ldloc.s    19 (System.Int32)
IL_031A: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_031F: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_0324: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_0329: brtrue =>  Label21
IL_032E: Label20
IL_032E: ldarg.0
IL_032F: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_0334: brfalse => Label22
IL_0339: ldarg.1
IL_033A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_033F: ldloc.s    19 (System.Int32)
IL_0341: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0346: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_034B: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0350: brfalse => Label23
IL_0355: Label22
IL_0355: ldc.r4     1
IL_035A: br =>      Label24
IL_035F: Label23
IL_035F: ldc.r4     2
IL_0364: br =>      Label25
IL_0369: Label21
IL_0369: ldc.r4     6
IL_036E: Label24
IL_036E: Label25
IL_036E: ldarg.1
IL_036F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0374: ldloc.s    19 (System.Int32)
IL_0376: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_037B: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0380: ldarg.1
IL_0381: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0386: ldloc.s    19 (System.Int32)
IL_0388: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_038D: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0392: add
IL_0393: conv.r4
IL_0394: ldc.r4     2
IL_0399: div
IL_039A: mul
IL_039B: add
IL_039C: stloc.s    16 (System.Single)
IL_039E: ldloc.s    19 (System.Int32)
IL_03A0: ldc.i4.1
IL_03A1: add
IL_03A2: stloc.s    19 (System.Int32)
IL_03A4: Label19
IL_03A4: ldloc.s    19 (System.Int32)
IL_03A6: ldarg.1
IL_03A7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03AC: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_03B1: blt =>     Label26
IL_03B6: call       static System.Single TaleWorlds.Core.MBRandom::get_RandomFloat()
IL_03BB: ldloc.s    16 (System.Single)
IL_03BD: mul
IL_03BE: stloc.s    17 (System.Single)
IL_03C0: ldc.i4.0
IL_03C1: stloc.s    20 (System.Int32)
IL_03C3: br =>      Label27
IL_03C8: Label36
IL_03C8: ldloc.s    17 (System.Single)
IL_03CA: ldarg.0
IL_03CB: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03D0: brfalse => Label28
IL_03D5: ldarg.1
IL_03D6: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_03DB: ldloc.s    20 (System.Int32)
IL_03DD: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_03E2: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_03E7: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsRanged()
IL_03EC: brtrue =>  Label29
IL_03F1: Label28
IL_03F1: ldarg.0
IL_03F2: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsGarrison()
IL_03F7: brfalse => Label30
IL_03FC: ldarg.1
IL_03FD: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0402: ldloc.s    20 (System.Int32)
IL_0404: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0409: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_040E: callvirt   virtual System.Boolean TaleWorlds.Core.BasicCharacterObject::get_IsMounted()
IL_0413: brfalse => Label31
IL_0418: Label30
IL_0418: ldc.r4     1
IL_041D: br =>      Label32
IL_0422: Label31
IL_0422: ldc.r4     2
IL_0427: br =>      Label33
IL_042C: Label29
IL_042C: ldc.r4     6
IL_0431: Label32
IL_0431: Label33
IL_0431: ldarg.1
IL_0432: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0437: ldloc.s    20 (System.Int32)
IL_0439: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_043E: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MaxValue
IL_0443: ldarg.1
IL_0444: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0449: ldloc.s    20 (System.Int32)
IL_044B: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_0450: ldfld      System.Int32 TaleWorlds.CampaignSystem.Party.PartyTemplateStack::MinValue
IL_0455: add
IL_0456: conv.r4
IL_0457: ldc.r4     2
IL_045C: div
IL_045D: mul
IL_045E: sub
IL_045F: stloc.s    17 (System.Single)
IL_0461: ldloc.s    17 (System.Single)
IL_0463: ldc.r4     0
IL_0468: bge.un =>  Label34
IL_046D: ldloc.s    20 (System.Int32)
IL_046F: stloc.s    15 (System.Int32)
IL_0471: br =>      Label35
IL_0476: Label34
IL_0476: ldloc.s    20 (System.Int32)
IL_0478: ldc.i4.1
IL_0479: add
IL_047A: stloc.s    20 (System.Int32)
IL_047C: Label27
IL_047C: ldloc.s    20 (System.Int32)
IL_047E: ldarg.1
IL_047F: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_0484: callvirt   virtual System.Int32 System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Count()
IL_0489: blt =>     Label36
IL_048E: Label35
IL_048E: ldloc.s    15 (System.Int32)
IL_0490: ldc.i4.0
IL_0491: bge =>     Label37
IL_0496: ldc.i4.0
IL_0497: stloc.s    15 (System.Int32)
IL_0499: Label37
IL_0499: ldarg.1
IL_049A: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack> TaleWorlds.CampaignSystem.Party.PartyTemplateObject::Stacks
IL_049F: ldloc.s    15 (System.Int32)
IL_04A1: callvirt   virtual TaleWorlds.CampaignSystem.Party.PartyTemplateStack System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Party.PartyTemplateStack>::get_Item(System.Int32 index)
IL_04A6: ldfld      TaleWorlds.CampaignSystem.CharacterObject TaleWorlds.CampaignSystem.Party.PartyTemplateStack::Character
IL_04AB: stloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04AD: ldarg.0
IL_04AE: ldloc.s    18 (TaleWorlds.CampaignSystem.CharacterObject)
IL_04B0: ldc.i4.1
IL_04B1: ldc.i4.0
IL_04B2: call       System.Int32 TaleWorlds.CampaignSystem.Party.MobileParty::AddElementToMemberRoster(TaleWorlds.CampaignSystem.CharacterObject element, System.Int32 numberToAdd, System.Boolean insertAtFront)
IL_04B7: pop
IL_04B8: ldloc.s    14 (System.Int32)
IL_04BA: ldc.i4.1
IL_04BB: add
IL_04BC: stloc.s    14 (System.Int32)
IL_04BE: Label18
IL_04BE: ldloc.s    14 (System.Int32)
IL_04C0: ldarg.2
IL_04C1: blt =>     Label38
IL_04C6: ldarg.0
IL_04C7: call       System.Boolean TaleWorlds.CampaignSystem.Party.MobileParty::get_IsVillager()
IL_04CC: pop
IL_04CD: // end original
IL_04CD: Label14
IL_04CD: Label39
IL_04CD: Label40
IL_04CD: Label0
IL_04CD: ret
DONE

### Patch: System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_player_can_open_courtship_on_condition()
### Replacement: static System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_player_can_open_courtship_on_condition_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: System.Boolean
IL_0000: Local var 1: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4     0
IL_000E: stloc      1 (System.Boolean)
IL_0012: ldc.i4.1
IL_0013: stloc      1 (System.Boolean)
IL_0017: ldloc      1 (System.Boolean)
IL_001B: brfalse => Label1
IL_0020: ldloca     0 (System.Boolean)
IL_0024: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix1(System.Boolean& __result)
IL_0029: stloc      1 (System.Boolean)
IL_002D: Label1
IL_002D: nop
IL_002E: ldloc      1 (System.Boolean)
IL_0032: brfalse => Label0
IL_0037: // start original
IL_0037: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_003C: brfalse => Label2
IL_0041: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0046: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_004B: dup
IL_004C: brtrue =>  Label3
IL_0051: pop
IL_0052: ldc.i4.0
IL_0053: br =>      Label4
IL_0058: Label3
IL_0058: callvirt   abstract virtual System.Boolean TaleWorlds.CampaignSystem.IFaction::get_IsMinorFaction()
IL_005D: Label4
IL_005D: brtrue =>  Label5
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0067: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsPrisoner()
IL_006C: brfalse => Label6
IL_0071: Label2
IL_0071: Label5
IL_0071: ldc.i4.0
IL_0072: br =>      Label15
IL_0077: Label6
IL_0077: ldarg.0
IL_0078: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007D: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0082: call       System.Boolean TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::MarriageCourtshipPossibility(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0087: brfalse => Label7
IL_008C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_009B: brtrue =>  Label8
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_00AA: brfalse => Label9
IL_00AF: ldstr      "FLIRTATION_LINE"
IL_00B4: ldstr      "{=bjJs0eeB}My lord, I note that you have not yet taken a wife."
IL_00B9: ldc.i4.0
IL_00BA: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00BF: br =>      Label10
IL_00C4: Label9
IL_00C4: ldstr      "FLIRTATION_LINE"
IL_00C9: ldstr      "{=v1hC6Aem}My lady, I wish to profess myself your most ardent admirer."
IL_00CE: ldc.i4.0
IL_00CF: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_00D4: Label10
IL_00D4: ldc.i4.1
IL_00D5: br =>      Label16
IL_00DA: Label7
IL_00DA: Label8
IL_00DA: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00DF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00E4: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00E9: ldc.i4.1
IL_00EA: beq =>     Label11
IL_00EF: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00F4: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00F9: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_00FE: ldc.i4.2
IL_00FF: bne.un =>  Label12
IL_0104: Label11
IL_0104: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0109: callvirt   System.Boolean TaleWorlds.CampaignSystem.Hero::get_IsFemale()
IL_010E: brfalse => Label13
IL_0113: ldstr      "FLIRTATION_LINE"
IL_0118: ldstr      "{=2WnhUBMM}My lord, may you give me another chance to prove myself?"
IL_011D: ldc.i4.0
IL_011E: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0123: br =>      Label14
IL_0128: Label13
IL_0128: ldstr      "FLIRTATION_LINE"
IL_012D: ldstr      "{=4iTaEZKg}My lady, may you give me another chance to prove myself?"
IL_0132: ldc.i4.0
IL_0133: call       static System.Void TaleWorlds.Localization.MBTextManager::SetTextVariable(System.String variableName, System.String text, System.Boolean sendClients)
IL_0138: Label14
IL_0138: ldc.i4.1
IL_0139: br =>      Label17
IL_013E: Label12
IL_013E: ldc.i4.0
IL_013F: // end original
IL_013F: Label15
IL_013F: Label16
IL_013F: Label17
IL_013F: stloc      0 (System.Boolean)
IL_0143: Label0
IL_0143: ldloc      0 (System.Boolean)
IL_0147: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_start_courtship_persuasion_pt1_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_start_courtship_persuasion_pt1_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix2(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_005C: call       static TaleWorlds.CampaignSystem.RomanceLevelEnum TaleWorlds.CampaignSystem.Romance::GetRomanticLevel(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2)
IL_0061: ldc.i4.3
IL_0062: bne.un =>  Label2
IL_0067: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: ldc.i4.4
IL_0072: call       static System.Void TaleWorlds.CampaignSystem.Actions.ChangeRomanticStateAction::Apply(TaleWorlds.CampaignSystem.Hero person1, TaleWorlds.CampaignSystem.Hero person2, TaleWorlds.CampaignSystem.RomanceLevelEnum toWhat)
IL_0077: Label2
IL_0077: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_007C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0081: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0086: stloc.0
IL_0087: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_008C: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0091: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0096: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_009B: bne.un =>  Label3
IL_00A0: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_00A5: stloc.0
IL_00A6: Label3
IL_00A6: ldarg.0
IL_00A7: ldarg.0
IL_00A8: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_00AD: ldloc.0
IL_00AE: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage1(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_00B3: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B8: ldarg.0
IL_00B9: ldarg.0
IL_00BA: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00BF: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_00C4: conv.r4
IL_00C5: ldc.r4     1
IL_00CA: mul
IL_00CB: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00D0: ldc.r4     0
IL_00D5: stloc.1
IL_00D6: ldarg.0
IL_00D7: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00DC: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00E1: stloc.2
.try
{
	IL_00E2: br =>      Label4
	IL_00E7: Label17
	IL_00E7: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00E9: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00EE: stloc.3
	IL_00EF: ldarg.0
	IL_00F0: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00F5: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00FA: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00FC: br =>      Label5
		IL_0101: Label15
		IL_0101: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0103: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_0108: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010A: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_010C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_0111: ldloc.3
		IL_0112: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_0117: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_011C: brfalse => Label6
		IL_0121: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_0123: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0128: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012A: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_012C: switch =>  Labels7,8,9,10
		IL_0141: br =>      Label11
		IL_0146: Label9
		IL_0146: ldloc.1
		IL_0147: ldarg.0
		IL_0148: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_014D: add
		IL_014E: stloc.1
		IL_014F: br =>      Label12
		IL_0154: Label10
		IL_0154: ldloc.1
		IL_0155: ldarg.0
		IL_0156: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_015B: add
		IL_015C: stloc.1
		IL_015D: br =>      Label13
		IL_0162: Label7
		IL_0162: ldloc.1
		IL_0163: ldarg.0
		IL_0164: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0169: sub
		IL_016A: stloc.1
		IL_016B: br =>      Label14
		IL_0170: Label8
		IL_0170: ldloc.1
		IL_0171: ldc.r4     0
		IL_0176: sub
		IL_0177: stloc.1
		IL_0178: Label5
		IL_0178: Label6
		IL_0178: Label11
		IL_0178: Label12
		IL_0178: Label13
		IL_0178: Label14
		IL_0178: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_017F: brtrue =>  Label15
		IL_0184: leave =>   Label16
		IL_0189: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_018E: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_019B: endfinally
		IL_019C: leave =>   (autogenerated)
	} // end handler
	IL_019D: Label4
	IL_019D: Label16
	IL_019D: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_019F: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_01A4: brtrue =>  Label17
	IL_01A9: leave =>   Label18
	IL_01AE: leave =>   (autogenerated)
} // end try
.finally
{
	IL_01B3: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_01B5: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_01BB: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_01C0: endfinally
	IL_01C1: leave =>   (autogenerated)
} // end handler
IL_01C2: Label18
IL_01C2: ldarg.0
IL_01C3: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01C8: ldarg.0
IL_01C9: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01CE: ldarg.0
IL_01CF: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01D4: ldarg.0
IL_01D5: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01DA: ldarg.0
IL_01DB: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01E0: ldarg.0
IL_01E1: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01E6: ldloc.1
IL_01E7: ldc.i4.3
IL_01E8: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01ED: // end original
IL_01ED: Label0
IL_01ED: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::conversation_continue_courtship_stage_2_on_consequence()
### Replacement: static System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior.conversation_continue_courtship_stage_2_on_consequence_Patch1(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior this)
IL_0000: Local var 0: TaleWorlds.CampaignSystem.Hero
IL_0000: Local var 1: System.Single
IL_0000: Local var 2: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>
IL_0000: Local var 3: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask
IL_0000: Local var 4: System.Collections.Generic.List`1/Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>
IL_0000: Local var 5: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt
IL_0000: Local var 6: TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult
IL_0000: Local var 7: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      7 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      7 (System.Boolean)
IL_000E: ldloc      7 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarga     0
IL_001B: ldarg.0
IL_001C: ldflda     System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0021: ldarg.0
IL_0022: ldflda     System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_0027: ldarg.0
IL_0028: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_002D: ldarg.0
IL_002E: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_0033: ldarg.0
IL_0034: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_0039: ldarg.0
IL_003A: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_003F: call       static System.Boolean KaosesTweaks.Patches.Patches::Prefix3(TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior& __instance, System.Collections.Generic.List`1& ____allReservations, System.Single& ____maximumScoreCap, System.Single ____successValue, System.Single ____failValue, System.Single ____criticalSuccessValue, System.Single ____criticalFailValue)
IL_0044: stloc      7 (System.Boolean)
IL_0048: Label1
IL_0048: nop
IL_0049: ldloc      7 (System.Boolean)
IL_004D: brfalse => Label0
IL_0052: // start original
IL_0052: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0057: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_005C: callvirt   abstract virtual TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.IFaction::get_Leader()
IL_0061: stloc.0
IL_0062: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0067: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_006C: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0071: callvirt   TaleWorlds.CampaignSystem.IFaction TaleWorlds.CampaignSystem.Hero::get_MapFaction()
IL_0076: bne.un =>  Label2
IL_007B: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_MainHero()
IL_0080: stloc.0
IL_0081: Label2
IL_0081: ldarg.0
IL_0082: ldarg.0
IL_0083: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
IL_0088: ldloc.0
IL_0089: call       System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::GetPersuasionTasksForCourtshipStage2(TaleWorlds.CampaignSystem.Hero wooed, TaleWorlds.CampaignSystem.Hero wooer)
IL_008E: stfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_0093: ldarg.0
IL_0094: ldarg.0
IL_0095: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_009A: call       static System.Int32 System.Linq.Enumerable::Count(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> source)
IL_009F: conv.r4
IL_00A0: ldc.r4     1
IL_00A5: mul
IL_00A6: stfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_00AB: ldc.r4     0
IL_00B0: stloc.1
IL_00B1: ldarg.0
IL_00B2: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_allReservations
IL_00B7: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::GetEnumerator()
IL_00BC: stloc.2
.try
{
	IL_00BD: br =>      Label3
	IL_00C2: Label16
	IL_00C2: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_00C4: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::get_Current()
	IL_00C9: stloc.3
	IL_00CA: ldarg.0
	IL_00CB: ldfld      System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_previousRomancePersuasionAttempts
	IL_00D0: callvirt   System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt> System.Collections.Generic.List`1<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::GetEnumerator()
	IL_00D5: stloc.s    4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
	.try
	{
		IL_00D7: br =>      Label4
		IL_00DC: Label14
		IL_00DC: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_00DE: call       virtual TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::get_Current()
		IL_00E3: stloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E5: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00E7: call       static TaleWorlds.CampaignSystem.Hero TaleWorlds.CampaignSystem.Hero::get_OneToOneConversationHero()
		IL_00EC: ldloc.3
		IL_00ED: ldfld      System.Int32 TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask::ReservationType
		IL_00F2: callvirt   System.Boolean TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Matches(TaleWorlds.CampaignSystem.Hero targetHero, System.Int32 reservationType)
		IL_00F7: brfalse => Label5
		IL_00FC: ldloc.s    5 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt)
		IL_00FE: ldfld      TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt::Result
		IL_0103: stloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0105: ldloc.s    6 (TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionOptionResult)
		IL_0107: switch =>  Labels6,7,8,9
		IL_011C: br =>      Label10
		IL_0121: Label8
		IL_0121: ldloc.1
		IL_0122: ldarg.0
		IL_0123: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
		IL_0128: add
		IL_0129: stloc.1
		IL_012A: br =>      Label11
		IL_012F: Label9
		IL_012F: ldloc.1
		IL_0130: ldarg.0
		IL_0131: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
		IL_0136: add
		IL_0137: stloc.1
		IL_0138: br =>      Label12
		IL_013D: Label6
		IL_013D: ldloc.1
		IL_013E: ldarg.0
		IL_013F: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
		IL_0144: sub
		IL_0145: stloc.1
		IL_0146: br =>      Label13
		IL_014B: Label7
		IL_014B: ldloc.1
		IL_014C: ldc.r4     0
		IL_0151: sub
		IL_0152: stloc.1
		IL_0153: Label4
		IL_0153: Label5
		IL_0153: Label10
		IL_0153: Label11
		IL_0153: Label12
		IL_0153: Label13
		IL_0153: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_0155: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt>::MoveNext()
		IL_015A: brtrue =>  Label14
		IL_015F: leave =>   Label15
		IL_0164: leave =>   (autogenerated)
	} // end try
	.finally
	{
		IL_0169: ldloca.s   4 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt])
		IL_016B: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionAttempt]
		IL_0171: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
		IL_0176: endfinally
		IL_0177: leave =>   (autogenerated)
	} // end handler
	IL_0178: Label3
	IL_0178: Label15
	IL_0178: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_017A: call       virtual System.Boolean System.Collections.Generic.Enumerator<TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask>::MoveNext()
	IL_017F: brtrue =>  Label16
	IL_0184: leave =>   Label17
	IL_0189: leave =>   (autogenerated)
} // end try
.finally
{
	IL_018E: ldloca.s   2 (System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask])
	IL_0190: constrained. System.Collections.Generic.List`1+Enumerator[TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionTask]
	IL_0196: callvirt   abstract virtual System.Void System.IDisposable::Dispose()
	IL_019B: endfinally
	IL_019C: leave =>   (autogenerated)
} // end handler
IL_019D: Label17
IL_019D: ldarg.0
IL_019E: call       System.Void TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::RemoveUnneededPersuasionAttempts()
IL_01A3: ldarg.0
IL_01A4: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_maximumScoreCap
IL_01A9: ldarg.0
IL_01AA: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_successValue
IL_01AF: ldarg.0
IL_01B0: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_failValue
IL_01B5: ldarg.0
IL_01B6: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalSuccessValue
IL_01BB: ldarg.0
IL_01BC: ldfld      System.Single TaleWorlds.CampaignSystem.CampaignBehaviors.RomanceCampaignBehavior::_criticalFailValue
IL_01C1: ldloc.1
IL_01C2: ldc.i4.3
IL_01C3: call       static System.Void TaleWorlds.CampaignSystem.Conversation.ConversationManager::StartPersuasion(System.Single goalValue, System.Single successValue, System.Single failValue, System.Single criticalSuccessValue, System.Single criticalFailValue, System.Single initialProgress, TaleWorlds.CampaignSystem.Conversation.Persuasion.PersuasionDifficulty difficulty)
IL_01C8: // end original
IL_01C8: Label0
IL_01C8: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.Hero::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
### Replacement: static System.Void TaleWorlds.CampaignSystem.Hero::TaleWorlds.CampaignSystem.Hero.AddSkillXp_Patch1(TaleWorlds.CampaignSystem.Hero this, TaleWorlds.Core.SkillObject skill, System.Single xpAmount)
IL_0000: Local var 0: System.Boolean
IL_0000: ldc.i4     0
IL_0005: stloc      0 (System.Boolean)
IL_0009: ldc.i4.1
IL_000A: stloc      0 (System.Boolean)
IL_000E: ldloc      0 (System.Boolean)
IL_0012: brfalse => Label1
IL_0017: ldarg.0
IL_0018: ldarg      1
IL_001C: ldarga     2
IL_0020: call       static System.Void KaosesTweaks.Patches.Patches::Prefix(TaleWorlds.CampaignSystem.Hero __instance, TaleWorlds.Core.SkillObject skill, System.Single& xpAmount)
IL_0025: Label1
IL_0025: nop
IL_0026: ldloc      0 (System.Boolean)
IL_002A: brfalse => Label0
IL_002F: // start original
IL_002F: ldarg.0
IL_0030: ldfld      TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper TaleWorlds.CampaignSystem.Hero::_heroDeveloper
IL_0035: dup
IL_0036: brtrue =>  Label2
IL_003B: pop
IL_003C: br =>      Label3
IL_0041: Label2
IL_0041: ldarg.1
IL_0042: ldarg.2
IL_0043: ldc.i4.1
IL_0044: ldc.i4.1
IL_0045: callvirt   abstract virtual System.Void TaleWorlds.CampaignSystem.CharacterDevelopment.IHeroDeveloper::AddSkillXp(TaleWorlds.Core.SkillObject skill, System.Single rawXp, System.Boolean isAffectedByFocusFactor, System.Boolean shouldNotify)
IL_004A: // end original
IL_004A: Label3
IL_004A: Label0
IL_004A: ret
DONE

### Patch: System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
### Replacement: static System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM..ctor_Patch1(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM this, TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, System.Boolean isHeroFemale, System.Boolean canCharacterUseItem, TaleWorlds.CampaignSystem.Inventory.InventoryMode usageType, TaleWorlds.Core.ItemRosterElement newItem, TaleWorlds.CampaignSystem.Inventory.InventorySide inventorySide, System.String fiveStackShortcutKeyText, System.String entireStackShortcutKeyText, System.Int32 itemCost, System.Nullable`1<TaleWorlds.Core.EquipmentIndex> itemType)
IL_0000: Local var 0: TaleWorlds.Core.EquipmentElement
IL_0000: Local var 1: System.Nullable`1<TaleWorlds.Core.EquipmentIndex>
IL_0000: Local var 2: TaleWorlds.Core.EquipmentIndex
IL_0000: // start original
IL_0000: ldarg.0
IL_0001: ldc.i4.s   -5
IL_0003: stfld      System.Int32 TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_profitType
IL_0008: ldarg.0
IL_0009: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::.ctor()
IL_000E: ldarga.s   5
IL_0010: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0015: stloc.0
IL_0016: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0018: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_001D: brtrue =>  Label0
IL_0022: br =>      Label16
IL_0027: Label0
IL_0027: ldarg.0
IL_0028: ldarg.s    7
IL_002A: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_fiveStackShortcutKeyText
IL_002F: ldarg.0
IL_0030: ldarg.s    8
IL_0032: stfld      System.String TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_entireStackShortcutKeyText
IL_0037: ldarg.0
IL_0038: ldarg.s    4
IL_003A: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryMode TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_usageType
IL_003F: ldarg.0
IL_0040: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0045: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_004A: dup
IL_004B: brtrue =>  Label1
IL_0050: pop
IL_0051: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0056: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_0(TaleWorlds.CampaignSystem.Concept c)
IL_005C: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0061: dup
IL_0062: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_0
IL_0067: Label1
IL_0067: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_006C: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_tradeGoodConceptObj
IL_0071: ldarg.0
IL_0072: call       static TaleWorlds.Library.MBReadOnlyList`1<TaleWorlds.CampaignSystem.Concept> TaleWorlds.CampaignSystem.Concept::get_All()
IL_0077: ldsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_007C: dup
IL_007D: brtrue =>  Label2
IL_0082: pop
IL_0083: ldsfld     TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9
IL_0088: ldftn      System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<.ctor>b__17_1(TaleWorlds.CampaignSystem.Concept c)
IL_008E: newobj     System.Void System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_0093: dup
IL_0094: stsfld     System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.<>c::<>9__17_1
IL_0099: Label2
IL_0099: call       static TaleWorlds.CampaignSystem.Concept System.Linq.Enumerable::SingleOrDefault(System.Collections.Generic.IEnumerable`1<TaleWorlds.CampaignSystem.Concept> source, System.Func`2<TaleWorlds.CampaignSystem.Concept, System.Boolean> predicate)
IL_009E: stfld      TaleWorlds.CampaignSystem.Concept TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_itemConceptObj
IL_00A3: ldarg.0
IL_00A4: ldarg.1
IL_00A5: stfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_00AA: ldarg.0
IL_00AB: ldarga.s   5
IL_00AD: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00B2: ldarga.s   5
IL_00B4: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00B9: newobj     System.Void TaleWorlds.Core.ItemRosterElement::.ctor(TaleWorlds.Core.EquipmentElement equipmentElement, System.Int32 amount)
IL_00BE: stfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_00C3: ldarg.0
IL_00C4: ldarg.s    9
IL_00C6: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemCost(System.Int32 value)
IL_00CB: ldarg.0
IL_00CC: ldarga.s   5
IL_00CE: call       System.Int32 TaleWorlds.Core.ItemRosterElement::get_Amount()
IL_00D3: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemCount(System.Int32 value)
IL_00D8: ldarg.0
IL_00D9: ldc.i4.1
IL_00DA: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TransactionCount(System.Int32 value)
IL_00DF: ldarg.0
IL_00E0: ldarga.s   5
IL_00E2: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_00E7: stloc.0
IL_00E8: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_00EA: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_00EF: callvirt   System.Int32 TaleWorlds.Core.ItemObject::get_Difficulty()
IL_00F4: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_ItemLevel(System.Int32 value)
IL_00F9: ldarg.0
IL_00FA: ldarg.s    6
IL_00FC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_InventorySide(TaleWorlds.CampaignSystem.Inventory.InventorySide value)
IL_0101: ldarga.s   10
IL_0103: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0108: brfalse => Label3
IL_010D: ldarg.s    10
IL_010F: stloc.1
IL_0110: ldc.i4.m1
IL_0111: stloc.2
IL_0112: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_0114: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::GetValueOrDefault()
IL_0119: ldloc.2
IL_011A: ceq
IL_011C: ldloca.s   1 (System.Nullable`1[TaleWorlds.Core.EquipmentIndex])
IL_011E: call       System.Boolean System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_HasValue()
IL_0123: and
IL_0124: brtrue =>  Label4
IL_0129: ldarg.0
IL_012A: ldarga.s   10
IL_012C: call       TaleWorlds.Core.EquipmentIndex System.Nullable`1<TaleWorlds.Core.EquipmentIndex>::get_Value()
IL_0131: stfld      TaleWorlds.Core.EquipmentIndex TaleWorlds.Core.ViewModelCollection.ItemVM::_itemType
IL_0136: Label3
IL_0136: Label4
IL_0136: ldarg.0
IL_0137: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::SetItemTypeId()
IL_013C: ldarg.0
IL_013D: ldarga.s   5
IL_013F: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0144: stloc.0
IL_0145: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0147: call       TaleWorlds.Localization.TextObject TaleWorlds.Core.EquipmentElement::GetModifiedItemName()
IL_014C: callvirt   virtual System.String System.Object::ToString()
IL_0151: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ItemDescription(System.String value)
IL_0156: ldarg.0
IL_0157: ldarga.s   5
IL_0159: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_015E: call       static System.String TaleWorlds.CampaignSystem.ViewModelCollection.CampaignUIHelper::GetItemLockStringID(TaleWorlds.Core.EquipmentElement equipmentElement)
IL_0163: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_StringId(System.String value)
IL_0168: ldarg.0
IL_0169: ldarga.s   5
IL_016B: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0170: stloc.0
IL_0171: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0173: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0178: call       static TaleWorlds.CampaignSystem.Clan TaleWorlds.CampaignSystem.Clan::get_PlayerClan()
IL_017D: dup
IL_017E: brtrue =>  Label5
IL_0183: pop
IL_0184: ldnull
IL_0185: br =>      Label6
IL_018A: Label5
IL_018A: call       virtual TaleWorlds.Core.Banner TaleWorlds.CampaignSystem.Clan::get_Banner()
IL_018F: callvirt   System.String TaleWorlds.Core.Banner::Serialize()
IL_0194: Label6
IL_0194: newobj     System.Void TaleWorlds.Core.ImageIdentifierVM::.ctor(TaleWorlds.Core.ItemObject itemObject, System.String bannerCode)
IL_0199: call       System.Void TaleWorlds.Core.ViewModelCollection.ItemVM::set_ImageIdentifier(TaleWorlds.Core.ImageIdentifierVM value)
IL_019E: ldarg.0
IL_019F: ldarga.s   5
IL_01A1: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01A6: stloc.0
IL_01A7: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01A9: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01AE: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01B3: ldc.i4     4194304
IL_01B8: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01BD: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsCivilianItem(System.Boolean value)
IL_01C2: ldarg.0
IL_01C3: ldarg.2
IL_01C4: brfalse => Label7
IL_01C9: ldarg.0
IL_01CA: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01CF: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_01D4: stloc.0
IL_01D5: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_01D7: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_01DC: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_01E1: ldc.i4     1024
IL_01E6: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_01EB: brtrue =>  Label8
IL_01F0: Label7
IL_01F0: ldarg.2
IL_01F1: brtrue =>  Label9
IL_01F6: ldarg.0
IL_01F7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_01FC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0201: stloc.0
IL_0202: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0204: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0209: callvirt   TaleWorlds.Core.ItemFlags TaleWorlds.Core.ItemObject::get_ItemFlags()
IL_020E: ldc.i4     2048
IL_0213: call       static System.Boolean TaleWorlds.Library.Extensions::HasAnyFlag(TaleWorlds.Core.ItemFlags p1, TaleWorlds.Core.ItemFlags p2)
IL_0218: br =>      Label10
IL_021D: Label9
IL_021D: ldc.i4.0
IL_021E: br =>      Label11
IL_0223: Label8
IL_0223: ldc.i4.1
IL_0224: Label10
IL_0224: Label11
IL_0224: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsGenderDifferent(System.Boolean value)
IL_0229: ldarg.0
IL_022A: ldarg.3
IL_022B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanCharacterUseItem(System.Boolean value)
IL_0230: ldarg.0
IL_0231: ldarga.s   5
IL_0233: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_0238: stloc.0
IL_0239: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_023B: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_0240: callvirt   System.Boolean TaleWorlds.Core.ItemObject::get_IsUniqueItem()
IL_0245: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsArtifact(System.Boolean value)
IL_024A: ldarg.0
IL_024B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateCanBeSlaughtered()
IL_0250: ldarg.0
IL_0251: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateHintTexts()
IL_0256: ldarg.0
IL_0257: ldarg.0
IL_0258: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_025D: dup
IL_025E: brtrue =>  Label12
IL_0263: pop
IL_0264: ldc.i4.0
IL_0265: br =>      Label13
IL_026A: Label12
IL_026A: ldarg.0
IL_026B: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_0270: ldarg.0
IL_0271: call       TaleWorlds.CampaignSystem.Inventory.InventorySide TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_InventorySide()
IL_0276: call       System.Boolean TaleWorlds.CampaignSystem.Inventory.InventoryLogic::CanDonateItem(TaleWorlds.Core.ItemRosterElement element, TaleWorlds.CampaignSystem.Inventory.InventorySide sideOfItem)
IL_027B: Label13
IL_027B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_CanBeDonated(System.Boolean value)
IL_0280: ldarg.0
IL_0281: ldarg.0
IL_0282: ldfld      TaleWorlds.CampaignSystem.Inventory.InventoryLogic TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::_inventoryLogic
IL_0287: ldarg.0
IL_0288: ldfld      TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_028D: ldarg.s    6
IL_028F: ldarg.0
IL_0290: ldftn      System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::OnTradeApplyTransaction(System.Int32 amount, System.Boolean isBuying)
IL_0296: newobj     System.Void System.Action`2<System.Int32, System.Boolean>::.ctor(System.Object object, System.IntPtr method)
IL_029B: newobj     System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::.ctor(TaleWorlds.CampaignSystem.Inventory.InventoryLogic inventoryLogic, TaleWorlds.Core.ItemRosterElement itemRoster, TaleWorlds.CampaignSystem.Inventory.InventorySide side, System.Action`2<System.Int32, System.Boolean> onApplyTransaction)
IL_02A0: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_TradeData(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM value)
IL_02A5: ldarg.0
IL_02A6: ldarg.0
IL_02A7: ldflda     TaleWorlds.Core.ItemRosterElement TaleWorlds.Core.ViewModelCollection.ItemVM::ItemRosterElement
IL_02AC: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02B1: stloc.0
IL_02B2: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02B4: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_02B9: ldc.i4.0
IL_02BA: ceq
IL_02BC: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsTransferable(System.Boolean value)
IL_02C1: ldarg.0
IL_02C2: call       TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_TradeData()
IL_02C7: ldarg.0
IL_02C8: call       System.Boolean TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::get_IsTransferable()
IL_02CD: callvirt   System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.InventoryTradeVM::set_IsTradeable(System.Boolean value)
IL_02D2: ldarg.0
IL_02D3: ldarga.s   5
IL_02D5: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02DA: stloc.0
IL_02DB: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_02DD: call       TaleWorlds.Core.ItemObject TaleWorlds.Core.EquipmentElement::get_Item()
IL_02E2: call       static TaleWorlds.CampaignSystem.Inventory.InventoryItemType TaleWorlds.CampaignSystem.Inventory.InventoryManager::GetInventoryItemTypeOfItem(TaleWorlds.Core.ItemObject item)
IL_02E7: ldc.i4     2303
IL_02EC: or
IL_02ED: ldc.i4     2303
IL_02F2: bne.un =>  Label14
IL_02F7: ldarga.s   5
IL_02F9: call       TaleWorlds.Core.EquipmentElement TaleWorlds.Core.ItemRosterElement::get_EquipmentElement()
IL_02FE: stloc.0
IL_02FF: ldloca.s   0 (TaleWorlds.Core.EquipmentElement)
IL_0301: call       System.Boolean TaleWorlds.Core.EquipmentElement::get_IsQuestItem()
IL_0306: ldc.i4.0
IL_0307: ceq
IL_0309: br =>      Label15
IL_030E: Label14
IL_030E: ldc.i4.0
IL_030F: Label15
IL_030F: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::set_IsEquipableItem(System.Boolean value)
IL_0314: ldarg.0
IL_0315: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateIsNew()
IL_031A: ldarg.0
IL_031B: call       System.Void TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM::UpdateProfitType()
IL_0320: // end original
IL_0320: Label16
IL_0320: ldarg.0
IL_0321: call       static System.Void KaosesTweaks.Patches.SPItemVMPatch::Postfix(TaleWorlds.CampaignSystem.ViewModelCollection.Inventory.SPItemVM __instance)
IL_0326: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch3(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ldarg.0
IL_000D: call       static System.Void Bannerlord.Harmony.SubModule::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0012: ret
DONE

### Patch: virtual System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::OnBeforeInitialModuleScreenSetAsRoot()
### Replacement: static System.Void TaleWorlds.MountAndBlade.MBSubModuleBase::TaleWorlds.MountAndBlade.MBSubModuleBase.OnBeforeInitialModuleScreenSetAsRoot_Patch2(TaleWorlds.MountAndBlade.MBSubModuleBase this)
IL_0000: // start original
IL_0000: // end original
IL_0000: ldarg.0
IL_0001: call       static System.Void Bannerlord.ButterLib.SubModuleWrappers2.Patches.MBSubModuleBasePatch::OnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_0006: ldarg.0
IL_0007: call       static System.Void Bannerlord.ButterLib.DelayedSubModule.DelayedSubModuleManager::BaseOnBeforeInitialModuleScreenSetAsRootPostfix(TaleWorlds.MountAndBlade.MBSubModuleBase __instance)
IL_000C: ret
DONE

